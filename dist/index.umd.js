(function(un,ir){typeof exports=="object"&&typeof module<"u"?ir(exports):typeof define=="function"&&define.amd?define(["exports"],ir):(un=typeof globalThis<"u"?globalThis:un||self,ir(un["@walletconnect/ethereum-provider"]={}))})(this,function(un){"use strict";var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ci(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var lr={exports:{}},us=typeof Reflect=="object"?Reflect:null,Ad=us&&typeof us.apply=="function"?us.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},wa;us&&typeof us.ownKeys=="function"?wa=us.ownKeys:Object.getOwnPropertySymbols?wa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:wa=function(e){return Object.getOwnPropertyNames(e)};function Cy(r){console&&console.warn&&console.warn(r)}var Pd=Number.isNaN||function(e){return e!==e};function pt(){pt.init.call(this)}lr.exports=pt,lr.exports.once=Py,pt.EventEmitter=pt,pt.prototype._events=void 0,pt.prototype._eventsCount=0,pt.prototype._maxListeners=void 0;var Td=10;function ba(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(pt,"defaultMaxListeners",{enumerable:!0,get:function(){return Td},set:function(r){if(typeof r!="number"||r<0||Pd(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Td=r}}),pt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},pt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Pd(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Rd(r){return r._maxListeners===void 0?pt.defaultMaxListeners:r._maxListeners}pt.prototype.getMaxListeners=function(){return Rd(this)},pt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")Ad(f,this,t);else for(var p=f.length,m=jd(f,p),n=0;n<p;++n)Ad(m[n],this,t);return!0};function Nd(r,e,t,n){var i,a,c;if(ba(t),a=r._events,a===void 0?(a=r._events=Object.create(null),r._eventsCount=0):(a.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),a=r._events),c=a[e]),c===void 0)c=a[e]=t,++r._eventsCount;else if(typeof c=="function"?c=a[e]=n?[t,c]:[c,t]:n?c.unshift(t):c.push(t),i=Rd(r),i>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=c.length,Cy(u)}return r}pt.prototype.addListener=function(e,t){return Nd(this,e,t,!1)},pt.prototype.on=pt.prototype.addListener,pt.prototype.prependListener=function(e,t){return Nd(this,e,t,!0)};function Iy(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ld(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=Iy.bind(n);return i.listener=t,n.wrapFn=i,i}pt.prototype.once=function(e,t){return ba(t),this.on(e,Ld(this,e,t)),this},pt.prototype.prependOnceListener=function(e,t){return ba(t),this.prependListener(e,Ld(this,e,t)),this},pt.prototype.removeListener=function(e,t){var n,i,a,c,u;if(ba(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){u=n[c].listener,a=c;break}if(a<0)return this;a===0?n.shift():$y(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this},pt.prototype.off=pt.prototype.removeListener,pt.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),c;for(i=0;i<a.length;++i)c=a[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function Md(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Ay(i):jd(i,i.length)}pt.prototype.listeners=function(e){return Md(this,e,!0)},pt.prototype.rawListeners=function(e){return Md(this,e,!1)},pt.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Ud.call(r,e)},pt.prototype.listenerCount=Ud;function Ud(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}pt.prototype.eventNames=function(){return this._eventsCount>0?wa(this._events):[]};function jd(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function $y(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function Ay(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function Py(r,e){return new Promise(function(t,n){function i(c){r.removeListener(e,a),n(c)}function a(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}Fd(r,e,a,{once:!0}),e!=="error"&&Ty(r,i,{once:!0})})}function Ty(r,e,t){typeof r.on=="function"&&Fd(r,"error",e,t)}function Fd(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(a){n.once&&r.removeEventListener(e,i),t(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Cl={},_a={},Me={},Bd={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(u,f){var p=u>>>16&65535,m=u&65535,D=f>>>16&65535,y=f&65535;return m*y+(p*y+m*D<<16>>>0)|0}r.mul=Math.imul||e;function t(u,f){return u+f|0}r.add=t;function n(u,f){return u-f|0}r.sub=n;function i(u,f){return u<<f|u>>>32-f}r.rotl=i;function a(u,f){return u<<32-f|u>>>f}r.rotr=a;function c(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}r.isInteger=Number.isInteger||c,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(u){return r.isInteger(u)&&u>=-r.MAX_SAFE_INTEGER&&u<=r.MAX_SAFE_INTEGER}})(Bd),Object.defineProperty(Me,"__esModule",{value:!0});var kd=Bd;function Ry(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Me.readInt16BE=Ry;function Ny(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Me.readUint16BE=Ny;function Ly(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Me.readInt16LE=Ly;function My(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Me.readUint16LE=My;function Hd(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Me.writeUint16BE=Hd,Me.writeInt16BE=Hd;function zd(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Me.writeUint16LE=zd,Me.writeInt16LE=zd;function Il(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Me.readInt32BE=Il;function $l(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Me.readUint32BE=$l;function Al(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Me.readInt32LE=Al;function Pl(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Me.readUint32LE=Pl;function Ea(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Me.writeUint32BE=Ea,Me.writeInt32BE=Ea;function xa(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Me.writeUint32LE=xa,Me.writeInt32LE=xa;function Uy(r,e){e===void 0&&(e=0);var t=Il(r,e),n=Il(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Me.readInt64BE=Uy;function jy(r,e){e===void 0&&(e=0);var t=$l(r,e),n=$l(r,e+4);return t*4294967296+n}Me.readUint64BE=jy;function Fy(r,e){e===void 0&&(e=0);var t=Al(r,e),n=Al(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Me.readInt64LE=Fy;function By(r,e){e===void 0&&(e=0);var t=Pl(r,e),n=Pl(r,e+4);return n*4294967296+t}Me.readUint64LE=By;function qd(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ea(r/4294967296>>>0,e,t),Ea(r>>>0,e,t+4),e}Me.writeUint64BE=qd,Me.writeInt64BE=qd;function Wd(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),xa(r>>>0,e,t),xa(r/4294967296>>>0,e,t+4),e}Me.writeUint64LE=Wd,Me.writeInt64LE=Wd;function ky(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,a=r/8+t-1;a>=t;a--)n+=e[a]*i,i*=256;return n}Me.readUintBE=ky;function Hy(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,a=t;a<t+r/8;a++)n+=e[a]*i,i*=256;return n}Me.readUintLE=Hy;function zy(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!kd.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=r/8+n-1;a>=n;a--)t[a]=e/i&255,i*=256;return t}Me.writeUintBE=zy;function qy(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!kd.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+r/8;a++)t[a]=e/i&255,i*=256;return t}Me.writeUintLE=qy;function Wy(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Me.readFloat32BE=Wy;function Vy(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Me.readFloat32LE=Vy;function Ky(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Me.readFloat64BE=Ky;function Gy(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Me.readFloat64LE=Gy;function Yy(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Me.writeFloat32BE=Yy;function Zy(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Me.writeFloat32LE=Zy;function Jy(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Me.writeFloat64BE=Jy;function Qy(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Me.writeFloat64LE=Qy;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});function Xy(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Hr.wipe=Xy,Object.defineProperty(_a,"__esModule",{value:!0});var dr=Me,Tl=Hr,ew=20;function tw(r,e,t){for(var n=1634760805,i=857760878,a=2036477234,c=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],m=t[15]<<24|t[14]<<16|t[13]<<8|t[12],D=t[19]<<24|t[18]<<16|t[17]<<8|t[16],y=t[23]<<24|t[22]<<16|t[21]<<8|t[20],S=t[27]<<24|t[26]<<16|t[25]<<8|t[24],C=t[31]<<24|t[30]<<16|t[29]<<8|t[28],N=e[3]<<24|e[2]<<16|e[1]<<8|e[0],U=e[7]<<24|e[6]<<16|e[5]<<8|e[4],H=e[11]<<24|e[10]<<16|e[9]<<8|e[8],$=e[15]<<24|e[14]<<16|e[13]<<8|e[12],P=n,O=i,A=a,E=c,h=u,b=f,K=p,W=m,V=D,J=y,ne=S,w=C,T=N,te=U,Q=H,Y=$,Z=0;Z<ew;Z+=2)P=P+h|0,T^=P,T=T>>>32-16|T<<16,V=V+T|0,h^=V,h=h>>>32-12|h<<12,O=O+b|0,te^=O,te=te>>>32-16|te<<16,J=J+te|0,b^=J,b=b>>>32-12|b<<12,A=A+K|0,Q^=A,Q=Q>>>32-16|Q<<16,ne=ne+Q|0,K^=ne,K=K>>>32-12|K<<12,E=E+W|0,Y^=E,Y=Y>>>32-16|Y<<16,w=w+Y|0,W^=w,W=W>>>32-12|W<<12,A=A+K|0,Q^=A,Q=Q>>>32-8|Q<<8,ne=ne+Q|0,K^=ne,K=K>>>32-7|K<<7,E=E+W|0,Y^=E,Y=Y>>>32-8|Y<<8,w=w+Y|0,W^=w,W=W>>>32-7|W<<7,O=O+b|0,te^=O,te=te>>>32-8|te<<8,J=J+te|0,b^=J,b=b>>>32-7|b<<7,P=P+h|0,T^=P,T=T>>>32-8|T<<8,V=V+T|0,h^=V,h=h>>>32-7|h<<7,P=P+b|0,Y^=P,Y=Y>>>32-16|Y<<16,ne=ne+Y|0,b^=ne,b=b>>>32-12|b<<12,O=O+K|0,T^=O,T=T>>>32-16|T<<16,w=w+T|0,K^=w,K=K>>>32-12|K<<12,A=A+W|0,te^=A,te=te>>>32-16|te<<16,V=V+te|0,W^=V,W=W>>>32-12|W<<12,E=E+h|0,Q^=E,Q=Q>>>32-16|Q<<16,J=J+Q|0,h^=J,h=h>>>32-12|h<<12,A=A+W|0,te^=A,te=te>>>32-8|te<<8,V=V+te|0,W^=V,W=W>>>32-7|W<<7,E=E+h|0,Q^=E,Q=Q>>>32-8|Q<<8,J=J+Q|0,h^=J,h=h>>>32-7|h<<7,O=O+K|0,T^=O,T=T>>>32-8|T<<8,w=w+T|0,K^=w,K=K>>>32-7|K<<7,P=P+b|0,Y^=P,Y=Y>>>32-8|Y<<8,ne=ne+Y|0,b^=ne,b=b>>>32-7|b<<7;dr.writeUint32LE(P+n|0,r,0),dr.writeUint32LE(O+i|0,r,4),dr.writeUint32LE(A+a|0,r,8),dr.writeUint32LE(E+c|0,r,12),dr.writeUint32LE(h+u|0,r,16),dr.writeUint32LE(b+f|0,r,20),dr.writeUint32LE(K+p|0,r,24),dr.writeUint32LE(W+m|0,r,28),dr.writeUint32LE(V+D|0,r,32),dr.writeUint32LE(J+y|0,r,36),dr.writeUint32LE(ne+S|0,r,40),dr.writeUint32LE(w+C|0,r,44),dr.writeUint32LE(T+N|0,r,48),dr.writeUint32LE(te+U|0,r,52),dr.writeUint32LE(Q+H|0,r,56),dr.writeUint32LE(Y+$|0,r,60)}function Vd(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var a,c;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),c=a.length-e.length,a.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,c=i}for(var u=new Uint8Array(64),f=0;f<t.length;f+=64){tw(u,a,r);for(var p=f;p<f+64&&p<t.length;p++)n[p]=t[p]^u[p-f];nw(a,0,c)}return Tl.wipe(u),i===0&&Tl.wipe(a),n}_a.streamXOR=Vd;function rw(r,e,t,n){return n===void 0&&(n=0),Tl.wipe(t),Vd(r,e,t,t,n)}_a.stream=rw;function nw(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Kd={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});function iw(r,e,t){return~(r-1)&e|r-1&t}Xn.select=iw;function sw(r,e){return(r|0)-(e|0)-1>>>31&1}Xn.lessOrEqual=sw;function Gd(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}Xn.compare=Gd;function ow(r,e){return r.length===0||e.length===0?!1:Gd(r,e)!==0}Xn.equal=ow,function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Xn,t=Hr;r.DIGEST_LENGTH=16;var n=function(){function c(u){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=u[0]|u[1]<<8;this._r[0]=f&8191;var p=u[2]|u[3]<<8;this._r[1]=(f>>>13|p<<3)&8191;var m=u[4]|u[5]<<8;this._r[2]=(p>>>10|m<<6)&7939;var D=u[6]|u[7]<<8;this._r[3]=(m>>>7|D<<9)&8191;var y=u[8]|u[9]<<8;this._r[4]=(D>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var S=u[10]|u[11]<<8;this._r[6]=(y>>>14|S<<2)&8191;var C=u[12]|u[13]<<8;this._r[7]=(S>>>11|C<<5)&8065;var N=u[14]|u[15]<<8;this._r[8]=(C>>>8|N<<8)&8191,this._r[9]=N>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return c.prototype._blocks=function(u,f,p){for(var m=this._fin?0:2048,D=this._h[0],y=this._h[1],S=this._h[2],C=this._h[3],N=this._h[4],U=this._h[5],H=this._h[6],$=this._h[7],P=this._h[8],O=this._h[9],A=this._r[0],E=this._r[1],h=this._r[2],b=this._r[3],K=this._r[4],W=this._r[5],V=this._r[6],J=this._r[7],ne=this._r[8],w=this._r[9];p>=16;){var T=u[f+0]|u[f+1]<<8;D+=T&8191;var te=u[f+2]|u[f+3]<<8;y+=(T>>>13|te<<3)&8191;var Q=u[f+4]|u[f+5]<<8;S+=(te>>>10|Q<<6)&8191;var Y=u[f+6]|u[f+7]<<8;C+=(Q>>>7|Y<<9)&8191;var Z=u[f+8]|u[f+9]<<8;N+=(Y>>>4|Z<<12)&8191,U+=Z>>>1&8191;var ee=u[f+10]|u[f+11]<<8;H+=(Z>>>14|ee<<2)&8191;var oe=u[f+12]|u[f+13]<<8;$+=(ee>>>11|oe<<5)&8191;var Ee=u[f+14]|u[f+15]<<8;P+=(oe>>>8|Ee<<8)&8191,O+=Ee>>>5|m;var ce=0,xe=ce;xe+=D*A,xe+=y*(5*w),xe+=S*(5*ne),xe+=C*(5*J),xe+=N*(5*V),ce=xe>>>13,xe&=8191,xe+=U*(5*W),xe+=H*(5*K),xe+=$*(5*b),xe+=P*(5*h),xe+=O*(5*E),ce+=xe>>>13,xe&=8191;var de=ce;de+=D*E,de+=y*A,de+=S*(5*w),de+=C*(5*ne),de+=N*(5*J),ce=de>>>13,de&=8191,de+=U*(5*V),de+=H*(5*W),de+=$*(5*K),de+=P*(5*b),de+=O*(5*h),ce+=de>>>13,de&=8191;var be=ce;be+=D*h,be+=y*E,be+=S*A,be+=C*(5*w),be+=N*(5*ne),ce=be>>>13,be&=8191,be+=U*(5*J),be+=H*(5*V),be+=$*(5*W),be+=P*(5*K),be+=O*(5*b),ce+=be>>>13,be&=8191;var q=ce;q+=D*b,q+=y*h,q+=S*E,q+=C*A,q+=N*(5*w),ce=q>>>13,q&=8191,q+=U*(5*ne),q+=H*(5*J),q+=$*(5*V),q+=P*(5*W),q+=O*(5*K),ce+=q>>>13,q&=8191;var z=ce;z+=D*K,z+=y*b,z+=S*h,z+=C*E,z+=N*A,ce=z>>>13,z&=8191,z+=U*(5*w),z+=H*(5*ne),z+=$*(5*J),z+=P*(5*V),z+=O*(5*W),ce+=z>>>13,z&=8191;var j=ce;j+=D*W,j+=y*K,j+=S*b,j+=C*h,j+=N*E,ce=j>>>13,j&=8191,j+=U*A,j+=H*(5*w),j+=$*(5*ne),j+=P*(5*J),j+=O*(5*V),ce+=j>>>13,j&=8191;var g=ce;g+=D*V,g+=y*W,g+=S*K,g+=C*b,g+=N*h,ce=g>>>13,g&=8191,g+=U*E,g+=H*A,g+=$*(5*w),g+=P*(5*ne),g+=O*(5*J),ce+=g>>>13,g&=8191;var L=ce;L+=D*J,L+=y*V,L+=S*W,L+=C*K,L+=N*b,ce=L>>>13,L&=8191,L+=U*h,L+=H*E,L+=$*A,L+=P*(5*w),L+=O*(5*ne),ce+=L>>>13,L&=8191;var le=ce;le+=D*ne,le+=y*J,le+=S*V,le+=C*W,le+=N*K,ce=le>>>13,le&=8191,le+=U*b,le+=H*h,le+=$*E,le+=P*A,le+=O*(5*w),ce+=le>>>13,le&=8191;var pe=ce;pe+=D*w,pe+=y*ne,pe+=S*J,pe+=C*V,pe+=N*W,ce=pe>>>13,pe&=8191,pe+=U*K,pe+=H*b,pe+=$*h,pe+=P*E,pe+=O*A,ce+=pe>>>13,pe&=8191,ce=(ce<<2)+ce|0,ce=ce+xe|0,xe=ce&8191,ce=ce>>>13,de+=ce,D=xe,y=de,S=be,C=q,N=z,U=j,H=g,$=L,P=le,O=pe,f+=16,p-=16}this._h[0]=D,this._h[1]=y,this._h[2]=S,this._h[3]=C,this._h[4]=N,this._h[5]=U,this._h[6]=H,this._h[7]=$,this._h[8]=P,this._h[9]=O},c.prototype.finish=function(u,f){f===void 0&&(f=0);var p=new Uint16Array(10),m,D,y,S;if(this._leftover){for(S=this._leftover,this._buffer[S++]=1;S<16;S++)this._buffer[S]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(m=this._h[1]>>>13,this._h[1]&=8191,S=2;S<10;S++)this._h[S]+=m,m=this._h[S]>>>13,this._h[S]&=8191;for(this._h[0]+=m*5,m=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=m,m=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=m,p[0]=this._h[0]+5,m=p[0]>>>13,p[0]&=8191,S=1;S<10;S++)p[S]=this._h[S]+m,m=p[S]>>>13,p[S]&=8191;for(p[9]-=8192,D=(m^1)-1,S=0;S<10;S++)p[S]&=D;for(D=~D,S=0;S<10;S++)this._h[S]=this._h[S]&D|p[S];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,S=1;S<8;S++)y=(this._h[S]+this._pad[S]|0)+(y>>>16)|0,this._h[S]=y&65535;return u[f+0]=this._h[0]>>>0,u[f+1]=this._h[0]>>>8,u[f+2]=this._h[1]>>>0,u[f+3]=this._h[1]>>>8,u[f+4]=this._h[2]>>>0,u[f+5]=this._h[2]>>>8,u[f+6]=this._h[3]>>>0,u[f+7]=this._h[3]>>>8,u[f+8]=this._h[4]>>>0,u[f+9]=this._h[4]>>>8,u[f+10]=this._h[5]>>>0,u[f+11]=this._h[5]>>>8,u[f+12]=this._h[6]>>>0,u[f+13]=this._h[6]>>>8,u[f+14]=this._h[7]>>>0,u[f+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(u){var f=0,p=u.length,m;if(this._leftover){m=16-this._leftover,m>p&&(m=p);for(var D=0;D<m;D++)this._buffer[this._leftover+D]=u[f+D];if(p-=m,f+=m,this._leftover+=m,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(p>=16&&(m=p-p%16,this._blocks(u,f,m),f+=m,p-=m),p){for(var D=0;D<p;D++)this._buffer[this._leftover+D]=u[f+D];this._leftover+=p}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},c.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();r.Poly1305=n;function i(c,u){var f=new n(c);f.update(u);var p=f.digest();return f.clean(),p}r.oneTimeAuth=i;function a(c,u){return c.length!==r.DIGEST_LENGTH||u.length!==r.DIGEST_LENGTH?!1:e.equal(c,u)}r.equal=a}(Kd),function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=_a,t=Kd,n=Hr,i=Me,a=Xn;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function f(p){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,p.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(p)}return f.prototype.seal=function(p,m,D,y){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var S=new Uint8Array(16);S.set(p,S.length-p.length);var C=new Uint8Array(32);e.stream(this._key,S,C,4);var N=m.length+this.tagLength,U;if(y){if(y.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");U=y}else U=new Uint8Array(N);return e.streamXOR(this._key,S,m,U,4),this._authenticate(U.subarray(U.length-this.tagLength,U.length),C,U.subarray(0,U.length-this.tagLength),D),n.wipe(S),U},f.prototype.open=function(p,m,D,y){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(m.length<this.tagLength)return null;var S=new Uint8Array(16);S.set(p,S.length-p.length);var C=new Uint8Array(32);e.stream(this._key,S,C,4);var N=new Uint8Array(this.tagLength);if(this._authenticate(N,C,m.subarray(0,m.length-this.tagLength),D),!a.equal(N,m.subarray(m.length-this.tagLength,m.length)))return null;var U=m.length-this.tagLength,H;if(y){if(y.length!==U)throw new Error("ChaCha20Poly1305: incorrect destination length");H=y}else H=new Uint8Array(U);return e.streamXOR(this._key,S,m.subarray(0,m.length-this.tagLength),H,4),n.wipe(S),H},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(p,m,D,y){var S=new t.Poly1305(m);y&&(S.update(y),y.length%16>0&&S.update(c.subarray(y.length%16))),S.update(D),D.length%16>0&&S.update(c.subarray(D.length%16));var C=new Uint8Array(8);y&&i.writeUint64LE(y.length,C),S.update(C),i.writeUint64LE(D.length,C),S.update(C);for(var N=S.digest(),U=0;U<N.length;U++)p[U]=N[U];S.clean(),n.wipe(N),n.wipe(C)},f}();r.ChaCha20Poly1305=u}(Cl);var Yd={},no={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});function aw(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}Rl.isSerializableHash=aw,Object.defineProperty(no,"__esModule",{value:!0});var wn=Rl,cw=Xn,lw=Hr,Zd=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),wn.isSerializableHash(this._inner)&&wn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),lw.wipe(n)}return r.prototype.reset=function(){if(!wn.isSerializableHash(this._inner)||!wn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){wn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),wn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!wn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!wn.isSerializableHash(this._inner)||!wn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!wn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();no.HMAC=Zd;function uw(r,e,t){var n=new Zd(r,e);n.update(t);var i=n.digest();return n.clean(),i}no.hmac=uw,no.equal=cw.equal,Object.defineProperty(Yd,"__esModule",{value:!0});var Jd=no,Qd=Hr,hw=function(){function r(e,t,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var a=Jd.hmac(this._hash,n,t);this._hmac=new Jd.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Qd.wipe(this._buffer),Qd.wipe(this._counter),this._bufpos=0},r}(),fw=Yd.HKDF=hw,hs={},Sa={},Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.BrowserRandomSource=void 0;const Xd=65536;class dw{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=Xd)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,Xd)));return t}}Da.BrowserRandomSource=dw;function pw(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Oa={},gw={},mw=Object.freeze({__proto__:null,default:gw}),vw=Ci(mw);Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.NodeRandomSource=void 0;const yw=Hr;class ww{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof pw<"u"){const e=vw;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,yw.wipe)(t),n}}Oa.NodeRandomSource=ww,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.SystemRandomSource=void 0;const bw=Da,_w=Oa;class Ew{constructor(){if(this.isAvailable=!1,this.name="",this._source=new bw.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new _w.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Sa.SystemRandomSource=Ew,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Sa,t=Me,n=Hr;r.defaultRandomSource=new e.SystemRandomSource;function i(p,m=r.defaultRandomSource){return m.randomBytes(p)}r.randomBytes=i;function a(p=r.defaultRandomSource){const m=i(4,p),D=(0,t.readUint32LE)(m);return(0,n.wipe)(m),D}r.randomUint32=a;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(p,m=c,D=r.defaultRandomSource){if(m.length<2)throw new Error("randomString charset is too short");if(m.length>256)throw new Error("randomString charset is too long");let y="";const S=m.length,C=256-256%S;for(;p>0;){const N=i(Math.ceil(p*256/C),D);for(let U=0;U<N.length&&p>0;U++){const H=N[U];H<C&&(y+=m.charAt(H%S),p--)}(0,n.wipe)(N)}return y}r.randomString=u;function f(p,m=c,D=r.defaultRandomSource){const y=Math.ceil(p/(Math.log(m.length)/Math.LN2));return u(y,m,D)}r.randomStringForEntropy=f}(hs);var Ca={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Me,t=Hr;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},u.prototype.update=function(f,p){if(p===void 0&&(p=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var m=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&p>0;)this._buffer[this._bufferLength++]=f[m++],p--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(m=a(this._temp,this._state,f,m,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=f[m++],p--;return this},u.prototype.finish=function(f){if(!this._finished){var p=this._bytesHashed,m=this._bufferLength,D=p/536870912|0,y=p<<3,S=p%64<56?64:128;this._buffer[m]=128;for(var C=m+1;C<S-8;C++)this._buffer[C]=0;e.writeUint32BE(D,this._buffer,S-8),e.writeUint32BE(y,this._buffer,S-4),a(this._temp,this._state,this._buffer,0,S),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)e.writeUint32BE(this._state[C],f,C*4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){t.wipe(f.state),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();r.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(u,f,p,m,D){for(;D>=64;){for(var y=f[0],S=f[1],C=f[2],N=f[3],U=f[4],H=f[5],$=f[6],P=f[7],O=0;O<16;O++){var A=m+O*4;u[O]=e.readUint32BE(p,A)}for(var O=16;O<64;O++){var E=u[O-2],h=(E>>>17|E<<32-17)^(E>>>19|E<<32-19)^E>>>10;E=u[O-15];var b=(E>>>7|E<<32-7)^(E>>>18|E<<32-18)^E>>>3;u[O]=(h+u[O-7]|0)+(b+u[O-16]|0)}for(var O=0;O<64;O++){var h=(((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&H^~U&$)|0)+(P+(i[O]+u[O]|0)|0)|0,b=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&S^y&C^S&C)|0;P=$,$=H,H=U,U=N+h|0,N=C,C=S,S=y,y=h+b|0}f[0]+=y,f[1]+=S,f[2]+=C,f[3]+=N,f[4]+=U,f[5]+=H,f[6]+=$,f[7]+=P,m+=64,D-=64}return m}function c(u){var f=new n;f.update(u);var p=f.digest();return f.clean(),p}r.hash=c})(Ca);var Nl={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=hs,t=Hr;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n(O){const A=new Float64Array(16);if(O)for(let E=0;E<O.length;E++)A[E]=O[E];return A}const i=new Uint8Array(32);i[0]=9;const a=n([56129,1]);function c(O){let A=1;for(let E=0;E<16;E++){let h=O[E]+A+65535;A=Math.floor(h/65536),O[E]=h-A*65536}O[0]+=A-1+37*(A-1)}function u(O,A,E){const h=~(E-1);for(let b=0;b<16;b++){const K=h&(O[b]^A[b]);O[b]^=K,A[b]^=K}}function f(O,A){const E=n(),h=n();for(let b=0;b<16;b++)h[b]=A[b];c(h),c(h),c(h);for(let b=0;b<2;b++){E[0]=h[0]-65517;for(let W=1;W<15;W++)E[W]=h[W]-65535-(E[W-1]>>16&1),E[W-1]&=65535;E[15]=h[15]-32767-(E[14]>>16&1);const K=E[15]>>16&1;E[14]&=65535,u(h,E,1-K)}for(let b=0;b<16;b++)O[2*b]=h[b]&255,O[2*b+1]=h[b]>>8}function p(O,A){for(let E=0;E<16;E++)O[E]=A[2*E]+(A[2*E+1]<<8);O[15]&=32767}function m(O,A,E){for(let h=0;h<16;h++)O[h]=A[h]+E[h]}function D(O,A,E){for(let h=0;h<16;h++)O[h]=A[h]-E[h]}function y(O,A,E){let h,b,K=0,W=0,V=0,J=0,ne=0,w=0,T=0,te=0,Q=0,Y=0,Z=0,ee=0,oe=0,Ee=0,ce=0,xe=0,de=0,be=0,q=0,z=0,j=0,g=0,L=0,le=0,pe=0,Ce=0,Ve=0,Ze=0,ke=0,St=0,Dt=0,ze=E[0],Ie=E[1],Ue=E[2],je=E[3],qe=E[4],Ae=E[5],Fe=E[6],Oe=E[7],Te=E[8],Ke=E[9],$e=E[10],Je=E[11],Xe=E[12],at=E[13],ct=E[14],nt=E[15];h=A[0],K+=h*ze,W+=h*Ie,V+=h*Ue,J+=h*je,ne+=h*qe,w+=h*Ae,T+=h*Fe,te+=h*Oe,Q+=h*Te,Y+=h*Ke,Z+=h*$e,ee+=h*Je,oe+=h*Xe,Ee+=h*at,ce+=h*ct,xe+=h*nt,h=A[1],W+=h*ze,V+=h*Ie,J+=h*Ue,ne+=h*je,w+=h*qe,T+=h*Ae,te+=h*Fe,Q+=h*Oe,Y+=h*Te,Z+=h*Ke,ee+=h*$e,oe+=h*Je,Ee+=h*Xe,ce+=h*at,xe+=h*ct,de+=h*nt,h=A[2],V+=h*ze,J+=h*Ie,ne+=h*Ue,w+=h*je,T+=h*qe,te+=h*Ae,Q+=h*Fe,Y+=h*Oe,Z+=h*Te,ee+=h*Ke,oe+=h*$e,Ee+=h*Je,ce+=h*Xe,xe+=h*at,de+=h*ct,be+=h*nt,h=A[3],J+=h*ze,ne+=h*Ie,w+=h*Ue,T+=h*je,te+=h*qe,Q+=h*Ae,Y+=h*Fe,Z+=h*Oe,ee+=h*Te,oe+=h*Ke,Ee+=h*$e,ce+=h*Je,xe+=h*Xe,de+=h*at,be+=h*ct,q+=h*nt,h=A[4],ne+=h*ze,w+=h*Ie,T+=h*Ue,te+=h*je,Q+=h*qe,Y+=h*Ae,Z+=h*Fe,ee+=h*Oe,oe+=h*Te,Ee+=h*Ke,ce+=h*$e,xe+=h*Je,de+=h*Xe,be+=h*at,q+=h*ct,z+=h*nt,h=A[5],w+=h*ze,T+=h*Ie,te+=h*Ue,Q+=h*je,Y+=h*qe,Z+=h*Ae,ee+=h*Fe,oe+=h*Oe,Ee+=h*Te,ce+=h*Ke,xe+=h*$e,de+=h*Je,be+=h*Xe,q+=h*at,z+=h*ct,j+=h*nt,h=A[6],T+=h*ze,te+=h*Ie,Q+=h*Ue,Y+=h*je,Z+=h*qe,ee+=h*Ae,oe+=h*Fe,Ee+=h*Oe,ce+=h*Te,xe+=h*Ke,de+=h*$e,be+=h*Je,q+=h*Xe,z+=h*at,j+=h*ct,g+=h*nt,h=A[7],te+=h*ze,Q+=h*Ie,Y+=h*Ue,Z+=h*je,ee+=h*qe,oe+=h*Ae,Ee+=h*Fe,ce+=h*Oe,xe+=h*Te,de+=h*Ke,be+=h*$e,q+=h*Je,z+=h*Xe,j+=h*at,g+=h*ct,L+=h*nt,h=A[8],Q+=h*ze,Y+=h*Ie,Z+=h*Ue,ee+=h*je,oe+=h*qe,Ee+=h*Ae,ce+=h*Fe,xe+=h*Oe,de+=h*Te,be+=h*Ke,q+=h*$e,z+=h*Je,j+=h*Xe,g+=h*at,L+=h*ct,le+=h*nt,h=A[9],Y+=h*ze,Z+=h*Ie,ee+=h*Ue,oe+=h*je,Ee+=h*qe,ce+=h*Ae,xe+=h*Fe,de+=h*Oe,be+=h*Te,q+=h*Ke,z+=h*$e,j+=h*Je,g+=h*Xe,L+=h*at,le+=h*ct,pe+=h*nt,h=A[10],Z+=h*ze,ee+=h*Ie,oe+=h*Ue,Ee+=h*je,ce+=h*qe,xe+=h*Ae,de+=h*Fe,be+=h*Oe,q+=h*Te,z+=h*Ke,j+=h*$e,g+=h*Je,L+=h*Xe,le+=h*at,pe+=h*ct,Ce+=h*nt,h=A[11],ee+=h*ze,oe+=h*Ie,Ee+=h*Ue,ce+=h*je,xe+=h*qe,de+=h*Ae,be+=h*Fe,q+=h*Oe,z+=h*Te,j+=h*Ke,g+=h*$e,L+=h*Je,le+=h*Xe,pe+=h*at,Ce+=h*ct,Ve+=h*nt,h=A[12],oe+=h*ze,Ee+=h*Ie,ce+=h*Ue,xe+=h*je,de+=h*qe,be+=h*Ae,q+=h*Fe,z+=h*Oe,j+=h*Te,g+=h*Ke,L+=h*$e,le+=h*Je,pe+=h*Xe,Ce+=h*at,Ve+=h*ct,Ze+=h*nt,h=A[13],Ee+=h*ze,ce+=h*Ie,xe+=h*Ue,de+=h*je,be+=h*qe,q+=h*Ae,z+=h*Fe,j+=h*Oe,g+=h*Te,L+=h*Ke,le+=h*$e,pe+=h*Je,Ce+=h*Xe,Ve+=h*at,Ze+=h*ct,ke+=h*nt,h=A[14],ce+=h*ze,xe+=h*Ie,de+=h*Ue,be+=h*je,q+=h*qe,z+=h*Ae,j+=h*Fe,g+=h*Oe,L+=h*Te,le+=h*Ke,pe+=h*$e,Ce+=h*Je,Ve+=h*Xe,Ze+=h*at,ke+=h*ct,St+=h*nt,h=A[15],xe+=h*ze,de+=h*Ie,be+=h*Ue,q+=h*je,z+=h*qe,j+=h*Ae,g+=h*Fe,L+=h*Oe,le+=h*Te,pe+=h*Ke,Ce+=h*$e,Ve+=h*Je,Ze+=h*Xe,ke+=h*at,St+=h*ct,Dt+=h*nt,K+=38*de,W+=38*be,V+=38*q,J+=38*z,ne+=38*j,w+=38*g,T+=38*L,te+=38*le,Q+=38*pe,Y+=38*Ce,Z+=38*Ve,ee+=38*Ze,oe+=38*ke,Ee+=38*St,ce+=38*Dt,b=1,h=K+b+65535,b=Math.floor(h/65536),K=h-b*65536,h=W+b+65535,b=Math.floor(h/65536),W=h-b*65536,h=V+b+65535,b=Math.floor(h/65536),V=h-b*65536,h=J+b+65535,b=Math.floor(h/65536),J=h-b*65536,h=ne+b+65535,b=Math.floor(h/65536),ne=h-b*65536,h=w+b+65535,b=Math.floor(h/65536),w=h-b*65536,h=T+b+65535,b=Math.floor(h/65536),T=h-b*65536,h=te+b+65535,b=Math.floor(h/65536),te=h-b*65536,h=Q+b+65535,b=Math.floor(h/65536),Q=h-b*65536,h=Y+b+65535,b=Math.floor(h/65536),Y=h-b*65536,h=Z+b+65535,b=Math.floor(h/65536),Z=h-b*65536,h=ee+b+65535,b=Math.floor(h/65536),ee=h-b*65536,h=oe+b+65535,b=Math.floor(h/65536),oe=h-b*65536,h=Ee+b+65535,b=Math.floor(h/65536),Ee=h-b*65536,h=ce+b+65535,b=Math.floor(h/65536),ce=h-b*65536,h=xe+b+65535,b=Math.floor(h/65536),xe=h-b*65536,K+=b-1+37*(b-1),b=1,h=K+b+65535,b=Math.floor(h/65536),K=h-b*65536,h=W+b+65535,b=Math.floor(h/65536),W=h-b*65536,h=V+b+65535,b=Math.floor(h/65536),V=h-b*65536,h=J+b+65535,b=Math.floor(h/65536),J=h-b*65536,h=ne+b+65535,b=Math.floor(h/65536),ne=h-b*65536,h=w+b+65535,b=Math.floor(h/65536),w=h-b*65536,h=T+b+65535,b=Math.floor(h/65536),T=h-b*65536,h=te+b+65535,b=Math.floor(h/65536),te=h-b*65536,h=Q+b+65535,b=Math.floor(h/65536),Q=h-b*65536,h=Y+b+65535,b=Math.floor(h/65536),Y=h-b*65536,h=Z+b+65535,b=Math.floor(h/65536),Z=h-b*65536,h=ee+b+65535,b=Math.floor(h/65536),ee=h-b*65536,h=oe+b+65535,b=Math.floor(h/65536),oe=h-b*65536,h=Ee+b+65535,b=Math.floor(h/65536),Ee=h-b*65536,h=ce+b+65535,b=Math.floor(h/65536),ce=h-b*65536,h=xe+b+65535,b=Math.floor(h/65536),xe=h-b*65536,K+=b-1+37*(b-1),O[0]=K,O[1]=W,O[2]=V,O[3]=J,O[4]=ne,O[5]=w,O[6]=T,O[7]=te,O[8]=Q,O[9]=Y,O[10]=Z,O[11]=ee,O[12]=oe,O[13]=Ee,O[14]=ce,O[15]=xe}function S(O,A){y(O,A,A)}function C(O,A){const E=n();for(let h=0;h<16;h++)E[h]=A[h];for(let h=253;h>=0;h--)S(E,E),h!==2&&h!==4&&y(E,E,A);for(let h=0;h<16;h++)O[h]=E[h]}function N(O,A){const E=new Uint8Array(32),h=new Float64Array(80),b=n(),K=n(),W=n(),V=n(),J=n(),ne=n();for(let Q=0;Q<31;Q++)E[Q]=O[Q];E[31]=O[31]&127|64,E[0]&=248,p(h,A);for(let Q=0;Q<16;Q++)K[Q]=h[Q];b[0]=V[0]=1;for(let Q=254;Q>=0;--Q){const Y=E[Q>>>3]>>>(Q&7)&1;u(b,K,Y),u(W,V,Y),m(J,b,W),D(b,b,W),m(W,K,V),D(K,K,V),S(V,J),S(ne,b),y(b,W,b),y(W,K,J),m(J,b,W),D(b,b,W),S(K,b),D(W,V,ne),y(b,W,a),m(b,b,V),y(W,W,b),y(b,V,ne),y(V,K,h),S(K,J),u(b,K,Y),u(W,V,Y)}for(let Q=0;Q<16;Q++)h[Q+16]=b[Q],h[Q+32]=W[Q],h[Q+48]=K[Q],h[Q+64]=V[Q];const w=h.subarray(32),T=h.subarray(16);C(w,w),y(T,T,w);const te=new Uint8Array(32);return f(te,T),te}r.scalarMult=N;function U(O){return N(O,i)}r.scalarMultBase=U;function H(O){if(O.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const A=new Uint8Array(O);return{publicKey:U(A),secretKey:A}}r.generateKeyPairFromSeed=H;function $(O){const A=(0,e.randomBytes)(32,O),E=H(A);return(0,t.wipe)(A),E}r.generateKeyPair=$;function P(O,A,E=!1){if(O.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(A.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const h=N(O,A);if(E){let b=0;for(let K=0;K<h.length;K++)b|=h[K];if(b===0)throw new Error("X25519: invalid shared key")}return h}r.sharedKey=P})(Nl);function Ll(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function e0(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ll(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Ml(r,e){e||(e=r.reduce((i,a)=>i+a.length,0));const t=e0(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return Ll(t)}function xw(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var a=r.charAt(i),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=i}var u=r.length,f=r.charAt(0),p=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function D(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var N=0,U=0,H=0,$=C.length;H!==$&&C[H]===0;)H++,N++;for(var P=($-H)*m+1>>>0,O=new Uint8Array(P);H!==$;){for(var A=C[H],E=0,h=P-1;(A!==0||E<U)&&h!==-1;h--,E++)A+=256*O[h]>>>0,O[h]=A%u>>>0,A=A/u>>>0;if(A!==0)throw new Error("Non-zero carry");U=E,H++}for(var b=P-U;b!==P&&O[b]===0;)b++;for(var K=f.repeat(N);b<P;++b)K+=r.charAt(O[b]);return K}function y(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var N=0;if(C[N]!==" "){for(var U=0,H=0;C[N]===f;)U++,N++;for(var $=(C.length-N)*p+1>>>0,P=new Uint8Array($);C[N];){var O=t[C.charCodeAt(N)];if(O===255)return;for(var A=0,E=$-1;(O!==0||A<H)&&E!==-1;E--,A++)O+=u*P[E]>>>0,P[E]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");H=A,N++}if(C[N]!==" "){for(var h=$-H;h!==$&&P[h]===0;)h++;for(var b=new Uint8Array(U+($-h)),K=U;h!==$;)b[K++]=P[h++];return b}}}function S(C){var N=y(C);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:D,decodeUnsafe:y,decode:S}}var Sw=xw,Dw=Sw;const t0=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Ow=r=>new TextEncoder().encode(r),Cw=r=>new TextDecoder().decode(r);class Iw{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $w{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return r0(this,e)}}class Aw{constructor(e){this.decoders=e}or(e){return r0(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const r0=(r,e)=>new Aw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class Pw{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Iw(e,t,n),this.decoder=new $w(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ia=({name:r,prefix:e,encode:t,decode:n})=>new Pw(r,e,t,n),io=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=Dw(t,e);return Ia({prefix:r,name:e,encode:n,decode:a=>t0(i(a))})},Tw=(r,e,t,n)=>{const i={};for(let m=0;m<e.length;++m)i[e[m]]=m;let a=r.length;for(;r[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let u=0,f=0,p=0;for(let m=0;m<a;++m){const D=i[r[m]];if(D===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|D,u+=t,u>=8&&(u-=8,c[p++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},Rw=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let a="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,a+=e[i&u>>c];if(c&&(a+=e[i&u<<t-c]),n)for(;a.length*t&7;)a+="=";return a},ur=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Ia({prefix:e,name:r,encode(i){return Rw(i,n,t)},decode(i){return Tw(i,n,t,r)}}),Nw=Ia({prefix:"\0",name:"identity",encode:r=>Cw(r),decode:r=>Ow(r)});var Lw=Object.freeze({__proto__:null,identity:Nw});const Mw=ur({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Uw=Object.freeze({__proto__:null,base2:Mw});const jw=ur({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Fw=Object.freeze({__proto__:null,base8:jw});const Bw=io({prefix:"9",name:"base10",alphabet:"0123456789"});var kw=Object.freeze({__proto__:null,base10:Bw});const Hw=ur({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zw=ur({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var qw=Object.freeze({__proto__:null,base16:Hw,base16upper:zw});const Ww=ur({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vw=ur({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Kw=ur({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gw=ur({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yw=ur({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zw=ur({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jw=ur({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qw=ur({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xw=ur({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eb=Object.freeze({__proto__:null,base32:Ww,base32upper:Vw,base32pad:Kw,base32padupper:Gw,base32hex:Yw,base32hexupper:Zw,base32hexpad:Jw,base32hexpadupper:Qw,base32z:Xw});const tb=io({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rb=io({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nb=Object.freeze({__proto__:null,base36:tb,base36upper:rb});const ib=io({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sb=io({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ob=Object.freeze({__proto__:null,base58btc:ib,base58flickr:sb});const ab=ur({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cb=ur({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lb=ur({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ub=ur({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hb=Object.freeze({__proto__:null,base64:ab,base64pad:cb,base64url:lb,base64urlpad:ub});const n0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),fb=n0.reduce((r,e,t)=>(r[t]=e,r),[]),db=n0.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function pb(r){return r.reduce((e,t)=>(e+=fb[t],e),"")}function gb(r){const e=[];for(const t of r){const n=db[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const mb=Ia({prefix:"\u{1F680}",name:"base256emoji",encode:pb,decode:gb});var vb=Object.freeze({__proto__:null,base256emoji:mb}),yb=s0,i0=128,wb=127,bb=~wb,_b=Math.pow(2,31);function s0(r,e,t){e=e||[],t=t||0;for(var n=t;r>=_b;)e[t++]=r&255|i0,r/=128;for(;r&bb;)e[t++]=r&255|i0,r>>>=7;return e[t]=r|0,s0.bytes=t-n+1,e}var Eb=Ul,xb=128,o0=127;function Ul(r,n){var t=0,n=n||0,i=0,a=n,c,u=r.length;do{if(a>=u)throw Ul.bytes=0,new RangeError("Could not decode varint");c=r[a++],t+=i<28?(c&o0)<<i:(c&o0)*Math.pow(2,i),i+=7}while(c>=xb);return Ul.bytes=a-n,t}var Sb=Math.pow(2,7),Db=Math.pow(2,14),Ob=Math.pow(2,21),Cb=Math.pow(2,28),Ib=Math.pow(2,35),$b=Math.pow(2,42),Ab=Math.pow(2,49),Pb=Math.pow(2,56),Tb=Math.pow(2,63),Rb=function(r){return r<Sb?1:r<Db?2:r<Ob?3:r<Cb?4:r<Ib?5:r<$b?6:r<Ab?7:r<Pb?8:r<Tb?9:10},Nb={encode:yb,decode:Eb,encodingLength:Rb},a0=Nb;const c0=(r,e,t=0)=>(a0.encode(r,e,t),e),l0=r=>a0.encodingLength(r),jl=(r,e)=>{const t=e.byteLength,n=l0(r),i=n+l0(t),a=new Uint8Array(i+t);return c0(r,a,0),c0(t,a,n),a.set(e,i),new Lb(r,t,e,a)};class Lb{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}const u0=({name:r,code:e,encode:t})=>new Mb(r,e,t);class Mb{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?jl(this.code,t):t.then(n=>jl(this.code,n))}else throw Error("Unknown type, must be binary type")}}const h0=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Ub=u0({name:"sha2-256",code:18,encode:h0("SHA-256")}),jb=u0({name:"sha2-512",code:19,encode:h0("SHA-512")});var Fb=Object.freeze({__proto__:null,sha256:Ub,sha512:jb});const f0=0,Bb="identity",d0=t0;var kb=Object.freeze({__proto__:null,identity:{code:f0,name:Bb,encode:d0,digest:r=>jl(f0,d0(r))}});new TextEncoder,new TextDecoder;const p0={...Lw,...Uw,...Fw,...kw,...qw,...eb,...nb,...ob,...hb,...vb};({...Fb,...kb});function g0(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const m0=g0("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Fl=g0("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=e0(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),v0={utf8:m0,"utf-8":m0,hex:p0.base16,latin1:Fl,ascii:Fl,binary:Fl,...p0};function Ar(r,e="utf8"){const t=v0[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ll(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function yr(r,e="utf8"){const t=v0[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var y0=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))},Hb=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),zb=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),qb=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}(),Wb=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),Vb=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),Kb=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Gb=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w0=3,Yb=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Kb]],b0=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Zb(r){return r?_0(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Vb:typeof navigator<"u"?_0(navigator.userAgent):Xb()}function Jb(r){return r!==""&&Yb.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var a=i.exec(r);return!!a&&[n,a]},!1)}function _0(r){var e=Jb(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new Wb;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<w0&&(i=y0(y0([],i,!0),e2(w0-i.length),!0)):i=[];var a=i.join("."),c=Qb(r),u=Gb.exec(r);return u&&u[1]?new qb(t,a,c,u[1]):new Hb(t,a,c)}function Qb(r){for(var e=0,t=b0.length;e<t;e++){var n=b0[e],i=n[0],a=n[1],c=a.exec(r);if(c)return i}return null}function Xb(){var r=typeof process<"u"&&process.version;return r?new zb(process.version.slice(1)):null}function e2(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var ye={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Bl=function(r,e){return Bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Bl(r,e)};function t2(r,e){Bl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var kl=function(){return kl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kl.apply(this,arguments)};function r2(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function n2(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function i2(r,e){return function(t,n){e(t,n,r)}}function s2(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function o2(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(D){c(D)}}function f(m){try{p(n.throw(m))}catch(D){c(D)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((n=n.apply(r,e||[])).next())})}function a2(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return f([p,m])}}function f(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function c2(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function l2(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Hl(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function E0(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function u2(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(E0(arguments[e]));return r}function h2(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function so(r){return this instanceof so?(this.v=r,this):new so(r)}function f2(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){n[y]&&(i[y]=function(S){return new Promise(function(C,N){a.push([y,S,C,N])>1||u(y,S)})})}function u(y,S){try{f(n[y](S))}catch(C){D(a[0][3],C)}}function f(y){y.value instanceof so?Promise.resolve(y.value.v).then(p,m):D(a[0][2],y)}function p(y){u("next",y)}function m(y){u("throw",y)}function D(y,S){y(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function d2(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:so(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function p2(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Hl=="function"?Hl(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,f){c=r[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},c)}}function g2(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function m2(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function v2(r){return r&&r.__esModule?r:{default:r}}function y2(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function w2(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var b2=Object.freeze({__proto__:null,__extends:t2,get __assign(){return kl},__rest:r2,__decorate:n2,__param:i2,__metadata:s2,__awaiter:o2,__generator:a2,__createBinding:c2,__exportStar:l2,__values:Hl,__read:E0,__spread:u2,__spreadArrays:h2,__await:so,__asyncGenerator:f2,__asyncDelegator:d2,__asyncValues:p2,__makeTemplateObject:g2,__importStar:m2,__importDefault:v2,__classPrivateFieldGet:y2,__classPrivateFieldSet:w2}),$a=Ci(b2),zl={},oo={},x0;function _2(){if(x0)return oo;x0=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return oo.delay=r,oo}var Ii={},ql={},$i={},S0;function E2(){return S0||(S0=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.ONE_THOUSAND=$i.ONE_HUNDRED=void 0,$i.ONE_HUNDRED=100,$i.ONE_THOUSAND=1e3),$i}var Wl={},D0;function x2(){return D0||(D0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(Wl)),Wl}var O0;function C0(){return O0||(O0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=$a;e.__exportStar(E2(),r),e.__exportStar(x2(),r)}(ql)),ql}var I0;function S2(){if(I0)return Ii;I0=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.fromMiliseconds=Ii.toMiliseconds=void 0;const r=C0();function e(n){return n*r.ONE_THOUSAND}Ii.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return Ii.fromMiliseconds=t,Ii}var $0;function D2(){return $0||($0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=$a;e.__exportStar(_2(),r),e.__exportStar(S2(),r)}(zl)),zl}var fs={},A0;function O2(){if(A0)return fs;A0=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:i})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return fs.Watch=r,fs.default=r,fs}var Vl={},ao={},P0;function C2(){if(P0)return ao;P0=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.IWatch=void 0;class r{}return ao.IWatch=r,ao}var T0;function I2(){return T0||(T0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),$a.__exportStar(C2(),r)}(Vl)),Vl}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=$a;e.__exportStar(D2(),r),e.__exportStar(O2(),r),e.__exportStar(I2(),r),e.__exportStar(C0(),r)})(ye);var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.getLocalStorage=bt.getLocalStorageOrThrow=bt.getCrypto=bt.getCryptoOrThrow=N0=bt.getLocation=bt.getLocationOrThrow=Kl=bt.getNavigator=bt.getNavigatorOrThrow=R0=bt.getDocument=bt.getDocumentOrThrow=bt.getFromWindowOrThrow=bt.getFromWindow=void 0;function Ai(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}bt.getFromWindow=Ai;function ds(r){const e=Ai(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}bt.getFromWindowOrThrow=ds;function $2(){return ds("document")}bt.getDocumentOrThrow=$2;function A2(){return Ai("document")}var R0=bt.getDocument=A2;function P2(){return ds("navigator")}bt.getNavigatorOrThrow=P2;function T2(){return Ai("navigator")}var Kl=bt.getNavigator=T2;function R2(){return ds("location")}bt.getLocationOrThrow=R2;function N2(){return Ai("location")}var N0=bt.getLocation=N2;function L2(){return ds("crypto")}bt.getCryptoOrThrow=L2;function M2(){return Ai("crypto")}bt.getCrypto=M2;function U2(){return ds("localStorage")}bt.getLocalStorageOrThrow=U2;function j2(){return Ai("localStorage")}bt.getLocalStorage=j2;var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});var L0=Gl.getWindowMetadata=void 0;const M0=bt;function F2(){let r,e;try{r=M0.getDocumentOrThrow(),e=M0.getLocationOrThrow()}catch{return null}function t(){const D=r.getElementsByTagName("link"),y=[];for(let S=0;S<D.length;S++){const C=D[S],N=C.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const U=C.getAttribute("href");if(U)if(U.toLowerCase().indexOf("https:")===-1&&U.toLowerCase().indexOf("http:")===-1&&U.indexOf("//")!==0){let H=e.protocol+"//"+e.host;if(U.indexOf("/")===0)H+=U;else{const $=e.pathname.split("/");$.pop();const P=$.join("/");H+=P+"/"+U}y.push(H)}else if(U.indexOf("//")===0){const H=e.protocol+U;y.push(H)}else y.push(U)}}return y}function n(...D){const y=r.getElementsByTagName("meta");for(let S=0;S<y.length;S++){const C=y[S],N=["itemprop","property","name"].map(U=>C.getAttribute(U)).filter(U=>U?D.includes(U):!1);if(N.length&&N){const U=C.getAttribute("content");if(U)return U}}return""}function i(){let D=n("name","og:site_name","og:title","twitter:title");return D||(D=r.title),D}function a(){return n("description","og:description","twitter:description","keywords")}const c=i(),u=a(),f=e.origin,p=t();return{description:u,url:f,icons:p,name:c}}L0=Gl.getWindowMetadata=F2;var co={},B2=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),U0="%[a-f0-9]{2}",j0=new RegExp("("+U0+")|([^%]+?)","gi"),F0=new RegExp("("+U0+")+","gi");function Yl(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],Yl(t),Yl(n))}function k2(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(j0)||[],t=1;t<e.length;t++)r=Yl(e,t).join(""),e=r.match(j0)||[];return r}}function H2(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=F0.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var n=k2(t[0]);n!==t[0]&&(e[t[0]]=n)}t=F0.exec(r)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),a=0;a<i.length;a++){var c=i[a];r=r.replace(new RegExp(c,"g"),e[c])}return r}var z2=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return H2(r)}},q2=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]},W2=function(r,e){for(var t={},n=Object.keys(r),i=Array.isArray(e),a=0;a<n.length;a++){var c=n[a],u=r[c];(i?e.indexOf(c)!==-1:e(c,u,r))&&(t[c]=u)}return t};(function(r){const e=B2,t=z2,n=q2,i=W2,a=$=>$==null,c=Symbol("encodeFragmentIdentifier");function u($){switch($.arrayFormat){case"index":return P=>(O,A)=>{const E=O.length;return A===void 0||$.skipNull&&A===null||$.skipEmptyString&&A===""?O:A===null?[...O,[m(P,$),"[",E,"]"].join("")]:[...O,[m(P,$),"[",m(E,$),"]=",m(A,$)].join("")]};case"bracket":return P=>(O,A)=>A===void 0||$.skipNull&&A===null||$.skipEmptyString&&A===""?O:A===null?[...O,[m(P,$),"[]"].join("")]:[...O,[m(P,$),"[]=",m(A,$)].join("")];case"colon-list-separator":return P=>(O,A)=>A===void 0||$.skipNull&&A===null||$.skipEmptyString&&A===""?O:A===null?[...O,[m(P,$),":list="].join("")]:[...O,[m(P,$),":list=",m(A,$)].join("")];case"comma":case"separator":case"bracket-separator":{const P=$.arrayFormat==="bracket-separator"?"[]=":"=";return O=>(A,E)=>E===void 0||$.skipNull&&E===null||$.skipEmptyString&&E===""?A:(E=E===null?"":E,A.length===0?[[m(O,$),P,m(E,$)].join("")]:[[A,m(E,$)].join($.arrayFormatSeparator)])}default:return P=>(O,A)=>A===void 0||$.skipNull&&A===null||$.skipEmptyString&&A===""?O:A===null?[...O,m(P,$)]:[...O,[m(P,$),"=",m(A,$)].join("")]}}function f($){let P;switch($.arrayFormat){case"index":return(O,A,E)=>{if(P=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!P){E[O]=A;return}E[O]===void 0&&(E[O]={}),E[O][P[1]]=A};case"bracket":return(O,A,E)=>{if(P=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!P){E[O]=A;return}if(E[O]===void 0){E[O]=[A];return}E[O]=[].concat(E[O],A)};case"colon-list-separator":return(O,A,E)=>{if(P=/(:list)$/.exec(O),O=O.replace(/:list$/,""),!P){E[O]=A;return}if(E[O]===void 0){E[O]=[A];return}E[O]=[].concat(E[O],A)};case"comma":case"separator":return(O,A,E)=>{const h=typeof A=="string"&&A.includes($.arrayFormatSeparator),b=typeof A=="string"&&!h&&D(A,$).includes($.arrayFormatSeparator);A=b?D(A,$):A;const K=h||b?A.split($.arrayFormatSeparator).map(W=>D(W,$)):A===null?A:D(A,$);E[O]=K};case"bracket-separator":return(O,A,E)=>{const h=/(\[\])$/.test(O);if(O=O.replace(/\[\]$/,""),!h){E[O]=A&&D(A,$);return}const b=A===null?[]:A.split($.arrayFormatSeparator).map(K=>D(K,$));if(E[O]===void 0){E[O]=b;return}E[O]=[].concat(E[O],b)};default:return(O,A,E)=>{if(E[O]===void 0){E[O]=A;return}E[O]=[].concat(E[O],A)}}}function p($){if(typeof $!="string"||$.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function m($,P){return P.encode?P.strict?e($):encodeURIComponent($):$}function D($,P){return P.decode?t($):$}function y($){return Array.isArray($)?$.sort():typeof $=="object"?y(Object.keys($)).sort((P,O)=>Number(P)-Number(O)).map(P=>$[P]):$}function S($){const P=$.indexOf("#");return P!==-1&&($=$.slice(0,P)),$}function C($){let P="";const O=$.indexOf("#");return O!==-1&&(P=$.slice(O)),P}function N($){$=S($);const P=$.indexOf("?");return P===-1?"":$.slice(P+1)}function U($,P){return P.parseNumbers&&!Number.isNaN(Number($))&&typeof $=="string"&&$.trim()!==""?$=Number($):P.parseBooleans&&$!==null&&($.toLowerCase()==="true"||$.toLowerCase()==="false")&&($=$.toLowerCase()==="true"),$}function H($,P){P=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},P),p(P.arrayFormatSeparator);const O=f(P),A=Object.create(null);if(typeof $!="string"||($=$.trim().replace(/^[?#&]/,""),!$))return A;for(const E of $.split("&")){if(E==="")continue;let[h,b]=n(P.decode?E.replace(/\+/g," "):E,"=");b=b===void 0?null:["comma","separator","bracket-separator"].includes(P.arrayFormat)?b:D(b,P),O(D(h,P),b,A)}for(const E of Object.keys(A)){const h=A[E];if(typeof h=="object"&&h!==null)for(const b of Object.keys(h))h[b]=U(h[b],P);else A[E]=U(h,P)}return P.sort===!1?A:(P.sort===!0?Object.keys(A).sort():Object.keys(A).sort(P.sort)).reduce((E,h)=>{const b=A[h];return b&&typeof b=="object"&&!Array.isArray(b)?E[h]=y(b):E[h]=b,E},Object.create(null))}r.extract=N,r.parse=H,r.stringify=($,P)=>{if(!$)return"";P=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},P),p(P.arrayFormatSeparator);const O=b=>P.skipNull&&a($[b])||P.skipEmptyString&&$[b]==="",A=u(P),E={};for(const b of Object.keys($))O(b)||(E[b]=$[b]);const h=Object.keys(E);return P.sort!==!1&&h.sort(P.sort),h.map(b=>{const K=$[b];return K===void 0?"":K===null?m(b,P):Array.isArray(K)?K.length===0&&P.arrayFormat==="bracket-separator"?m(b,P)+"[]":K.reduce(A(b),[]).join("&"):m(b,P)+"="+m(K,P)}).filter(b=>b.length>0).join("&")},r.parseUrl=($,P)=>{P=Object.assign({decode:!0},P);const[O,A]=n($,"#");return Object.assign({url:O.split("?")[0]||"",query:H(N($),P)},P&&P.parseFragmentIdentifier&&A?{fragmentIdentifier:D(A,P)}:{})},r.stringifyUrl=($,P)=>{P=Object.assign({encode:!0,strict:!0,[c]:!0},P);const O=S($.url).split("?")[0]||"",A=r.extract($.url),E=r.parse(A,{sort:!1}),h=Object.assign(E,$.query);let b=r.stringify(h,P);b&&(b=`?${b}`);let K=C($.url);return $.fragmentIdentifier&&(K=`#${P[c]?m($.fragmentIdentifier,P):$.fragmentIdentifier}`),`${O}${b}${K}`},r.pick=($,P,O)=>{O=Object.assign({parseFragmentIdentifier:!0,[c]:!1},O);const{url:A,query:E,fragmentIdentifier:h}=r.parseUrl($,O);return r.stringifyUrl({url:A,query:i(E,P),fragmentIdentifier:h},O)},r.exclude=($,P,O)=>{const A=Array.isArray(P)?E=>!P.includes(E):(E,h)=>!P(E,h);return r.pick($,A,O)}})(co);const V2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function K2(r,e=[]){const t=[];return Object.keys(r).forEach(n=>{if(e.length&&!e.includes(n))return;const i=r[n];t.push(...i.accounts)}),t}function B0(r,e){return r.includes(":")?[r]:e.chains||[]}const k0="base10",wr="base16",Zl="base64pad",Jl="utf8",H0=0,Pi=1,G2=0,z0=1,Ql=12,Xl=32;function Y2(){const r=Nl.generateKeyPair();return{privateKey:yr(r.secretKey,wr),publicKey:yr(r.publicKey,wr)}}function eu(){const r=hs.randomBytes(Xl);return yr(r,wr)}function Z2(r,e){const t=Nl.sharedKey(Ar(r,wr),Ar(e,wr)),n=new fw(Ca.SHA256,t).expand(Xl);return yr(n,wr)}function J2(r){const e=Ca.hash(Ar(r,wr));return yr(e,wr)}function ps(r){const e=Ca.hash(Ar(r,Jl));return yr(e,wr)}function Q2(r){return Ar(`${r}`,k0)}function lo(r){return Number(yr(r,k0))}function X2(r){const e=Q2(typeof r.type<"u"?r.type:H0);if(lo(e)===Pi&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?Ar(r.senderPublicKey,wr):void 0,n=typeof r.iv<"u"?Ar(r.iv,wr):hs.randomBytes(Ql),i=new Cl.ChaCha20Poly1305(Ar(r.symKey,wr)).seal(n,Ar(r.message,Jl));return t_({type:e,sealed:i,iv:n,senderPublicKey:t})}function e_(r){const e=new Cl.ChaCha20Poly1305(Ar(r.symKey,wr)),{sealed:t,iv:n}=Aa(r.encoded),i=e.open(n,t);if(i===null)throw new Error("Failed to decrypt");return yr(i,Jl)}function t_(r){if(lo(r.type)===Pi){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return yr(Ml([r.type,r.senderPublicKey,r.iv,r.sealed]),Zl)}return yr(Ml([r.type,r.iv,r.sealed]),Zl)}function Aa(r){const e=Ar(r,Zl),t=e.slice(G2,z0),n=z0;if(lo(t)===Pi){const u=n+Xl,f=u+Ql,p=e.slice(n,u),m=e.slice(u,f),D=e.slice(f);return{type:t,sealed:D,iv:m,senderPublicKey:p}}const i=n+Ql,a=e.slice(n,i),c=e.slice(i);return{type:t,sealed:c,iv:a}}function r_(r,e){const t=Aa(r);return q0({type:lo(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?yr(t.senderPublicKey,wr):void 0,receiverPublicKey:e?.receiverPublicKey})}function q0(r){const e=r?.type||H0;if(e===Pi){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function W0(r){return r.type===Pi&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var n_=Object.defineProperty,V0=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable,K0=(r,e,t)=>e in r?n_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,G0=(r,e)=>{for(var t in e||(e={}))i_.call(e,t)&&K0(r,t,e[t]);if(V0)for(var t of V0(e))s_.call(e,t)&&K0(r,t,e[t]);return r};const o_="ReactNative",zr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},a_="js";function tu(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Pa(){return!R0()&&!!Kl()&&navigator.product===o_}function uo(){return!tu()&&!!Kl()}function ho(){return Pa()?zr.reactNative:tu()?zr.node:uo()?zr.browser:zr.unknown}function c_(r,e){let t=co.parse(r);return t=G0(G0({},t),e),r=co.stringify(t),r}function l_(){return L0()||{name:"",description:"",url:"",icons:[""]}}function u_(){if(ho()===zr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=Zb();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function h_(){var r;const e=ho();return e===zr.browser?[e,((r=N0())==null?void 0:r.host)||"unknown"].join(":"):e}function f_(r,e,t){const n=u_(),i=h_();return[[r,e].join("-"),[a_,t].join("-"),n,i].join("/")}function d_({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:c}){const u=t.split("?"),f=f_(r,e,n),p={auth:i,ua:f,projectId:a,useOnCloseEvent:c||void 0},m=c_(u[1]||"",p);return u[0]+"?"+m}function Ti(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Y0(r){return Object.fromEntries(r.entries())}function Z0(r){return new Map(Object.entries(r))}function gs(r=ye.FIVE_MINUTES,e){const t=ye.toMiliseconds(r||ye.FIVE_MINUTES);let n,i,a;return{resolve:c=>{a&&n&&(clearTimeout(a),n(c))},reject:c=>{a&&i&&(clearTimeout(a),i(c))},done:()=>new Promise((c,u)=>{a=setTimeout(()=>{u(new Error(e))},t),n=c,i=u})}}function fo(r,e,t){return new Promise(async(n,i)=>{const a=setTimeout(()=>i(new Error(t)),e);try{const c=await r;n(c)}catch(c){i(c)}clearTimeout(a)})}function J0(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function p_(r){return J0("topic",r)}function g_(r){return J0("id",r)}function Q0(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function hn(r,e){return ye.fromMiliseconds((e||Date.now())+ye.toMiliseconds(r))}function ei(r){return Date.now()>=ye.toMiliseconds(r)}function Kt(r,e){return`${r}${e?`:${e}`:""}`}function ru(r=[],e=[]){return[...new Set([...r,...e])]}async function m_({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t;let i=n?.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${r}&sessionTopic=${e}`,c=ho();c===zr.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):c===zr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(n){console.error(n)}}const v_="irn";function nu(r){return r?.relay||{protocol:v_}}function Ta(r){const e=V2[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var y_=Object.defineProperty,X0=Object.getOwnPropertySymbols,w_=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable,ep=(r,e,t)=>e in r?y_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,__=(r,e)=>{for(var t in e||(e={}))w_.call(e,t)&&ep(r,t,e[t]);if(X0)for(var t of X0(e))b_.call(e,t)&&ep(r,t,e[t]);return r};function E_(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){const a=i.replace(n,""),c=r[i];t[a]=c}}),t}function x_(r){const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),a=typeof t<"u"?r.substring(t):"",c=co.parse(a);return{protocol:n,topic:S_(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:E_(c)}}function S_(r){return r.startsWith("//")?r.substring(2):r}function D_(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(i=>{const a=t+e+i;r[i]&&(n[a]=r[i])}),n}function O_(r){return`${r.protocol}:${r.topic}@${r.version}?`+co.stringify(__({symKey:r.symKey},D_(r.relay)))}function ms(r){const e=[];return r.forEach(t=>{const[n,i]=t.split(":");e.push(`${n}:${i}`)}),e}function C_(r){const e=[];return Object.values(r).forEach(t=>{e.push(...ms(t.accounts))}),e}function I_(r,e){const t=[];return Object.values(r).forEach(n=>{ms(n.accounts).includes(e)&&t.push(...n.methods)}),t}function $_(r,e){const t=[];return Object.values(r).forEach(n=>{ms(n.accounts).includes(e)&&t.push(...n.events)}),t}function A_(r,e){const t=Na(r,e);if(t)throw new Error(t.message);const n={};for(const[i,a]of Object.entries(r))n[i]={methods:a.methods,events:a.events,chains:a.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return n}function iu(r){return r.includes(":")}function po(r){return iu(r)?r.split(":")[0]:r}const P_={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},T_={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function fe(r,e){const{message:t,code:n}=T_[r];return{message:e?`${t} ${e}`:t,code:n}}function Bt(r,e){const{message:t,code:n}=P_[r];return{message:e?`${t} ${e}`:t,code:n}}function bn(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function vs(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function br(r){return typeof r>"u"}function sr(r,e){return e&&br(r)?!0:typeof r=="string"&&!!r.trim().length}function su(r,e){return e&&br(r)?!0:typeof r=="number"&&!isNaN(r)}function R_(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),i=Object.keys(t);let a=!0;return Ti(i,n)?(n.forEach(c=>{const{accounts:u,methods:f,events:p}=r.namespaces[c],m=ms(u),D=t[c];(!Ti(B0(c,D),m)||!Ti(D.methods,f)||!Ti(D.events,p))&&(a=!1)}),a):!1}function Ra(r){return sr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function N_(r){if(sr(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Ra(t)}}return!1}function L_(r){if(sr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function M_(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function U_(r){return r?.topic}function j_(r,e){let t=null;return sr(r?.publicKey,!1)||(t=fe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function tp(r){let e=!0;return bn(r)?r.length&&(e=r.every(t=>sr(t,!1))):e=!1,e}function F_(r,e,t){let n=null;return bn(e)&&e.length?e.forEach(i=>{n||Ra(i)||(n=Bt("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ra(r)||(n=Bt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function B_(r,e,t){let n=null;return Object.entries(r).forEach(([i,a])=>{if(n)return;const c=F_(i,B0(i,a),`${e} ${t}`);c&&(n=c)}),n}function k_(r,e){let t=null;return bn(r)?r.forEach(n=>{t||N_(n)||(t=Bt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=Bt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function H_(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=k_(n?.accounts,`${e} namespace`);i&&(t=i)}),t}function z_(r,e){let t=null;return tp(r?.methods)?tp(r?.events)||(t=Bt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Bt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function rp(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=z_(n,`${e}, namespace`);i&&(t=i)}),t}function q_(r,e,t){let n=null;if(r&&vs(r)){const i=rp(r,e);i&&(n=i);const a=B_(r,e,t);a&&(n=a)}else n=fe("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function Na(r,e){let t=null;if(r&&vs(r)){const n=rp(r,e);n&&(t=n);const i=H_(r,e);i&&(t=i)}else t=fe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function np(r){return sr(r.protocol,!0)}function W_(r,e){let t=!1;return e&&!r?t=!0:r&&bn(r)&&r.length&&r.forEach(n=>{t=np(n)}),t}function V_(r){return typeof r=="number"}function Pr(r){return typeof r<"u"&&typeof r!==null}function K_(r){return!(!r||typeof r!="object"||!r.code||!su(r.code,!1)||!r.message||!sr(r.message,!1))}function G_(r){return!(br(r)||!sr(r.method,!1))}function Y_(r){return!(br(r)||br(r.result)&&br(r.error)||!su(r.id,!1)||!sr(r.jsonrpc,!1))}function Z_(r){return!(br(r)||!sr(r.name,!1))}function ip(r,e){return!(!Ra(e)||!C_(r).includes(e))}function J_(r,e,t){return sr(t,!1)?I_(r,e).includes(t):!1}function Q_(r,e,t){return sr(t,!1)?$_(r,e).includes(t):!1}function sp(r,e,t){let n=null;const i=X_(r),a=e3(e),c=Object.keys(i),u=Object.keys(a),f=op(Object.keys(r)),p=op(Object.keys(e)),m=f.filter(D=>!p.includes(D));return m.length&&(n=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${m.toString()}
      Received: ${Object.keys(e).toString()}`)),Ti(c,u)||(n=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(D=>{if(!D.includes(":")||n)return;const y=ms(e[D].accounts);y.includes(D)||(n=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${D}
        Required: ${D}
        Approved: ${y.toString()}`))}),c.forEach(D=>{n||(Ti(i[D].methods,a[D].methods)?Ti(i[D].events,a[D].events)||(n=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${D}`)):n=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${D}`))}),n}function X_(r){const e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function op(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function e3(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const n=ms(r[t].accounts);n?.forEach(i=>{e[i]={accounts:r[t].accounts.filter(a=>a.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function t3(r,e){return su(r,!1)&&r<=e.max&&r>=e.min}function ap(){const r=ho();return new Promise(e=>{switch(r){case zr.browser:e(r3());break;case zr.reactNative:e(n3());break;case zr.node:e(i3());break;default:e(!0)}})}function r3(){return uo()&&navigator?.onLine}async function n3(){if(Pa()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r?.isConnected}return!0}function i3(){return!0}function s3(r){switch(ho()){case zr.browser:o3(r);break;case zr.reactNative:a3(r);break}}function o3(r){uo()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function a3(r){Pa()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}const ou={};class La{static get(e){return ou[e]}static set(e,t){ou[e]=t}static delete(e){delete ou[e]}}var Ma={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var au=function(r,e){return au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},au(r,e)};function c3(r,e){au(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cu=function(){return cu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cu.apply(this,arguments)};function l3(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function u3(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function h3(r,e){return function(t,n){e(t,n,r)}}function f3(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function d3(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(D){c(D)}}function f(m){try{p(n.throw(m))}catch(D){c(D)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((n=n.apply(r,e||[])).next())})}function p3(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return f([p,m])}}function f(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function g3(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function m3(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function lu(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cp(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function v3(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(cp(arguments[e]));return r}function y3(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function go(r){return this instanceof go?(this.v=r,this):new go(r)}function w3(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){n[y]&&(i[y]=function(S){return new Promise(function(C,N){a.push([y,S,C,N])>1||u(y,S)})})}function u(y,S){try{f(n[y](S))}catch(C){D(a[0][3],C)}}function f(y){y.value instanceof go?Promise.resolve(y.value.v).then(p,m):D(a[0][2],y)}function p(y){u("next",y)}function m(y){u("throw",y)}function D(y,S){y(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function b3(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:go(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function _3(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof lu=="function"?lu(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,f){c=r[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},c)}}function E3(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function x3(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function S3(r){return r&&r.__esModule?r:{default:r}}function D3(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function O3(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var C3=Object.freeze({__proto__:null,__extends:c3,get __assign(){return cu},__rest:l3,__decorate:u3,__param:h3,__metadata:f3,__awaiter:d3,__generator:p3,__createBinding:g3,__exportStar:m3,__values:lu,__read:cp,__spread:v3,__spreadArrays:y3,__await:go,__asyncGenerator:w3,__asyncDelegator:b3,__asyncValues:_3,__makeTemplateObject:E3,__importStar:x3,__importDefault:S3,__classPrivateFieldGet:D3,__classPrivateFieldSet:O3}),lp=Ci(C3),mo={};Object.defineProperty(mo,"__esModule",{value:!0});function I3(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}mo.safeJsonParse=I3;function $3(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}mo.safeJsonStringify=$3;var vo={exports:{}},up;function A3(){return up||(up=1,function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ir<"u"&&ir.localStorage?vo.exports=ir.localStorage:typeof window<"u"&&window.localStorage?vo.exports=window.localStorage:vo.exports=new e}()),vo.exports}var uu={},yo={},hp;function P3(){if(hp)return yo;hp=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.IKeyValueStorage=void 0;class r{}return yo.IKeyValueStorage=r,yo}var wo={},fp;function T3(){if(fp)return wo;fp=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.parseEntry=void 0;const r=mo;function e(t){var n;return[t[0],r.safeJsonParse((n=t[1])!==null&&n!==void 0?n:"")]}return wo.parseEntry=e,wo}var dp;function R3(){return dp||(dp=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=lp;e.__exportStar(P3(),r),e.__exportStar(T3(),r)}(uu)),uu}Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.KeyValueStorage=void 0;const ys=lp,pp=mo,N3=ys.__importDefault(A3()),L3=R3();class gp{constructor(){this.localStorage=N3.default}getKeys(){return ys.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ys.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(L3.parseEntry)})}getItem(e){return ys.__awaiter(this,void 0,void 0,function*(){const t=this.localStorage.getItem(e);if(t!==null)return pp.safeJsonParse(t)})}setItem(e,t){return ys.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,pp.safeJsonStringify(t))})}removeItem(e){return ys.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}Ma.KeyValueStorage=gp;var M3=Ma.default=gp,ws={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var hu=function(r,e){return hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},hu(r,e)};function U3(r,e){hu(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var fu=function(){return fu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fu.apply(this,arguments)};function j3(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function F3(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function B3(r,e){return function(t,n){e(t,n,r)}}function k3(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function H3(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(D){c(D)}}function f(m){try{p(n.throw(m))}catch(D){c(D)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((n=n.apply(r,e||[])).next())})}function z3(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return f([p,m])}}function f(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function q3(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function W3(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function du(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mp(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function V3(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(mp(arguments[e]));return r}function K3(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function bo(r){return this instanceof bo?(this.v=r,this):new bo(r)}function G3(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){n[y]&&(i[y]=function(S){return new Promise(function(C,N){a.push([y,S,C,N])>1||u(y,S)})})}function u(y,S){try{f(n[y](S))}catch(C){D(a[0][3],C)}}function f(y){y.value instanceof bo?Promise.resolve(y.value.v).then(p,m):D(a[0][2],y)}function p(y){u("next",y)}function m(y){u("throw",y)}function D(y,S){y(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Y3(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:bo(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function Z3(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof du=="function"?du(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,f){c=r[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},c)}}function J3(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function Q3(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function X3(r){return r&&r.__esModule?r:{default:r}}function e5(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function t5(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var r5=Object.freeze({__proto__:null,__extends:U3,get __assign(){return fu},__rest:j3,__decorate:F3,__param:B3,__metadata:k3,__awaiter:H3,__generator:z3,__createBinding:q3,__exportStar:W3,__values:du,__read:mp,__spread:V3,__spreadArrays:K3,__await:bo,__asyncGenerator:G3,__asyncDelegator:Y3,__asyncValues:Z3,__makeTemplateObject:J3,__importStar:Q3,__importDefault:X3,__classPrivateFieldGet:e5,__classPrivateFieldSet:t5}),Ua=Ci(r5),_o={},pu={},Eo={};class Ri{}var n5=Object.freeze({__proto__:null,IEvents:Ri}),i5=Ci(n5),vp;function s5(){if(vp)return Eo;vp=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.IHeartBeat=void 0;const r=i5;class e extends r.IEvents{constructor(n){super()}}return Eo.IHeartBeat=e,Eo}var yp;function wp(){return yp||(yp=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Ua.__exportStar(s5(),r)}(pu)),pu}var gu={},Ni={},bp;function o5(){if(bp)return Ni;bp=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.HEARTBEAT_EVENTS=Ni.HEARTBEAT_INTERVAL=void 0;const r=ye;return Ni.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,Ni.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Ni}var _p;function Ep(){return _p||(_p=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Ua.__exportStar(o5(),r)}(gu)),gu}var xp;function a5(){if(xp)return _o;xp=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.HeartBeat=void 0;const r=Ua,e=lr.exports,t=ye,n=wp(),i=Ep();class a extends n.IHeartBeat{constructor(u){super(u),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=u?.interval||i.HEARTBEAT_INTERVAL}static init(u){return r.__awaiter(this,void 0,void 0,function*(){const f=new a(u);return yield f.init(),f})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(u,f){this.events.on(u,f)}once(u,f){this.events.once(u,f)}off(u,f){this.events.off(u,f)}removeListener(u,f){this.events.removeListener(u,f)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return _o.HeartBeat=a,_o}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Ua;e.__exportStar(a5(),r),e.__exportStar(wp(),r),e.__exportStar(Ep(),r)})(ws);var tt={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var mu=function(r,e){return mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},mu(r,e)};function c5(r,e){mu(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vu=function(){return vu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vu.apply(this,arguments)};function l5(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function u5(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function h5(r,e){return function(t,n){e(t,n,r)}}function f5(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function d5(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(D){c(D)}}function f(m){try{p(n.throw(m))}catch(D){c(D)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((n=n.apply(r,e||[])).next())})}function p5(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return f([p,m])}}function f(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function g5(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function m5(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function yu(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sp(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function v5(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Sp(arguments[e]));return r}function y5(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function xo(r){return this instanceof xo?(this.v=r,this):new xo(r)}function w5(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){n[y]&&(i[y]=function(S){return new Promise(function(C,N){a.push([y,S,C,N])>1||u(y,S)})})}function u(y,S){try{f(n[y](S))}catch(C){D(a[0][3],C)}}function f(y){y.value instanceof xo?Promise.resolve(y.value.v).then(p,m):D(a[0][2],y)}function p(y){u("next",y)}function m(y){u("throw",y)}function D(y,S){y(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function b5(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:xo(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function _5(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof yu=="function"?yu(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,f){c=r[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},c)}}function E5(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function x5(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function S5(r){return r&&r.__esModule?r:{default:r}}function D5(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function O5(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var C5=Object.freeze({__proto__:null,__extends:c5,get __assign(){return vu},__rest:l5,__decorate:u5,__param:h5,__metadata:f5,__awaiter:d5,__generator:p5,__createBinding:g5,__exportStar:m5,__values:yu,__read:Sp,__spread:v5,__spreadArrays:y5,__await:xo,__asyncGenerator:w5,__asyncDelegator:b5,__asyncValues:_5,__makeTemplateObject:E5,__importStar:x5,__importDefault:S5,__classPrivateFieldGet:D5,__classPrivateFieldSet:O5}),I5=Ci(C5),wu,Dp;function $5(){if(Dp)return wu;Dp=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}wu=e;function e(t,n,i){var a=i&&i.stringify||r,c=1;if(typeof t=="object"&&t!==null){var u=n.length+c;if(u===1)return t;var f=new Array(u);f[0]=a(t);for(var p=1;p<u;p++)f[p]=a(n[p]);return f.join(" ")}if(typeof t!="string")return t;var m=n.length;if(m===0)return t;for(var D="",y=1-c,S=-1,C=t&&t.length||0,N=0;N<C;){if(t.charCodeAt(N)===37&&N+1<C){switch(S=S>-1?S:0,t.charCodeAt(N+1)){case 100:case 102:if(y>=m||n[y]==null)break;S<N&&(D+=t.slice(S,N)),D+=Number(n[y]),S=N+2,N++;break;case 105:if(y>=m||n[y]==null)break;S<N&&(D+=t.slice(S,N)),D+=Math.floor(Number(n[y])),S=N+2,N++;break;case 79:case 111:case 106:if(y>=m||n[y]===void 0)break;S<N&&(D+=t.slice(S,N));var U=typeof n[y];if(U==="string"){D+="'"+n[y]+"'",S=N+2,N++;break}if(U==="function"){D+=n[y].name||"<anonymous>",S=N+2,N++;break}D+=a(n[y]),S=N+2,N++;break;case 115:if(y>=m)break;S<N&&(D+=t.slice(S,N)),D+=String(n[y]),S=N+2,N++;break;case 37:S<N&&(D+=t.slice(S,N)),D+="%",S=N+2,N++,y--;break}++y}++N}return S===-1?t:(S<C&&(D+=t.slice(S)),D)}return wu}var bu,Op;function A5(){if(Op)return bu;Op=1;const r=$5();bu=i;const e=A().console||{},t={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:N,wrapResponseSerializer:N,wrapErrorSerializer:N,req:C,res:C,err:y};function n(E,h){return Array.isArray(E)?E.filter(function(K){return K!=="!stdSerializers.err"}):E===!0?Object.keys(h):!1}function i(E){E=E||{},E.browser=E.browser||{};const h=E.browser.transmit;if(h&&typeof h.send!="function")throw Error("pino: transmit option must have a send function");const b=E.browser.write||e;E.browser.write&&(E.browser.asObject=!0);const K=E.serializers||{},W=n(E.browser.serialize,K);let V=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const J=["error","fatal","warn","info","debug","trace"];typeof b=="function"&&(b.error=b.fatal=b.warn=b.info=b.debug=b.trace=b),E.enabled===!1&&(E.level="silent");const ne=E.level||"info",w=Object.create(b);w.log||(w.log=U),Object.defineProperty(w,"levelVal",{get:te}),Object.defineProperty(w,"level",{get:Q,set:Y});const T={transmit:h,serialize:W,asObject:E.browser.asObject,levels:J,timestamp:S(E)};w.levels=i.levels,w.level=ne,w.setMaxListeners=w.getMaxListeners=w.emit=w.addListener=w.on=w.prependListener=w.once=w.prependOnceListener=w.removeListener=w.removeAllListeners=w.listeners=w.listenerCount=w.eventNames=w.write=w.flush=U,w.serializers=K,w._serialize=W,w._stdErrSerialize=V,w.child=Z,h&&(w._logEvent=D());function te(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Q(){return this._level}function Y(ee){if(ee!=="silent"&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,a(T,w,"error","log"),a(T,w,"fatal","error"),a(T,w,"warn","error"),a(T,w,"info","log"),a(T,w,"debug","log"),a(T,w,"trace","log")}function Z(ee,oe){if(!ee)throw new Error("missing bindings for child Pino");oe=oe||{},W&&ee.serializers&&(oe.serializers=ee.serializers);const Ee=oe.serializers;if(W&&Ee){var ce=Object.assign({},K,Ee),xe=E.browser.serialize===!0?Object.keys(ce):W;delete ee.serializers,f([ee],xe,ce,this._stdErrSerialize)}function de(be){this._childLevel=(be._childLevel|0)+1,this.error=p(be,ee,"error"),this.fatal=p(be,ee,"fatal"),this.warn=p(be,ee,"warn"),this.info=p(be,ee,"info"),this.debug=p(be,ee,"debug"),this.trace=p(be,ee,"trace"),ce&&(this.serializers=ce,this._serialize=xe),h&&(this._logEvent=D([].concat(be._logEvent.bindings,ee)))}return de.prototype=this,new de(this)}return w}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=t,i.stdTimeFunctions=Object.assign({},{nullTime:H,epochTime:$,unixTime:P,isoTime:O});function a(E,h,b,K){const W=Object.getPrototypeOf(h);h[b]=h.levelVal>h.levels.values[b]?U:W[b]?W[b]:e[b]||e[K]||U,c(E,h,b)}function c(E,h,b){!E.transmit&&h[b]===U||(h[b]=function(K){return function(){const V=E.timestamp(),J=new Array(arguments.length),ne=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var w=0;w<J.length;w++)J[w]=arguments[w];if(E.serialize&&!E.asObject&&f(J,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?K.call(ne,u(this,b,J,V)):K.apply(ne,J),E.transmit){const T=E.transmit.level||h.level,te=i.levels.values[T],Q=i.levels.values[b];if(Q<te)return;m(this,{ts:V,methodLevel:b,methodValue:Q,transmitLevel:T,transmitValue:i.levels.values[E.transmit.level||h.level],send:E.transmit.send,val:h.levelVal},J)}}}(h[b]))}function u(E,h,b,K){E._serialize&&f(b,E._serialize,E.serializers,E._stdErrSerialize);const W=b.slice();let V=W[0];const J={};K&&(J.time=K),J.level=i.levels.values[h];let ne=(E._childLevel|0)+1;if(ne<1&&(ne=1),V!==null&&typeof V=="object"){for(;ne--&&typeof W[0]=="object";)Object.assign(J,W.shift());V=W.length?r(W.shift(),W):void 0}else typeof V=="string"&&(V=r(W.shift(),W));return V!==void 0&&(J.msg=V),J}function f(E,h,b,K){for(const W in E)if(K&&E[W]instanceof Error)E[W]=i.stdSerializers.err(E[W]);else if(typeof E[W]=="object"&&!Array.isArray(E[W]))for(const V in E[W])h&&h.indexOf(V)>-1&&V in b&&(E[W][V]=b[V](E[W][V]))}function p(E,h,b){return function(){const K=new Array(1+arguments.length);K[0]=h;for(var W=1;W<K.length;W++)K[W]=arguments[W-1];return E[b].apply(this,K)}}function m(E,h,b){const K=h.send,W=h.ts,V=h.methodLevel,J=h.methodValue,ne=h.val,w=E._logEvent.bindings;f(b,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=W,E._logEvent.messages=b.filter(function(T){return w.indexOf(T)===-1}),E._logEvent.level.label=V,E._logEvent.level.value=J,K(V,E._logEvent,ne),E._logEvent=D(w)}function D(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function y(E){const h={type:E.constructor.name,msg:E.message,stack:E.stack};for(const b in E)h[b]===void 0&&(h[b]=E[b]);return h}function S(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?H:$}function C(){return{}}function N(E){return E}function U(){}function H(){return!1}function $(){return Date.now()}function P(){return Math.round(Date.now()/1e3)}function O(){return new Date(Date.now()).toISOString()}function A(){function E(h){return typeof h<"u"&&h}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return bu}var Li={},Cp;function Ip(){return Cp||(Cp=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.PINO_CUSTOM_CONTEXT_KEY=Li.PINO_LOGGER_DEFAULTS=void 0,Li.PINO_LOGGER_DEFAULTS={level:"info"},Li.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Li}var _r={},$p;function P5(){if($p)return _r;$p=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.generateChildLogger=_r.formatChildLoggerContext=_r.getLoggerContext=_r.setBrowserLoggerContext=_r.getBrowserLoggerContext=_r.getDefaultLoggerOptions=void 0;const r=Ip();function e(u){return Object.assign(Object.assign({},u),{level:u?.level||r.PINO_LOGGER_DEFAULTS.level})}_r.getDefaultLoggerOptions=e;function t(u,f=r.PINO_CUSTOM_CONTEXT_KEY){return u[f]||""}_r.getBrowserLoggerContext=t;function n(u,f,p=r.PINO_CUSTOM_CONTEXT_KEY){return u[p]=f,u}_r.setBrowserLoggerContext=n;function i(u,f=r.PINO_CUSTOM_CONTEXT_KEY){let p="";return typeof u.bindings>"u"?p=t(u,f):p=u.bindings().context||"",p}_r.getLoggerContext=i;function a(u,f,p=r.PINO_CUSTOM_CONTEXT_KEY){const m=i(u,p);return m.trim()?`${m}/${f}`:f}_r.formatChildLoggerContext=a;function c(u,f,p=r.PINO_CUSTOM_CONTEXT_KEY){const m=a(u,f,p),D=u.child({context:m});return n(D,m,p)}return _r.generateChildLogger=c,_r}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pino=void 0;const e=I5,t=e.__importDefault(A5());Object.defineProperty(r,"pino",{enumerable:!0,get:function(){return t.default}}),e.__exportStar(Ip(),r),e.__exportStar(P5(),r)})(tt);class T5 extends Ri{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class R5 extends Ri{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class N5{constructor(e,t){this.logger=e,this.core=t}}class L5 extends Ri{constructor(e,t){super(),this.relayer=e,this.logger=t}}class M5 extends Ri{constructor(e){super()}}class U5{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}}class j5 extends Ri{constructor(e,t){super(),this.relayer=e,this.logger=t}}class F5 extends Ri{constructor(e,t){super(),this.core=e,this.logger=t}}class B5{constructor(e,t){this.projectId=e,this.logger=t}}class k5{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class H5{constructor(e){this.client=e}}const z5=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),q5=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function _u(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return q5(r)}catch{return r}}function So(r){return typeof r=="string"?r:z5(r)||""}var Eu={},Ap={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Me,t=Hr;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},u.prototype.update=function(f,p){if(p===void 0&&(p=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var m=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&p>0;)this._buffer[this._bufferLength++]=f[m++],p--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(m=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,m,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=f[m++],p--;return this},u.prototype.finish=function(f){if(!this._finished){var p=this._bytesHashed,m=this._bufferLength,D=p/536870912|0,y=p<<3,S=p%128<112?128:256;this._buffer[m]=128;for(var C=m+1;C<S-8;C++)this._buffer[C]=0;e.writeUint32BE(D,this._buffer,S-8),e.writeUint32BE(y,this._buffer,S-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,S),this._finished=!0}for(var C=0;C<this.digestLength/8;C++)e.writeUint32BE(this._stateHi[C],f,C*8),e.writeUint32BE(this._stateLo[C],f,C*8+4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){t.wipe(f.stateHi),t.wipe(f.stateLo),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();r.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(u,f,p,m,D,y,S){for(var C=p[0],N=p[1],U=p[2],H=p[3],$=p[4],P=p[5],O=p[6],A=p[7],E=m[0],h=m[1],b=m[2],K=m[3],W=m[4],V=m[5],J=m[6],ne=m[7],w,T,te,Q,Y,Z,ee,oe;S>=128;){for(var Ee=0;Ee<16;Ee++){var ce=8*Ee+y;u[Ee]=e.readUint32BE(D,ce),f[Ee]=e.readUint32BE(D,ce+4)}for(var Ee=0;Ee<80;Ee++){var xe=C,de=N,be=U,q=H,z=$,j=P,g=O,L=A,le=E,pe=h,Ce=b,Ve=K,Ze=W,ke=V,St=J,Dt=ne;if(w=A,T=ne,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=($>>>14|W<<32-14)^($>>>18|W<<32-18)^(W>>>41-32|$<<32-(41-32)),T=(W>>>14|$<<32-14)^(W>>>18|$<<32-18)^($>>>41-32|W<<32-(41-32)),Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,w=$&P^~$&O,T=W&V^~W&J,Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,w=i[Ee*2],T=i[Ee*2+1],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,w=u[Ee%16],T=f[Ee%16],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,te=ee&65535|oe<<16,Q=Y&65535|Z<<16,w=te,T=Q,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=(C>>>28|E<<32-28)^(E>>>34-32|C<<32-(34-32))^(E>>>39-32|C<<32-(39-32)),T=(E>>>28|C<<32-28)^(C>>>34-32|E<<32-(34-32))^(C>>>39-32|E<<32-(39-32)),Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,w=C&N^C&U^N&U,T=E&h^E&b^h&b,Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,L=ee&65535|oe<<16,Dt=Y&65535|Z<<16,w=q,T=Ve,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=te,T=Q,Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,q=ee&65535|oe<<16,Ve=Y&65535|Z<<16,N=xe,U=de,H=be,$=q,P=z,O=j,A=g,C=L,h=le,b=pe,K=Ce,W=Ve,V=Ze,J=ke,ne=St,E=Dt,Ee%16===15)for(var ce=0;ce<16;ce++)w=u[ce],T=f[ce],Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=u[(ce+9)%16],T=f[(ce+9)%16],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,te=u[(ce+1)%16],Q=f[(ce+1)%16],w=(te>>>1|Q<<32-1)^(te>>>8|Q<<32-8)^te>>>7,T=(Q>>>1|te<<32-1)^(Q>>>8|te<<32-8)^(Q>>>7|te<<32-7),Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,te=u[(ce+14)%16],Q=f[(ce+14)%16],w=(te>>>19|Q<<32-19)^(Q>>>61-32|te<<32-(61-32))^te>>>6,T=(Q>>>19|te<<32-19)^(te>>>61-32|Q<<32-(61-32))^(Q>>>6|te<<32-6),Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,u[ce]=ee&65535|oe<<16,f[ce]=Y&65535|Z<<16}w=C,T=E,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[0],T=m[0],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[0]=C=ee&65535|oe<<16,m[0]=E=Y&65535|Z<<16,w=N,T=h,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[1],T=m[1],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[1]=N=ee&65535|oe<<16,m[1]=h=Y&65535|Z<<16,w=U,T=b,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[2],T=m[2],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[2]=U=ee&65535|oe<<16,m[2]=b=Y&65535|Z<<16,w=H,T=K,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[3],T=m[3],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[3]=H=ee&65535|oe<<16,m[3]=K=Y&65535|Z<<16,w=$,T=W,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[4],T=m[4],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[4]=$=ee&65535|oe<<16,m[4]=W=Y&65535|Z<<16,w=P,T=V,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[5],T=m[5],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[5]=P=ee&65535|oe<<16,m[5]=V=Y&65535|Z<<16,w=O,T=J,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[6],T=m[6],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[6]=O=ee&65535|oe<<16,m[6]=J=Y&65535|Z<<16,w=A,T=ne,Y=T&65535,Z=T>>>16,ee=w&65535,oe=w>>>16,w=p[7],T=m[7],Y+=T&65535,Z+=T>>>16,ee+=w&65535,oe+=w>>>16,Z+=Y>>>16,ee+=Z>>>16,oe+=ee>>>16,p[7]=A=ee&65535|oe<<16,m[7]=ne=Y&65535|Z<<16,y+=128,S-=128}return y}function c(u){var f=new n;f.update(u);var p=f.digest();return f.clean(),p}r.hash=c})(Ap),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=hs,t=Ap,n=Hr;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function i(q){const z=new Float64Array(16);if(q)for(let j=0;j<q.length;j++)z[j]=q[j];return z}const a=new Uint8Array(32);a[0]=9;const c=i(),u=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),D=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(q,z){for(let j=0;j<16;j++)q[j]=z[j]|0}function C(q){let z=1;for(let j=0;j<16;j++){let g=q[j]+z+65535;z=Math.floor(g/65536),q[j]=g-z*65536}q[0]+=z-1+37*(z-1)}function N(q,z,j){const g=~(j-1);for(let L=0;L<16;L++){const le=g&(q[L]^z[L]);q[L]^=le,z[L]^=le}}function U(q,z){const j=i(),g=i();for(let L=0;L<16;L++)g[L]=z[L];C(g),C(g),C(g);for(let L=0;L<2;L++){j[0]=g[0]-65517;for(let pe=1;pe<15;pe++)j[pe]=g[pe]-65535-(j[pe-1]>>16&1),j[pe-1]&=65535;j[15]=g[15]-32767-(j[14]>>16&1);const le=j[15]>>16&1;j[14]&=65535,N(g,j,1-le)}for(let L=0;L<16;L++)q[2*L]=g[L]&255,q[2*L+1]=g[L]>>8}function H(q,z){let j=0;for(let g=0;g<32;g++)j|=q[g]^z[g];return(1&j-1>>>8)-1}function $(q,z){const j=new Uint8Array(32),g=new Uint8Array(32);return U(j,q),U(g,z),H(j,g)}function P(q){const z=new Uint8Array(32);return U(z,q),z[0]&1}function O(q,z){for(let j=0;j<16;j++)q[j]=z[2*j]+(z[2*j+1]<<8);q[15]&=32767}function A(q,z,j){for(let g=0;g<16;g++)q[g]=z[g]+j[g]}function E(q,z,j){for(let g=0;g<16;g++)q[g]=z[g]-j[g]}function h(q,z,j){let g,L,le=0,pe=0,Ce=0,Ve=0,Ze=0,ke=0,St=0,Dt=0,ze=0,Ie=0,Ue=0,je=0,qe=0,Ae=0,Fe=0,Oe=0,Te=0,Ke=0,$e=0,Je=0,Xe=0,at=0,ct=0,nt=0,Sr=0,Mr=0,Cn=0,Dr=0,kn=0,mi=0,Zi=0,Rt=j[0],Ot=j[1],Nt=j[2],Lt=j[3],At=j[4],Ct=j[5],Gt=j[6],Yt=j[7],Mt=j[8],Zt=j[9],Ut=j[10],zt=j[11],jt=j[12],_t=j[13],Jt=j[14],Qt=j[15];g=z[0],le+=g*Rt,pe+=g*Ot,Ce+=g*Nt,Ve+=g*Lt,Ze+=g*At,ke+=g*Ct,St+=g*Gt,Dt+=g*Yt,ze+=g*Mt,Ie+=g*Zt,Ue+=g*Ut,je+=g*zt,qe+=g*jt,Ae+=g*_t,Fe+=g*Jt,Oe+=g*Qt,g=z[1],pe+=g*Rt,Ce+=g*Ot,Ve+=g*Nt,Ze+=g*Lt,ke+=g*At,St+=g*Ct,Dt+=g*Gt,ze+=g*Yt,Ie+=g*Mt,Ue+=g*Zt,je+=g*Ut,qe+=g*zt,Ae+=g*jt,Fe+=g*_t,Oe+=g*Jt,Te+=g*Qt,g=z[2],Ce+=g*Rt,Ve+=g*Ot,Ze+=g*Nt,ke+=g*Lt,St+=g*At,Dt+=g*Ct,ze+=g*Gt,Ie+=g*Yt,Ue+=g*Mt,je+=g*Zt,qe+=g*Ut,Ae+=g*zt,Fe+=g*jt,Oe+=g*_t,Te+=g*Jt,Ke+=g*Qt,g=z[3],Ve+=g*Rt,Ze+=g*Ot,ke+=g*Nt,St+=g*Lt,Dt+=g*At,ze+=g*Ct,Ie+=g*Gt,Ue+=g*Yt,je+=g*Mt,qe+=g*Zt,Ae+=g*Ut,Fe+=g*zt,Oe+=g*jt,Te+=g*_t,Ke+=g*Jt,$e+=g*Qt,g=z[4],Ze+=g*Rt,ke+=g*Ot,St+=g*Nt,Dt+=g*Lt,ze+=g*At,Ie+=g*Ct,Ue+=g*Gt,je+=g*Yt,qe+=g*Mt,Ae+=g*Zt,Fe+=g*Ut,Oe+=g*zt,Te+=g*jt,Ke+=g*_t,$e+=g*Jt,Je+=g*Qt,g=z[5],ke+=g*Rt,St+=g*Ot,Dt+=g*Nt,ze+=g*Lt,Ie+=g*At,Ue+=g*Ct,je+=g*Gt,qe+=g*Yt,Ae+=g*Mt,Fe+=g*Zt,Oe+=g*Ut,Te+=g*zt,Ke+=g*jt,$e+=g*_t,Je+=g*Jt,Xe+=g*Qt,g=z[6],St+=g*Rt,Dt+=g*Ot,ze+=g*Nt,Ie+=g*Lt,Ue+=g*At,je+=g*Ct,qe+=g*Gt,Ae+=g*Yt,Fe+=g*Mt,Oe+=g*Zt,Te+=g*Ut,Ke+=g*zt,$e+=g*jt,Je+=g*_t,Xe+=g*Jt,at+=g*Qt,g=z[7],Dt+=g*Rt,ze+=g*Ot,Ie+=g*Nt,Ue+=g*Lt,je+=g*At,qe+=g*Ct,Ae+=g*Gt,Fe+=g*Yt,Oe+=g*Mt,Te+=g*Zt,Ke+=g*Ut,$e+=g*zt,Je+=g*jt,Xe+=g*_t,at+=g*Jt,ct+=g*Qt,g=z[8],ze+=g*Rt,Ie+=g*Ot,Ue+=g*Nt,je+=g*Lt,qe+=g*At,Ae+=g*Ct,Fe+=g*Gt,Oe+=g*Yt,Te+=g*Mt,Ke+=g*Zt,$e+=g*Ut,Je+=g*zt,Xe+=g*jt,at+=g*_t,ct+=g*Jt,nt+=g*Qt,g=z[9],Ie+=g*Rt,Ue+=g*Ot,je+=g*Nt,qe+=g*Lt,Ae+=g*At,Fe+=g*Ct,Oe+=g*Gt,Te+=g*Yt,Ke+=g*Mt,$e+=g*Zt,Je+=g*Ut,Xe+=g*zt,at+=g*jt,ct+=g*_t,nt+=g*Jt,Sr+=g*Qt,g=z[10],Ue+=g*Rt,je+=g*Ot,qe+=g*Nt,Ae+=g*Lt,Fe+=g*At,Oe+=g*Ct,Te+=g*Gt,Ke+=g*Yt,$e+=g*Mt,Je+=g*Zt,Xe+=g*Ut,at+=g*zt,ct+=g*jt,nt+=g*_t,Sr+=g*Jt,Mr+=g*Qt,g=z[11],je+=g*Rt,qe+=g*Ot,Ae+=g*Nt,Fe+=g*Lt,Oe+=g*At,Te+=g*Ct,Ke+=g*Gt,$e+=g*Yt,Je+=g*Mt,Xe+=g*Zt,at+=g*Ut,ct+=g*zt,nt+=g*jt,Sr+=g*_t,Mr+=g*Jt,Cn+=g*Qt,g=z[12],qe+=g*Rt,Ae+=g*Ot,Fe+=g*Nt,Oe+=g*Lt,Te+=g*At,Ke+=g*Ct,$e+=g*Gt,Je+=g*Yt,Xe+=g*Mt,at+=g*Zt,ct+=g*Ut,nt+=g*zt,Sr+=g*jt,Mr+=g*_t,Cn+=g*Jt,Dr+=g*Qt,g=z[13],Ae+=g*Rt,Fe+=g*Ot,Oe+=g*Nt,Te+=g*Lt,Ke+=g*At,$e+=g*Ct,Je+=g*Gt,Xe+=g*Yt,at+=g*Mt,ct+=g*Zt,nt+=g*Ut,Sr+=g*zt,Mr+=g*jt,Cn+=g*_t,Dr+=g*Jt,kn+=g*Qt,g=z[14],Fe+=g*Rt,Oe+=g*Ot,Te+=g*Nt,Ke+=g*Lt,$e+=g*At,Je+=g*Ct,Xe+=g*Gt,at+=g*Yt,ct+=g*Mt,nt+=g*Zt,Sr+=g*Ut,Mr+=g*zt,Cn+=g*jt,Dr+=g*_t,kn+=g*Jt,mi+=g*Qt,g=z[15],Oe+=g*Rt,Te+=g*Ot,Ke+=g*Nt,$e+=g*Lt,Je+=g*At,Xe+=g*Ct,at+=g*Gt,ct+=g*Yt,nt+=g*Mt,Sr+=g*Zt,Mr+=g*Ut,Cn+=g*zt,Dr+=g*jt,kn+=g*_t,mi+=g*Jt,Zi+=g*Qt,le+=38*Te,pe+=38*Ke,Ce+=38*$e,Ve+=38*Je,Ze+=38*Xe,ke+=38*at,St+=38*ct,Dt+=38*nt,ze+=38*Sr,Ie+=38*Mr,Ue+=38*Cn,je+=38*Dr,qe+=38*kn,Ae+=38*mi,Fe+=38*Zi,L=1,g=le+L+65535,L=Math.floor(g/65536),le=g-L*65536,g=pe+L+65535,L=Math.floor(g/65536),pe=g-L*65536,g=Ce+L+65535,L=Math.floor(g/65536),Ce=g-L*65536,g=Ve+L+65535,L=Math.floor(g/65536),Ve=g-L*65536,g=Ze+L+65535,L=Math.floor(g/65536),Ze=g-L*65536,g=ke+L+65535,L=Math.floor(g/65536),ke=g-L*65536,g=St+L+65535,L=Math.floor(g/65536),St=g-L*65536,g=Dt+L+65535,L=Math.floor(g/65536),Dt=g-L*65536,g=ze+L+65535,L=Math.floor(g/65536),ze=g-L*65536,g=Ie+L+65535,L=Math.floor(g/65536),Ie=g-L*65536,g=Ue+L+65535,L=Math.floor(g/65536),Ue=g-L*65536,g=je+L+65535,L=Math.floor(g/65536),je=g-L*65536,g=qe+L+65535,L=Math.floor(g/65536),qe=g-L*65536,g=Ae+L+65535,L=Math.floor(g/65536),Ae=g-L*65536,g=Fe+L+65535,L=Math.floor(g/65536),Fe=g-L*65536,g=Oe+L+65535,L=Math.floor(g/65536),Oe=g-L*65536,le+=L-1+37*(L-1),L=1,g=le+L+65535,L=Math.floor(g/65536),le=g-L*65536,g=pe+L+65535,L=Math.floor(g/65536),pe=g-L*65536,g=Ce+L+65535,L=Math.floor(g/65536),Ce=g-L*65536,g=Ve+L+65535,L=Math.floor(g/65536),Ve=g-L*65536,g=Ze+L+65535,L=Math.floor(g/65536),Ze=g-L*65536,g=ke+L+65535,L=Math.floor(g/65536),ke=g-L*65536,g=St+L+65535,L=Math.floor(g/65536),St=g-L*65536,g=Dt+L+65535,L=Math.floor(g/65536),Dt=g-L*65536,g=ze+L+65535,L=Math.floor(g/65536),ze=g-L*65536,g=Ie+L+65535,L=Math.floor(g/65536),Ie=g-L*65536,g=Ue+L+65535,L=Math.floor(g/65536),Ue=g-L*65536,g=je+L+65535,L=Math.floor(g/65536),je=g-L*65536,g=qe+L+65535,L=Math.floor(g/65536),qe=g-L*65536,g=Ae+L+65535,L=Math.floor(g/65536),Ae=g-L*65536,g=Fe+L+65535,L=Math.floor(g/65536),Fe=g-L*65536,g=Oe+L+65535,L=Math.floor(g/65536),Oe=g-L*65536,le+=L-1+37*(L-1),q[0]=le,q[1]=pe,q[2]=Ce,q[3]=Ve,q[4]=Ze,q[5]=ke,q[6]=St,q[7]=Dt,q[8]=ze,q[9]=Ie,q[10]=Ue,q[11]=je,q[12]=qe,q[13]=Ae,q[14]=Fe,q[15]=Oe}function b(q,z){h(q,z,z)}function K(q,z){const j=i();let g;for(g=0;g<16;g++)j[g]=z[g];for(g=253;g>=0;g--)b(j,j),g!==2&&g!==4&&h(j,j,z);for(g=0;g<16;g++)q[g]=j[g]}function W(q,z){const j=i();let g;for(g=0;g<16;g++)j[g]=z[g];for(g=250;g>=0;g--)b(j,j),g!==1&&h(j,j,z);for(g=0;g<16;g++)q[g]=j[g]}function V(q,z){const j=i(),g=i(),L=i(),le=i(),pe=i(),Ce=i(),Ve=i(),Ze=i(),ke=i();E(j,q[1],q[0]),E(ke,z[1],z[0]),h(j,j,ke),A(g,q[0],q[1]),A(ke,z[0],z[1]),h(g,g,ke),h(L,q[3],z[3]),h(L,L,p),h(le,q[2],z[2]),A(le,le,le),E(pe,g,j),E(Ce,le,L),A(Ve,le,L),A(Ze,g,j),h(q[0],pe,Ce),h(q[1],Ze,Ve),h(q[2],Ve,Ce),h(q[3],pe,Ze)}function J(q,z,j){for(let g=0;g<4;g++)N(q[g],z[g],j)}function ne(q,z){const j=i(),g=i(),L=i();K(L,z[2]),h(j,z[0],L),h(g,z[1],L),U(q,g),q[31]^=P(j)<<7}function w(q,z,j){S(q[0],c),S(q[1],u),S(q[2],u),S(q[3],c);for(let g=255;g>=0;--g){const L=j[g/8|0]>>(g&7)&1;J(q,z,L),V(z,q),V(q,q),J(q,z,L)}}function T(q,z){const j=[i(),i(),i(),i()];S(j[0],m),S(j[1],D),S(j[2],u),h(j[3],m,D),w(q,j,z)}function te(q){if(q.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const z=(0,t.hash)(q);z[0]&=248,z[31]&=127,z[31]|=64;const j=new Uint8Array(32),g=[i(),i(),i(),i()];T(g,z),ne(j,g);const L=new Uint8Array(64);return L.set(q),L.set(j,32),{publicKey:j,secretKey:L}}r.generateKeyPairFromSeed=te;function Q(q){const z=(0,e.randomBytes)(32,q),j=te(z);return(0,n.wipe)(z),j}r.generateKeyPair=Q;function Y(q){if(q.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(q.subarray(32))}r.extractPublicKeyFromSecretKey=Y;const Z=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ee(q,z){let j,g,L,le;for(g=63;g>=32;--g){for(j=0,L=g-32,le=g-12;L<le;++L)z[L]+=j-16*z[g]*Z[L-(g-32)],j=Math.floor((z[L]+128)/256),z[L]-=j*256;z[L]+=j,z[g]=0}for(j=0,L=0;L<32;L++)z[L]+=j-(z[31]>>4)*Z[L],j=z[L]>>8,z[L]&=255;for(L=0;L<32;L++)z[L]-=j*Z[L];for(g=0;g<32;g++)z[g+1]+=z[g]>>8,q[g]=z[g]&255}function oe(q){const z=new Float64Array(64);for(let j=0;j<64;j++)z[j]=q[j];for(let j=0;j<64;j++)q[j]=0;ee(q,z)}function Ee(q,z){const j=new Float64Array(64),g=[i(),i(),i(),i()],L=(0,t.hash)(q.subarray(0,32));L[0]&=248,L[31]&=127,L[31]|=64;const le=new Uint8Array(64);le.set(L.subarray(32),32);const pe=new t.SHA512;pe.update(le.subarray(32)),pe.update(z);const Ce=pe.digest();pe.clean(),oe(Ce),T(g,Ce),ne(le,g),pe.reset(),pe.update(le.subarray(0,32)),pe.update(q.subarray(32)),pe.update(z);const Ve=pe.digest();oe(Ve);for(let Ze=0;Ze<32;Ze++)j[Ze]=Ce[Ze];for(let Ze=0;Ze<32;Ze++)for(let ke=0;ke<32;ke++)j[Ze+ke]+=Ve[Ze]*L[ke];return ee(le.subarray(32),j),le}r.sign=Ee;function ce(q,z){const j=i(),g=i(),L=i(),le=i(),pe=i(),Ce=i(),Ve=i();return S(q[2],u),O(q[1],z),b(L,q[1]),h(le,L,f),E(L,L,q[2]),A(le,q[2],le),b(pe,le),b(Ce,pe),h(Ve,Ce,pe),h(j,Ve,L),h(j,j,le),W(j,j),h(j,j,L),h(j,j,le),h(j,j,le),h(q[0],j,le),b(g,q[0]),h(g,g,le),$(g,L)&&h(q[0],q[0],y),b(g,q[0]),h(g,g,le),$(g,L)?-1:(P(q[0])===z[31]>>7&&E(q[0],c,q[0]),h(q[3],q[0],q[1]),0)}function xe(q,z,j){const g=new Uint8Array(32),L=[i(),i(),i(),i()],le=[i(),i(),i(),i()];if(j.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(ce(le,q))return!1;const pe=new t.SHA512;pe.update(j.subarray(0,32)),pe.update(q),pe.update(z);const Ce=pe.digest();return oe(Ce),w(L,le,Ce),T(le,j.subarray(32)),V(L,le),ne(g,L),!H(j,g)}r.verify=xe;function de(q){let z=[i(),i(),i(),i()];if(ce(z,q))throw new Error("Ed25519: invalid public key");let j=i(),g=i(),L=z[1];A(j,u,L),E(g,u,L),K(g,g),h(j,j,g);let le=new Uint8Array(32);return U(le,j),le}r.convertPublicKeyToX25519=de;function be(q){const z=(0,t.hash)(q.subarray(0,32));z[0]&=248,z[31]&=127,z[31]|=64;const j=new Uint8Array(z.subarray(0,32));return(0,n.wipe)(z),j}r.convertSecretKeyToX25519=be}(Eu);const W5="EdDSA",V5="JWT",Pp=".",Tp="base64url",K5="utf8",G5="utf8",Y5=":",Z5="did",J5="key",Rp="base58btc",Q5="z",X5="K36",e6=32;function ja(r){return yr(Ar(So(r),K5),Tp)}function Np(r){const e=Ar(X5,Rp),t=Q5+yr(Ml([e,r]),Rp);return[Z5,J5,t].join(Y5)}function t6(r){return yr(r,Tp)}function r6(r){return Ar([ja(r.header),ja(r.payload)].join(Pp),G5)}function n6(r){return[ja(r.header),ja(r.payload),t6(r.signature)].join(Pp)}function Lp(r=hs.randomBytes(e6)){return Eu.generateKeyPairFromSeed(r)}async function i6(r,e,t,n,i=ye.fromMiliseconds(Date.now())){const a={alg:W5,typ:V5},c=Np(n.publicKey),u=i+t,f={iss:c,sub:r,aud:e,iat:i,exp:u},p=r6({header:a,payload:f}),m=Eu.sign(n.secretKey,p);return n6({header:a,payload:f,signature:m})}const s6="PARSE_ERROR",o6="INVALID_REQUEST",a6="METHOD_NOT_FOUND",c6="INVALID_PARAMS",Mp="INTERNAL_ERROR",xu="SERVER_ERROR",l6=[-32700,-32600,-32601,-32602,-32603],Do={[s6]:{code:-32700,message:"Parse error"},[o6]:{code:-32600,message:"Invalid Request"},[a6]:{code:-32601,message:"Method not found"},[c6]:{code:-32602,message:"Invalid params"},[Mp]:{code:-32603,message:"Internal error"},[xu]:{code:-32e3,message:"Server error"}},Up=xu;function u6(r){return l6.includes(r)}function jp(r){return Object.keys(Do).includes(r)?Do[r]:Do[Up]}function h6(r){const e=Object.values(Do).find(t=>t.code===r);return e||Do[Up]}function Fp(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var Bp={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Su=function(r,e){return Su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Su(r,e)};function f6(r,e){Su(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Du=function(){return Du=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Du.apply(this,arguments)};function d6(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function p6(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function g6(r,e){return function(t,n){e(t,n,r)}}function m6(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function v6(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(D){c(D)}}function f(m){try{p(n.throw(m))}catch(D){c(D)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((n=n.apply(r,e||[])).next())})}function y6(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return f([p,m])}}function f(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function w6(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function b6(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Ou(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kp(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function _6(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(kp(arguments[e]));return r}function E6(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function Oo(r){return this instanceof Oo?(this.v=r,this):new Oo(r)}function x6(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){n[y]&&(i[y]=function(S){return new Promise(function(C,N){a.push([y,S,C,N])>1||u(y,S)})})}function u(y,S){try{f(n[y](S))}catch(C){D(a[0][3],C)}}function f(y){y.value instanceof Oo?Promise.resolve(y.value.v).then(p,m):D(a[0][2],y)}function p(y){u("next",y)}function m(y){u("throw",y)}function D(y,S){y(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function S6(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:Oo(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function D6(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Ou=="function"?Ou(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,f){c=r[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},c)}}function O6(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function C6(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function I6(r){return r&&r.__esModule?r:{default:r}}function $6(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function A6(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var P6=Object.freeze({__proto__:null,__extends:f6,get __assign(){return Du},__rest:d6,__decorate:p6,__param:g6,__metadata:m6,__awaiter:v6,__generator:y6,__createBinding:w6,__exportStar:b6,__values:Ou,__read:kp,__spread:_6,__spreadArrays:E6,__await:Oo,__asyncGenerator:x6,__asyncDelegator:S6,__asyncValues:D6,__makeTemplateObject:O6,__importStar:C6,__importDefault:I6,__classPrivateFieldGet:$6,__classPrivateFieldSet:A6}),T6=Ci(P6),Rn={},Hp;function R6(){if(Hp)return Rn;Hp=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.isBrowserCryptoAvailable=Rn.getSubtleCrypto=Rn.getBrowerCrypto=void 0;function r(){return ir?.crypto||ir?.msCrypto||{}}Rn.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}Rn.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Rn.isBrowserCryptoAvailable=t,Rn}var Nn={},zp;function N6(){if(zp)return Nn;zp=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isBrowser=Nn.isNode=Nn.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Nn.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Nn.isNode=e;function t(){return!r()&&!e()}return Nn.isBrowser=t,Nn}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=T6;e.__exportStar(R6(),r),e.__exportStar(N6(),r)})(Bp);function Cu(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function qp(r=6){return BigInt(Cu(r))}function Co(r,e,t){return{id:t||Cu(),jsonrpc:"2.0",method:r,params:e}}function Iu(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Fa(r,e,t){return{id:r,jsonrpc:"2.0",error:L6(e,t)}}function L6(r,e){return typeof r>"u"?jp(Mp):(typeof r=="string"&&(r=Object.assign(Object.assign({},jp(xu)),{message:r})),typeof e<"u"&&(r.data=e),u6(r.code)&&(r=h6(r.code)),r)}class M6{}class U6 extends M6{constructor(){super()}}class j6 extends U6{constructor(e){super()}}const F6="^https?:",B6="^wss?:";function k6(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Wp(r,e){const t=k6(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Vp(r){return Wp(r,F6)}function Kp(r){return Wp(r,B6)}function H6(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function Gp(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function $u(r){return Gp(r)&&"method"in r}function Ba(r){return Gp(r)&&(Ln(r)||fn(r))}function Ln(r){return"result"in r}function fn(r){return"error"in r}class ti extends j6{constructor(e){super(e),this.events=new lr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Co(e.method,e.params||[],e.id||qp().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{fn(a)?i(a.error):n(a.result)});try{await this.connection.send(e,t)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ba(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const z6=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),q6=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Yp=r=>r.split("?")[0],Zp=10,W6=z6();class V6{constructor(e){if(this.url=e,this.events=new lr.exports.EventEmitter,this.registering=!1,!Kp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(So(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Kp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const i=Bp.isReactNative()?void 0:{rejectUnauthorized:!H6(e)},a=new W6(e,[],i);q6()?a.onerror=c=>{const u=c;n(this.emitError(u.error))}:a.on("error",c=>{n(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?_u(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),a=Fa(e,i);this.events.emit("payload",a)}parseError(e,t=this.url){return Fp(e,Yp(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Zp&&this.events.setMaxListeners(Zp)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Yp(this.url)}`));return this.events.emit("register_error",t),t}}var Au={exports:{}};(function(r,e){var t=200,n="__lodash_hash_undefined__",i=1,a=2,c=9007199254740991,u="[object Arguments]",f="[object Array]",p="[object AsyncFunction]",m="[object Boolean]",D="[object Date]",y="[object Error]",S="[object Function]",C="[object GeneratorFunction]",N="[object Map]",U="[object Number]",H="[object Null]",$="[object Object]",P="[object Promise]",O="[object Proxy]",A="[object RegExp]",E="[object Set]",h="[object String]",b="[object Symbol]",K="[object Undefined]",W="[object WeakMap]",V="[object ArrayBuffer]",J="[object DataView]",ne="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",te="[object Int16Array]",Q="[object Int32Array]",Y="[object Uint8Array]",Z="[object Uint8ClampedArray]",ee="[object Uint16Array]",oe="[object Uint32Array]",Ee=/[\\^$.*+?()[\]{}|]/g,ce=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,de={};de[ne]=de[w]=de[T]=de[te]=de[Q]=de[Y]=de[Z]=de[ee]=de[oe]=!0,de[u]=de[f]=de[V]=de[m]=de[J]=de[D]=de[y]=de[S]=de[N]=de[U]=de[$]=de[A]=de[E]=de[h]=de[W]=!1;var be=typeof ir=="object"&&ir&&ir.Object===Object&&ir,q=typeof self=="object"&&self&&self.Object===Object&&self,z=be||q||Function("return this")(),j=e&&!e.nodeType&&e,g=j&&!0&&r&&!r.nodeType&&r,L=g&&g.exports===j,le=L&&be.process,pe=function(){try{return le&&le.binding&&le.binding("util")}catch{}}(),Ce=pe&&pe.isTypedArray;function Ve(I,F){for(var se=-1,ge=I==null?0:I.length,vt=0,Ne=[];++se<ge;){var Et=I[se];F(Et,se,I)&&(Ne[vt++]=Et)}return Ne}function Ze(I,F){for(var se=-1,ge=F.length,vt=I.length;++se<ge;)I[vt+se]=F[se];return I}function ke(I,F){for(var se=-1,ge=I==null?0:I.length;++se<ge;)if(F(I[se],se,I))return!0;return!1}function St(I,F){for(var se=-1,ge=Array(I);++se<I;)ge[se]=F(se);return ge}function Dt(I){return function(F){return I(F)}}function ze(I,F){return I.has(F)}function Ie(I,F){return I?.[F]}function Ue(I){var F=-1,se=Array(I.size);return I.forEach(function(ge,vt){se[++F]=[vt,ge]}),se}function je(I,F){return function(se){return I(F(se))}}function qe(I){var F=-1,se=Array(I.size);return I.forEach(function(ge){se[++F]=ge}),se}var Ae=Array.prototype,Fe=Function.prototype,Oe=Object.prototype,Te=z["__core-js_shared__"],Ke=Fe.toString,$e=Oe.hasOwnProperty,Je=function(){var I=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Xe=Oe.toString,at=RegExp("^"+Ke.call($e).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=L?z.Buffer:void 0,nt=z.Symbol,Sr=z.Uint8Array,Mr=Oe.propertyIsEnumerable,Cn=Ae.splice,Dr=nt?nt.toStringTag:void 0,kn=Object.getOwnPropertySymbols,mi=ct?ct.isBuffer:void 0,Zi=je(Object.keys,Object),Rt=Wr(z,"DataView"),Ot=Wr(z,"Map"),Nt=Wr(z,"Promise"),Lt=Wr(z,"Set"),At=Wr(z,"WeakMap"),Ct=Wr(Object,"create"),Gt=zn(Rt),Yt=zn(Ot),Mt=zn(Nt),Zt=zn(Lt),Ut=zn(At),zt=nt?nt.prototype:void 0,jt=zt?zt.valueOf:void 0;function _t(I){var F=-1,se=I==null?0:I.length;for(this.clear();++F<se;){var ge=I[F];this.set(ge[0],ge[1])}}function Jt(){this.__data__=Ct?Ct(null):{},this.size=0}function Qt(I){var F=this.has(I)&&delete this.__data__[I];return this.size-=F?1:0,F}function of(I){var F=this.__data__;if(Ct){var se=F[I];return se===n?void 0:se}return $e.call(F,I)?F[I]:void 0}function af(I){var F=this.__data__;return Ct?F[I]!==void 0:$e.call(F,I)}function cf(I,F){var se=this.__data__;return this.size+=this.has(I)?0:1,se[I]=Ct&&F===void 0?n:F,this}_t.prototype.clear=Jt,_t.prototype.delete=Qt,_t.prototype.get=of,_t.prototype.has=af,_t.prototype.set=cf;function en(I){var F=-1,se=I==null?0:I.length;for(this.clear();++F<se;){var ge=I[F];this.set(ge[0],ge[1])}}function lf(){this.__data__=[],this.size=0}function uf(I){var F=this.__data__,se=Ji(F,I);if(se<0)return!1;var ge=F.length-1;return se==ge?F.pop():Cn.call(F,se,1),--this.size,!0}function hf(I){var F=this.__data__,se=Ji(F,I);return se<0?void 0:F[se][1]}function ff(I){return Ji(this.__data__,I)>-1}function df(I,F){var se=this.__data__,ge=Ji(se,I);return ge<0?(++this.size,se.push([I,F])):se[ge][1]=F,this}en.prototype.clear=lf,en.prototype.delete=uf,en.prototype.get=hf,en.prototype.has=ff,en.prototype.set=df;function Hn(I){var F=-1,se=I==null?0:I.length;for(this.clear();++F<se;){var ge=I[F];this.set(ge[0],ge[1])}}function Us(){this.size=0,this.__data__={hash:new _t,map:new(Ot||en),string:new _t}}function pf(I){var F=vi(this,I).delete(I);return this.size-=F?1:0,F}function js(I){return vi(this,I).get(I)}function gf(I){return vi(this,I).has(I)}function mf(I,F){var se=vi(this,I),ge=se.size;return se.set(I,F),this.size+=se.size==ge?0:1,this}Hn.prototype.clear=Us,Hn.prototype.delete=pf,Hn.prototype.get=js,Hn.prototype.has=gf,Hn.prototype.set=mf;function Fs(I){var F=-1,se=I==null?0:I.length;for(this.__data__=new Hn;++F<se;)this.add(I[F])}function xc(I){return this.__data__.set(I,n),this}function Sc(I){return this.__data__.has(I)}Fs.prototype.add=Fs.prototype.push=xc,Fs.prototype.has=Sc;function dn(I){var F=this.__data__=new en(I);this.size=F.size}function vf(){this.__data__=new en,this.size=0}function yf(I){var F=this.__data__,se=F.delete(I);return this.size=F.size,se}function wf(I){return this.__data__.get(I)}function bf(I){return this.__data__.has(I)}function Dc(I,F){var se=this.__data__;if(se instanceof en){var ge=se.__data__;if(!Ot||ge.length<t-1)return ge.push([I,F]),this.size=++se.size,this;se=this.__data__=new Hn(ge)}return se.set(I,F),this.size=se.size,this}dn.prototype.clear=vf,dn.prototype.delete=yf,dn.prototype.get=wf,dn.prototype.has=bf,dn.prototype.set=Dc;function Oc(I,F){var se=Hs(I),ge=!se&&jc(I),vt=!se&&!ge&&ra(I),Ne=!se&&!ge&&!vt&&kc(I),Et=se||ge||vt||Ne,Xt=Et?St(I.length,String):[],it=Xt.length;for(var yt in I)(F||$e.call(I,yt))&&!(Et&&(yt=="length"||vt&&(yt=="offset"||yt=="parent")||Ne&&(yt=="buffer"||yt=="byteLength"||yt=="byteOffset")||Rc(yt,it)))&&Xt.push(yt);return Xt}function Ji(I,F){for(var se=I.length;se--;)if(Uc(I[se][0],F))return se;return-1}function ea(I,F,se){var ge=F(I);return Hs(I)?ge:Ze(ge,se(I))}function Qi(I){return I==null?I===void 0?K:H:Dr&&Dr in Object(I)?Pc(I):xf(I)}function ta(I){return es(I)&&Qi(I)==u}function Xi(I,F,se,ge,vt){return I===F?!0:I==null||F==null||!es(I)&&!es(F)?I!==I&&F!==F:Cc(I,F,se,ge,Xi,vt)}function Cc(I,F,se,ge,vt,Ne){var Et=Hs(I),Xt=Hs(F),it=Et?f:In(I),yt=Xt?f:In(F);it=it==u?$:it,yt=yt==u?$:yt;var qt=it==$,Ur=yt==$,er=it==yt;if(er&&ra(I)){if(!ra(F))return!1;Et=!0,qt=!1}if(er&&!qt)return Ne||(Ne=new dn),Et||kc(I)?Bs(I,F,se,ge,vt,Ne):Ef(I,F,it,se,ge,vt,Ne);if(!(se&i)){var xt=qt&&$e.call(I,"__wrapped__"),Or=Ur&&$e.call(F,"__wrapped__");if(xt||Or){var pn=xt?I.value():I,tn=Or?F.value():F;return Ne||(Ne=new dn),vt(pn,tn,se,ge,Ne)}}return er?(Ne||(Ne=new dn),Ac(I,F,se,ge,vt,Ne)):!1}function _f(I){if(!Bc(I)||Lc(I))return!1;var F=zs(I)?at:ce;return F.test(zn(I))}function Ic(I){return es(I)&&Fc(I.length)&&!!de[Qi(I)]}function $c(I){if(!Mc(I))return Zi(I);var F=[];for(var se in Object(I))$e.call(I,se)&&se!="constructor"&&F.push(se);return F}function Bs(I,F,se,ge,vt,Ne){var Et=se&i,Xt=I.length,it=F.length;if(Xt!=it&&!(Et&&it>Xt))return!1;var yt=Ne.get(I);if(yt&&Ne.get(F))return yt==F;var qt=-1,Ur=!0,er=se&a?new Fs:void 0;for(Ne.set(I,F),Ne.set(F,I);++qt<Xt;){var xt=I[qt],Or=F[qt];if(ge)var pn=Et?ge(Or,xt,qt,F,I,Ne):ge(xt,Or,qt,I,F,Ne);if(pn!==void 0){if(pn)continue;Ur=!1;break}if(er){if(!ke(F,function(tn,$n){if(!ze(er,$n)&&(xt===tn||vt(xt,tn,se,ge,Ne)))return er.push($n)})){Ur=!1;break}}else if(!(xt===Or||vt(xt,Or,se,ge,Ne))){Ur=!1;break}}return Ne.delete(I),Ne.delete(F),Ur}function Ef(I,F,se,ge,vt,Ne,Et){switch(se){case J:if(I.byteLength!=F.byteLength||I.byteOffset!=F.byteOffset)return!1;I=I.buffer,F=F.buffer;case V:return!(I.byteLength!=F.byteLength||!Ne(new Sr(I),new Sr(F)));case m:case D:case U:return Uc(+I,+F);case y:return I.name==F.name&&I.message==F.message;case A:case h:return I==F+"";case N:var Xt=Ue;case E:var it=ge&i;if(Xt||(Xt=qe),I.size!=F.size&&!it)return!1;var yt=Et.get(I);if(yt)return yt==F;ge|=a,Et.set(I,F);var qt=Bs(Xt(I),Xt(F),ge,vt,Ne,Et);return Et.delete(I),qt;case b:if(jt)return jt.call(I)==jt.call(F)}return!1}function Ac(I,F,se,ge,vt,Ne){var Et=se&i,Xt=ks(I),it=Xt.length,yt=ks(F),qt=yt.length;if(it!=qt&&!Et)return!1;for(var Ur=it;Ur--;){var er=Xt[Ur];if(!(Et?er in F:$e.call(F,er)))return!1}var xt=Ne.get(I);if(xt&&Ne.get(F))return xt==F;var Or=!0;Ne.set(I,F),Ne.set(F,I);for(var pn=Et;++Ur<it;){er=Xt[Ur];var tn=I[er],$n=F[er];if(ge)var na=Et?ge($n,tn,er,F,I,Ne):ge(tn,$n,er,I,F,Ne);if(!(na===void 0?tn===$n||vt(tn,$n,se,ge,Ne):na)){Or=!1;break}pn||(pn=er=="constructor")}if(Or&&!pn){var ts=I.constructor,ar=F.constructor;ts!=ar&&"constructor"in I&&"constructor"in F&&!(typeof ts=="function"&&ts instanceof ts&&typeof ar=="function"&&ar instanceof ar)&&(Or=!1)}return Ne.delete(I),Ne.delete(F),Or}function ks(I){return ea(I,Of,Tc)}function vi(I,F){var se=I.__data__;return Nc(F)?se[typeof F=="string"?"string":"hash"]:se.map}function Wr(I,F){var se=Ie(I,F);return _f(se)?se:void 0}function Pc(I){var F=$e.call(I,Dr),se=I[Dr];try{I[Dr]=void 0;var ge=!0}catch{}var vt=Xe.call(I);return ge&&(F?I[Dr]=se:delete I[Dr]),vt}var Tc=kn?function(I){return I==null?[]:(I=Object(I),Ve(kn(I),function(F){return Mr.call(I,F)}))}:mt,In=Qi;(Rt&&In(new Rt(new ArrayBuffer(1)))!=J||Ot&&In(new Ot)!=N||Nt&&In(Nt.resolve())!=P||Lt&&In(new Lt)!=E||At&&In(new At)!=W)&&(In=function(I){var F=Qi(I),se=F==$?I.constructor:void 0,ge=se?zn(se):"";if(ge)switch(ge){case Gt:return J;case Yt:return N;case Mt:return P;case Zt:return E;case Ut:return W}return F});function Rc(I,F){return F=F??c,!!F&&(typeof I=="number"||xe.test(I))&&I>-1&&I%1==0&&I<F}function Nc(I){var F=typeof I;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?I!=="__proto__":I===null}function Lc(I){return!!Je&&Je in I}function Mc(I){var F=I&&I.constructor,se=typeof F=="function"&&F.prototype||Oe;return I===se}function xf(I){return Xe.call(I)}function zn(I){if(I!=null){try{return Ke.call(I)}catch{}try{return I+""}catch{}}return""}function Uc(I,F){return I===F||I!==I&&F!==F}var jc=ta(function(){return arguments}())?ta:function(I){return es(I)&&$e.call(I,"callee")&&!Mr.call(I,"callee")},Hs=Array.isArray;function Sf(I){return I!=null&&Fc(I.length)&&!zs(I)}var ra=mi||gt;function Df(I,F){return Xi(I,F)}function zs(I){if(!Bc(I))return!1;var F=Qi(I);return F==S||F==C||F==p||F==O}function Fc(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=c}function Bc(I){var F=typeof I;return I!=null&&(F=="object"||F=="function")}function es(I){return I!=null&&typeof I=="object"}var kc=Ce?Dt(Ce):Ic;function Of(I){return Sf(I)?Oc(I):$c(I)}function mt(){return[]}function gt(){return!1}r.exports=Df})(Au,Au.exports);var K6=Au.exports,G6=Object.defineProperty,Jp=Object.getOwnPropertySymbols,Y6=Object.prototype.hasOwnProperty,Z6=Object.prototype.propertyIsEnumerable,Qp=(r,e,t)=>e in r?G6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Er=(r,e)=>{for(var t in e||(e={}))Y6.call(e,t)&&Qp(r,t,e[t]);if(Jp)for(var t of Jp(e))Z6.call(e,t)&&Qp(r,t,e[t]);return r};function J6(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var a=r.charAt(i),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=i}var u=r.length,f=r.charAt(0),p=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function D(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var N=0,U=0,H=0,$=C.length;H!==$&&C[H]===0;)H++,N++;for(var P=($-H)*m+1>>>0,O=new Uint8Array(P);H!==$;){for(var A=C[H],E=0,h=P-1;(A!==0||E<U)&&h!==-1;h--,E++)A+=256*O[h]>>>0,O[h]=A%u>>>0,A=A/u>>>0;if(A!==0)throw new Error("Non-zero carry");U=E,H++}for(var b=P-U;b!==P&&O[b]===0;)b++;for(var K=f.repeat(N);b<P;++b)K+=r.charAt(O[b]);return K}function y(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var N=0;if(C[N]!==" "){for(var U=0,H=0;C[N]===f;)U++,N++;for(var $=(C.length-N)*p+1>>>0,P=new Uint8Array($);C[N];){var O=t[C.charCodeAt(N)];if(O===255)return;for(var A=0,E=$-1;(O!==0||A<H)&&E!==-1;E--,A++)O+=u*P[E]>>>0,P[E]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");H=A,N++}if(C[N]!==" "){for(var h=$-H;h!==$&&P[h]===0;)h++;for(var b=new Uint8Array(U+($-h)),K=U;h!==$;)b[K++]=P[h++];return b}}}function S(C){var N=y(C);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:D,decodeUnsafe:y,decode:S}}var Q6=J6,X6=Q6;const Xp=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},eE=r=>new TextEncoder().encode(r),tE=r=>new TextDecoder().decode(r);class rE{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nE{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return e1(this,e)}}class iE{constructor(e){this.decoders=e}or(e){return e1(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const e1=(r,e)=>new iE(Er(Er({},r.decoders||{[r.prefix]:r}),e.decoders||{[e.prefix]:e}));class sE{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new rE(e,t,n),this.decoder=new nE(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ka=({name:r,prefix:e,encode:t,decode:n})=>new sE(r,e,t,n),Io=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=X6(t,e);return ka({prefix:r,name:e,encode:n,decode:a=>Xp(i(a))})},oE=(r,e,t,n)=>{const i={};for(let m=0;m<e.length;++m)i[e[m]]=m;let a=r.length;for(;r[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let u=0,f=0,p=0;for(let m=0;m<a;++m){const D=i[r[m]];if(D===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|D,u+=t,u>=8&&(u-=8,c[p++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},aE=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let a="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,a+=e[i&u>>c];if(c&&(a+=e[i&u<<t-c]),n)for(;a.length*t&7;)a+="=";return a},hr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>ka({prefix:e,name:r,encode(i){return aE(i,n,t)},decode(i){return oE(i,n,t,r)}}),cE=ka({prefix:"\0",name:"identity",encode:r=>tE(r),decode:r=>eE(r)});var lE=Object.freeze({__proto__:null,identity:cE});const uE=hr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hE=Object.freeze({__proto__:null,base2:uE});const fE=hr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var dE=Object.freeze({__proto__:null,base8:fE});const pE=Io({prefix:"9",name:"base10",alphabet:"0123456789"});var gE=Object.freeze({__proto__:null,base10:pE});const mE=hr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vE=hr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var yE=Object.freeze({__proto__:null,base16:mE,base16upper:vE});const wE=hr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bE=hr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_E=hr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),EE=hr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xE=hr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),SE=hr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DE=hr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),OE=hr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CE=hr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var IE=Object.freeze({__proto__:null,base32:wE,base32upper:bE,base32pad:_E,base32padupper:EE,base32hex:xE,base32hexupper:SE,base32hexpad:DE,base32hexpadupper:OE,base32z:CE});const $E=Io({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),AE=Io({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var PE=Object.freeze({__proto__:null,base36:$E,base36upper:AE});const TE=Io({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),RE=Io({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var NE=Object.freeze({__proto__:null,base58btc:TE,base58flickr:RE});const LE=hr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ME=hr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UE=hr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jE=hr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var FE=Object.freeze({__proto__:null,base64:LE,base64pad:ME,base64url:UE,base64urlpad:jE});const t1=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),BE=t1.reduce((r,e,t)=>(r[t]=e,r),[]),kE=t1.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function HE(r){return r.reduce((e,t)=>(e+=BE[t],e),"")}function zE(r){const e=[];for(const t of r){const n=kE[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const qE=ka({prefix:"\u{1F680}",name:"base256emoji",encode:HE,decode:zE});var WE=Object.freeze({__proto__:null,base256emoji:qE}),VE=n1,r1=128,KE=127,GE=~KE,YE=Math.pow(2,31);function n1(r,e,t){e=e||[],t=t||0;for(var n=t;r>=YE;)e[t++]=r&255|r1,r/=128;for(;r&GE;)e[t++]=r&255|r1,r>>>=7;return e[t]=r|0,n1.bytes=t-n+1,e}var ZE=Pu,JE=128,i1=127;function Pu(r,n){var t=0,n=n||0,i=0,a=n,c,u=r.length;do{if(a>=u)throw Pu.bytes=0,new RangeError("Could not decode varint");c=r[a++],t+=i<28?(c&i1)<<i:(c&i1)*Math.pow(2,i),i+=7}while(c>=JE);return Pu.bytes=a-n,t}var QE=Math.pow(2,7),XE=Math.pow(2,14),e4=Math.pow(2,21),t4=Math.pow(2,28),r4=Math.pow(2,35),n4=Math.pow(2,42),i4=Math.pow(2,49),s4=Math.pow(2,56),o4=Math.pow(2,63),a4=function(r){return r<QE?1:r<XE?2:r<e4?3:r<t4?4:r<r4?5:r<n4?6:r<i4?7:r<s4?8:r<o4?9:10},c4={encode:VE,decode:ZE,encodingLength:a4},s1=c4;const o1=(r,e,t=0)=>(s1.encode(r,e,t),e),a1=r=>s1.encodingLength(r),Tu=(r,e)=>{const t=e.byteLength,n=a1(r),i=n+a1(t),a=new Uint8Array(i+t);return o1(r,a,0),o1(t,a,n),a.set(e,i),new l4(r,t,e,a)};class l4{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}const c1=({name:r,code:e,encode:t})=>new u4(r,e,t);class u4{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Tu(this.code,t):t.then(n=>Tu(this.code,n))}else throw Error("Unknown type, must be binary type")}}const l1=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),h4=c1({name:"sha2-256",code:18,encode:l1("SHA-256")}),f4=c1({name:"sha2-512",code:19,encode:l1("SHA-512")});var d4=Object.freeze({__proto__:null,sha256:h4,sha512:f4});const u1=0,p4="identity",h1=Xp;var g4=Object.freeze({__proto__:null,identity:{code:u1,name:p4,encode:h1,digest:r=>Tu(u1,h1(r))}});new TextEncoder,new TextDecoder;const f1=Er(Er(Er(Er(Er(Er(Er(Er(Er(Er({},lE),hE),dE),gE),yE),IE),PE),NE),FE),WE);Er(Er({},d4),g4);function d1(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function m4(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?d1(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function p1(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const g1=p1("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ru=p1("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=m4(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),v4=Er({utf8:g1,"utf-8":g1,hex:f1.base16,latin1:Ru,ascii:Ru,binary:Ru},f1);function y4(r,e="utf8"){const t=v4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?d1(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const m1="wc",w4=2,Nu="core",ri=`${m1}@2:${Nu}:`,b4={name:Nu,logger:"error"},_4={database:":memory:"},E4="crypto",v1="client_ed25519_seed",x4=ye.ONE_DAY,S4="keychain",D4="0.3",O4="messages",C4="0.3",I4=ye.SIX_HOURS,$4="publisher",y1="irn",A4="error",w1="wss://relay.walletconnect.com",b1="wss://relay.walletconnect.org",P4="relayer",pr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},T4="_subscription",Mn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},R4=ye.ONE_SECOND,N4="2.10.0",L4=1e4,M4="0.3",U4="WALLETCONNECT_CLIENT_ID",_n={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},j4="subscription",F4="0.3",B4=ye.FIVE_SECONDS*1e3,k4="pairing",H4="0.3",$o={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},En={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},z4="history",q4="0.3",W4="expirer",Jr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},V4="0.3",Lu="verify-api",Ha="https://verify.walletconnect.com",_1="https://verify.walletconnect.org";class K4{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=S4,this.version=D4,this.initialized=!1,this.storagePrefix=ri,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:a}=fe("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(a)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=tt.generateChildLogger(t,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Y0(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Z0(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class G4{constructor(e,t,n){this.core=e,this.logger=t,this.name=E4,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),a=Lp(i);return Np(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=Y2();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const a=await this.getClientSeed(),c=Lp(a),u=eu();return await i6(u,i,x4,c)},this.generateSharedKey=(i,a,c)=>{this.isInitialized();const u=this.getPrivateKey(i),f=Z2(u,a);return this.setSymKey(f,c)},this.setSymKey=async(i,a)=>{this.isInitialized();const c=a||J2(i);return await this.keychain.set(c,i),c},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,a,c)=>{this.isInitialized();const u=q0(c),f=So(a);if(W0(u)){const y=u.senderPublicKey,S=u.receiverPublicKey;i=await this.generateSharedKey(y,S)}const p=this.getSymKey(i),{type:m,senderPublicKey:D}=u;return X2({type:m,symKey:p,message:f,senderPublicKey:D})},this.decode=async(i,a,c)=>{this.isInitialized();const u=r_(a,c);if(W0(u)){const f=u.receiverPublicKey,p=u.senderPublicKey;i=await this.generateSharedKey(f,p)}try{const f=this.getSymKey(i),p=e_({symKey:f,encoded:a});return _u(p)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}},this.getPayloadType=i=>{const a=Aa(i);return lo(a.type)},this.getPayloadSenderPublicKey=i=>{const a=Aa(i);return a.senderPublicKey?yr(a.senderPublicKey,wr):void 0},this.core=e,this.logger=tt.generateChildLogger(t,this.name),this.keychain=n||new K4(this.core,this.logger)}get context(){return tt.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(v1)}catch{e=eu(),await this.keychain.set(v1,e)}return y4(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Y4 extends N5{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=O4,this.version=C4,this.initialized=!1,this.storagePrefix=ri,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const a=ps(i);let c=this.messages.get(n);return typeof c>"u"&&(c={}),typeof c[a]<"u"||(c[a]=i,this.messages.set(n,c),await this.persist()),a},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const a=this.get(n),c=ps(i);return typeof a[c]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=tt.generateChildLogger(e,this.name),this.core=t}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Y0(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Z0(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Z4 extends L5{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new lr.exports.EventEmitter,this.name=$4,this.queue=new Map,this.publishTimeout=ye.toMiliseconds(ye.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,i,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:a}});try{const u=a?.ttl||I4,f=nu(a),p=a?.prompt||!1,m=a?.tag||0,D=a?.id||qp().toString(),y={topic:n,message:i,opts:{ttl:u,relay:f,prompt:p,tag:m,id:D}},S=setTimeout(()=>this.queue.set(D,y),this.publishTimeout);try{await await fo(this.rpcPublish(n,i,u,f,p,m,D),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(D),this.relayer.events.emit(pr.publish,y)}catch(C){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(c=a?.internal)!=null&&c.throwOnFailedPublish)throw this.removeRequestFromQueue(D),C;return}finally{clearTimeout(S)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:a}})}catch(u){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(u),u}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=tt.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return tt.getLoggerContext(this.logger)}rpcPublish(e,t,n,i,a,c,u){var f,p,m,D;const y={method:Ta(i.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:a,tag:c},id:u};return br((f=y.params)==null?void 0:f.prompt)&&((p=y.params)==null||delete p.prompt),br((m=y.params)==null?void 0:m.tag)&&((D=y.params)==null||delete D.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y}),this.relayer.request(y)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:n,opts:i}=e;await this.publish(t,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(ws.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(pr.connection_stalled);return}this.checkQueue()}),this.relayer.on(pr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class J4{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const i=n.filter(a=>a!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Q4=Object.defineProperty,X4=Object.defineProperties,e8=Object.getOwnPropertyDescriptors,E1=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,r8=Object.prototype.propertyIsEnumerable,x1=(r,e,t)=>e in r?Q4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ao=(r,e)=>{for(var t in e||(e={}))t8.call(e,t)&&x1(r,t,e[t]);if(E1)for(var t of E1(e))r8.call(e,t)&&x1(r,t,e[t]);return r},Mu=(r,e)=>X4(r,e8(e));class n8 extends j5{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new J4,this.events=new lr.exports.EventEmitter,this.name=j4,this.version=F4,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ri,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const a=nu(i),c={topic:n,relay:a};this.pending.set(n,c);const u=await this.rpcSubscribe(n,a);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,a)=>{const c=new ye.Watch;c.start(this.pendingSubscriptionWatchLabel);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),i(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=B4&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=tt.generateChildLogger(t,this.name),this.clientId=""}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const i=nu(n);await this.rpcUnsubscribe(e,t,i);const a=Bt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t){const n={method:Ta(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await fo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(pr.connection_stalled)}return ps(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:Ta(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await fo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(pr.connection_stalled)}}rpcUnsubscribe(e,t,n){const i={method:Ta(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,Mu(Ao({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Ao({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Ao({},t)),this.topicMap.set(t.topic,e),this.events.emit(_n.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(_n.deleted,Mu(Ao({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(_n.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(_n.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);bn(t)&&this.onBatchSubscribe(t.map((n,i)=>Mu(Ao({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ws.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(pr.connect,async()=>{await this.onConnect()}),this.relayer.on(pr.disconnect,()=>{this.onDisconnect()}),this.events.on(_n.created,async e=>{const t=_n.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(_n.deleted,async e=>{const t=_n.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var i8=Object.defineProperty,S1=Object.getOwnPropertySymbols,s8=Object.prototype.hasOwnProperty,o8=Object.prototype.propertyIsEnumerable,D1=(r,e,t)=>e in r?i8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,a8=(r,e)=>{for(var t in e||(e={}))s8.call(e,t)&&D1(r,t,e[t]);if(S1)for(var t of S1(e))o8.call(e,t)&&D1(r,t,e[t]);return r};class c8 extends M5{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new lr.exports.EventEmitter,this.name=P4,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(pr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(pr.error,t)},this.registerProviderListeners=()=>{this.provider.on(Mn.payload,this.onPayloadHandler),this.provider.on(Mn.connect,this.onConnectHandler),this.provider.on(Mn.disconnect,this.onDisconnectHandler),this.provider.on(Mn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?tt.generateChildLogger(e.logger,this.name):tt.pino(tt.getDefaultLoggerOptions({level:e.logger||A4})),this.messages=new Y4(this.logger,e.core),this.subscriber=new n8(this,this.logger),this.publisher=new Z4(this,this.logger),this.relayUrl=e?.relayUrl||w1,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${b1}...`),await this.restartTransport(b1)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},L4)}get context(){return tt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";return i||(await Promise.all([new Promise(a=>{this.subscriber.once(_n.created,c=>{c.topic===e&&a()})}),new Promise(async a=>{i=await this.subscriber.subscribe(e,t),a()})]),i)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await fo(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(_n.resubscribed,()=>{t()})}),new Promise(async(t,n)=>{try{await fo(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}t()})])}catch(t){this.logger.error(t);const n=t;if(!this.isConnectionStalled(n.message))throw t;this.provider.events.emit(Mn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ap())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ti(new V6(d_({sdkVersion:N4,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const i=this.messages.has(t,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),$u(e)){if(!e.method.endsWith(T4))return;const t=e.params,{topic:n,message:i,publishedAt:a}=t.data,c={topic:n,message:i,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(a8({type:"event",event:t.id},c)),this.events.emit(t.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else Ba(e)&&this.events.emit(pr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(pr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Iu(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Mn.payload,this.onPayloadHandler),this.provider.off(Mn.connect,this.onConnectHandler),this.provider.off(Mn.disconnect,this.onDisconnectHandler),this.provider.off(Mn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(pr.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await ap();s3(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(pr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},ye.toMiliseconds(R4)))}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var l8=Object.defineProperty,O1=Object.getOwnPropertySymbols,u8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,C1=(r,e,t)=>e in r?l8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,I1=(r,e)=>{for(var t in e||(e={}))u8.call(e,t)&&C1(r,t,e[t]);if(O1)for(var t of O1(e))h8.call(e,t)&&C1(r,t,e[t]);return r};class za extends U5{constructor(e,t,n,i=ri,a=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=M4,this.cached=[],this.initialized=!1,this.storagePrefix=ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!br(c)?this.map.set(this.getKey(c),c):M_(c)?this.map.set(c.id,c):U_(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>K6(u[f],c[f]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const f=I1(I1({},this.getData(c)),u);this.map.set(c,f),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=tt.generateChildLogger(t,this.name),this.storagePrefix=i,this.getKey=a}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:n}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class f8{constructor(e,t){this.core=e,this.logger=t,this.name=k4,this.version=H4,this.events=new lr.exports,this.initialized=!1,this.storagePrefix=ri,this.ignoredPayloadTypes=[Pi],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=eu(),i=await this.core.crypto.setSymKey(n),a=hn(ye.FIVE_MINUTES),c={protocol:y1},u={topic:i,expiry:a,relay:c,active:!1},f=O_({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:c});return await this.pairings.set(i,u),await this.core.relayer.subscribe(i),this.core.expirer.set(i,a),{topic:i,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:a,relay:c}=x_(n.uri);if(this.pairings.keys.includes(i))throw new Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw new Error(`Keychain already exists: ${i}`);const u=hn(ye.FIVE_MINUTES),f={topic:i,relay:c,expiry:u,active:!1};return await this.pairings.set(i,f),await this.core.crypto.setSymKey(a,i),await this.core.relayer.subscribe(i,{relay:c}),this.core.expirer.set(i,u),n.activatePairing&&await this.activate({topic:i}),f},this.activate=async({topic:n})=>{this.isInitialized();const i=hn(ye.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const a=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=gs();this.events.once(Kt("pairing_ping",a),({error:p})=>{p?f(p):u()}),await c()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Bt("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,a)=>{const c=Co(i,a),u=await this.core.crypto.encode(n,c),f=$o[i].req;return this.core.history.set(n,c),this.core.relayer.publish(n,u,f),c.id},this.sendResult=async(n,i,a)=>{const c=Iu(n,a),u=await this.core.crypto.encode(i,c),f=await this.core.history.get(i,n),p=$o[f.request.method].res;await this.core.relayer.publish(i,u,p),await this.core.history.resolve(c)},this.sendError=async(n,i,a)=>{const c=Fa(n,a),u=await this.core.crypto.encode(i,c),f=await this.core.history.get(i,n),p=$o[f.request.method]?$o[f.request.method].res:$o.unregistered_method.res;await this.core.relayer.publish(i,u,p),await this.core.history.resolve(c)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Bt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>ei(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:a}=n;switch(a.method){case"wc_pairingPing":return this.onPairingPingRequest(i,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,a);default:return this.onUnknownRpcMethodRequest(i,a)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:a}=n,c=(await this.core.history.get(i,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(n,i)=>{const{id:a}=i;try{this.isValidPing({topic:n}),await this.sendResult(a,n,!0),this.events.emit("pairing_ping",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onPairingPingResponse=(n,i)=>{const{id:a}=i;setTimeout(()=>{Ln(i)?this.events.emit(Kt("pairing_ping",a),{}):fn(i)&&this.events.emit(Kt("pairing_ping",a),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:a}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:a,method:c}=i;try{if(this.registeredMethods.includes(c))return;const u=Bt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,n,u),this.logger.error(u)}catch(u){await this.sendError(a,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Bt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!Pr(n)){const{message:i}=fe("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!L_(n.uri)){const{message:i}=fe("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!Pr(n)){const{message:a}=fe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(a)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Pr(n)){const{message:a}=fe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(a)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!sr(n,!1)){const{message:i}=fe("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(ei(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=fe("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=tt.generateChildLogger(t,this.name),this.pairings=new za(this.core,this.logger,this.name,this.storagePrefix)}get context(){return tt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(pr.message,async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(t,n);try{$u(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):Ba(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Jr.expired,async e=>{const{topic:t}=Q0(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}class d8 extends R5{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new lr.exports.EventEmitter,this.name=z4,this.version=q4,this.cached=[],this.initialized=!1,this.storagePrefix=ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:a}),this.records.has(i.id))return;const c={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:a,expiry:hn(ye.THIRTY_DAYS)};this.records.set(c.id,c),this.events.emit(En.created,c)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=fn(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(En.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===n){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit(En.deleted,a)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(t,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Co(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(En.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(En.created,e=>{const t=En.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(En.updated,e=>{const t=En.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(En.deleted,e=>{const t=En.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(ws.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{ye.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class p8 extends F5{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new lr.exports.EventEmitter,this.name=W4,this.version=V4,this.cached=[],this.initialized=!1,this.storagePrefix=ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const a=this.formatTarget(n),c={target:a,expiry:i};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(Jr.created,{target:a,expiration:c})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Jr.deleted,{target:i,expiration:a})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(t,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return p_(e);if(typeof e=="number")return g_(e);const{message:t}=fe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Jr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;ye.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Jr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ws.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Jr.created,e=>{const t=Jr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Jr.expired,e=>{const t=Jr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Jr.deleted,e=>{const t=Jr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class g8 extends B5{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Lu,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||Pa()||!uo())return;const i=n?.verifyUrl||Ha;this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(a){this.logger.warn(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.warn(a)}if(!this.initialized){this.removeIframe(),this.verifyUrl=_1;try{await this.createIframe()}catch(a){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(a),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=n?.verifyUrl||Ha;let a="";try{a=await this.fetchAttestation(n.attestationId,i)}catch(c){this.logger.warn(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.warn(c),a=await this.fetchAttestation(n.attestationId,_1)}return a},this.fetchAttestation=async(n,i)=>{var a;this.logger.info(`resolving attestation: ${n} from url: ${i}`);const c=this.startAbortTimer(ye.ONE_SECOND*2),u=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?(a=await u.json())==null?void 0:a.origin:""},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=a=>{a.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(a=>{if(document.getElementById(Lu))return a();window.addEventListener("message",i);const c=document.createElement("iframe");c.id=Lu,c.src=`${this.verifyUrl}/${this.projectId}`,c.style.display="none",document.body.append(c),this.iframe=c,n=a}),new Promise((a,c)=>setTimeout(()=>{window.removeEventListener("message",i),c("verify iframe load timeout")},ye.toMiliseconds(ye.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=tt.generateChildLogger(t,this.name),this.verifyUrl=Ha,this.abortController=new AbortController,this.isDevEnv=tu()&&process.env.IS_VITEST}get context(){return tt.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}}var m8=Object.defineProperty,$1=Object.getOwnPropertySymbols,v8=Object.prototype.hasOwnProperty,y8=Object.prototype.propertyIsEnumerable,A1=(r,e,t)=>e in r?m8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P1=(r,e)=>{for(var t in e||(e={}))v8.call(e,t)&&A1(r,t,e[t]);if($1)for(var t of $1(e))y8.call(e,t)&&A1(r,t,e[t]);return r};class Uu extends T5{constructor(e){super(e),this.protocol=m1,this.version=w4,this.name=Nu,this.events=new lr.exports.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||w1;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:tt.pino(tt.getDefaultLoggerOptions({level:e?.logger||b4.logger}));this.logger=tt.generateChildLogger(t,this.name),this.heartbeat=new ws.HeartBeat,this.crypto=new G4(this,this.logger,e?.keychain),this.history=new d8(this,this.logger),this.expirer=new p8(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new M3(P1(P1({},_4),e?.storageOptions)),this.relayer=new c8({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new f8(this,this.logger),this.verify=new g8(this.projectId||"",this.logger)}static async init(e){const t=new Uu(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(U4,n),t}get context(){return tt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const w8=Uu,T1="wc",R1=2,N1="client",ju=`${T1}@${R1}:${N1}:`,Fu={name:N1,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},L1="WALLETCONNECT_DEEPLINK_CHOICE",b8="proposal",M1="Proposal expired",_8="session",qa=ye.SEVEN_DAYS,E8="engine",Po={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1115}}},Bu={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},Un={idle:"IDLE",active:"ACTIVE"},x8="request",S8=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var D8=Object.defineProperty,O8=Object.defineProperties,C8=Object.getOwnPropertyDescriptors,U1=Object.getOwnPropertySymbols,I8=Object.prototype.hasOwnProperty,$8=Object.prototype.propertyIsEnumerable,j1=(r,e,t)=>e in r?D8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tr=(r,e)=>{for(var t in e||(e={}))I8.call(e,t)&&j1(r,t,e[t]);if(U1)for(var t of U1(e))$8.call(e,t)&&j1(r,t,e[t]);return r},To=(r,e)=>O8(r,C8(e));class A8 extends H5{constructor(e){super(e),this.name=E8,this.events=new lr.exports,this.initialized=!1,this.ignoredPayloadTypes=[Pi],this.requestQueue={state:Un.idle,queue:[]},this.sessionRequestQueue={state:Un.idle,queue:[]},this.requestQueueDelay=ye.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Po)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const n=To(Tr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,relays:f}=n;let p=i,m,D=!1;if(p&&(D=this.client.core.pairing.pairings.get(p).active),!p||!D){const{topic:P,uri:O}=await this.client.core.pairing.create();p=P,m=O}const y=await this.client.core.crypto.generateKeyPair(),S=Tr({requiredNamespaces:a,optionalNamespaces:c,relays:f??[{protocol:y1}],proposer:{publicKey:y,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:C,resolve:N,done:U}=gs(ye.FIVE_MINUTES,M1);if(this.events.once(Kt("session_connect"),async({error:P,session:O})=>{if(P)C(P);else if(O){O.self.publicKey=y;const A=To(Tr({},O),{requiredNamespaces:O.requiredNamespaces,optionalNamespaces:O.optionalNamespaces});await this.client.session.set(O.topic,A),await this.setExpiry(O.topic,O.expiry),p&&await this.client.core.pairing.updateMetadata({topic:p,metadata:O.peer.metadata}),N(A)}}),!p){const{message:P}=fe("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(P)}const H=await this.sendRequest({topic:p,method:"wc_sessionPropose",params:S}),$=hn(ye.FIVE_MINUTES);return await this.setProposal(H,Tr({id:H,expiry:$},S)),{uri:m,approval:U}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:n,relayProtocol:i,namespaces:a,sessionProperties:c}=t,u=this.client.proposal.get(n);let{pairingTopic:f,proposer:p,requiredNamespaces:m,optionalNamespaces:D}=u;f=f||"",vs(m)||(m=A_(a,"approve()"));const y=await this.client.core.crypto.generateKeyPair(),S=p.publicKey,C=await this.client.core.crypto.generateSharedKey(y,S);f&&n&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:p.metadata}),await this.sendResult({id:n,topic:f,result:{relay:{protocol:i??"irn"},responderPublicKey:y}}),await this.client.proposal.delete(n,Bt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));const N=Tr({relay:{protocol:i??"irn"},namespaces:a,requiredNamespaces:m,optionalNamespaces:D,pairingTopic:f,controller:{publicKey:y,metadata:this.client.metadata},expiry:hn(qa)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(C),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:N,throwOnFailedPublish:!0});const U=To(Tr({},N),{topic:C,pairingTopic:f,acknowledged:!1,self:N.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:y});return await this.client.session.set(C,U),await this.setExpiry(C,hn(qa)),{topic:C,acknowledged:()=>new Promise(H=>setTimeout(()=>H(this.client.session.get(C)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:n,reason:i}=t,{pairingTopic:a}=this.client.proposal.get(n);a&&(await this.sendError(n,a,i),await this.client.proposal.delete(n,Bt("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:n,namespaces:i}=t,a=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:c,resolve:u,reject:f}=gs();return this.events.once(Kt("session_update",a),({error:p})=>{p?f(p):u()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:c}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:n}=t,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:a,resolve:c,reject:u}=gs();return this.events.once(Kt("session_extend",i),({error:f})=>{f?u(f):c()}),await this.setExpiry(n,hn(qa)),{acknowledged:a}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:n,request:i,topic:a,expiry:c}=t,u=Cu(),{done:f,resolve:p,reject:m}=gs(c);return this.events.once(Kt("session_request",u),({error:D,result:y})=>{D?m(D):p(y)}),await Promise.all([new Promise(async D=>{await this.sendRequest({clientRpcId:u,topic:a,method:"wc_sessionRequest",params:{request:i,chainId:n},expiry:c,throwOnFailedPublish:!0}).catch(y=>m(y)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:n,id:u}),D()}),new Promise(async D=>{const y=await this.client.core.storage.getItem(L1);m_({id:u,topic:a,wcDeepLink:y}),D()}),f()]).then(D=>D[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:n,response:i}=t,{id:a}=i;Ln(i)?await this.sendResult({id:a,topic:n,result:i.result,throwOnFailedPublish:!0}):fn(i)&&await this.sendError(a,n,i.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:n}=t;if(this.client.session.keys.includes(n)){const i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:a,resolve:c,reject:u}=gs();this.events.once(Kt("session_ping",i),({error:f})=>{f?u(f):c()}),await a()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:n,event:i,chainId:a}=t;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:a}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:n}=t;this.client.session.keys.includes(n)?(await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Bt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(n=>R_(n,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const n=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&a.topic&&a.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(t,n)=>{const{self:i}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,Bt("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),n||this.client.core.expirer.del(t),this.client.core.storage.removeItem(L1).catch(a=>this.client.logger.warn(a))},this.deleteProposal=async(t,n)=>{await Promise.all([this.client.proposal.delete(t,Bt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==t),i&&(this.sessionRequestQueue.state=Un.idle)},this.setExpiry=async(t,n)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:n}),this.client.core.expirer.set(t,n)},this.setProposal=async(t,n)=>{await this.client.proposal.set(t,n),this.client.core.expirer.set(t,n.expiry)},this.setPendingSessionRequest=async t=>{const n=Po.wc_sessionRequest.req.ttl,{id:i,topic:a,params:c}=t;await this.client.pendingRequest.set(i,{id:i,topic:a,params:c}),n&&this.client.core.expirer.set(i,hn(n))},this.sendRequest=async t=>{const{topic:n,method:i,params:a,expiry:c,relayRpcId:u,clientRpcId:f,throwOnFailedPublish:p}=t,m=Co(i,a,f);if(uo()&&S8.includes(i)){const S=ps(JSON.stringify(m));this.client.core.verify.register({attestationId:S})}const D=await this.client.core.crypto.encode(n,m),y=Po[i].req;return c&&(y.ttl=c),u&&(y.id=u),this.client.core.history.set(n,m),p?(y.internal=To(Tr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,D,y)):this.client.core.relayer.publish(n,D,y).catch(S=>this.client.logger.error(S)),m.id},this.sendResult=async t=>{const{id:n,topic:i,result:a,throwOnFailedPublish:c}=t,u=Iu(n,a),f=await this.client.core.crypto.encode(i,u),p=await this.client.core.history.get(i,n),m=Po[p.request.method].res;c?(m.internal=To(Tr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,m)):this.client.core.relayer.publish(i,f,m).catch(D=>this.client.logger.error(D)),await this.client.core.history.resolve(u)},this.sendError=async(t,n,i)=>{const a=Fa(t,i),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,t),f=Po[u.request.method].res;this.client.core.relayer.publish(n,c,f),await this.client.core.history.resolve(a)},this.cleanup=async()=>{const t=[],n=[];this.client.session.getAll().forEach(i=>{ei(i.expiry)&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{ei(i.expiry)&&n.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Un.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Un.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Un.idle},this.processRequest=t=>{const{topic:n,payload:i}=t,a=i.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async t=>{const{topic:n,payload:i}=t,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:n}=t,{message:i}=fe("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(t,n)=>{const{params:i,id:a}=n;try{this.isValidConnect(Tr({},n.params));const c=hn(ye.FIVE_MINUTES),u=Tr({id:a,pairingTopic:t,expiry:c},i);await this.setProposal(a,u);const f=ps(JSON.stringify(n)),p=await this.getVerifyContext(f,u.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:u,verifyContext:p})}catch(c){await this.sendError(a,t,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(t,n)=>{const{id:i}=n;if(Ln(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const f=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const p=await this.client.core.crypto.generateSharedKey(u,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:p});const m=await this.client.core.relayer.subscribe(p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:t})}else fn(n)&&(await this.client.proposal.delete(i,Bt("USER_DISCONNECTED")),this.events.emit(Kt("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(t,n)=>{const{id:i,params:a}=n;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:f,namespaces:p,requiredNamespaces:m,optionalNamespaces:D,sessionProperties:y,pairingTopic:S}=n.params,C=Tr({topic:t,relay:c,expiry:f,namespaces:p,acknowledged:!0,pairingTopic:S,requiredNamespaces:m,optionalNamespaces:D,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},y&&{sessionProperties:y});await this.sendResult({id:n.id,topic:t,result:!0}),this.events.emit(Kt("session_connect"),{session:C}),this.cleanupDuplicatePairings(C)}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(t,n)=>{const{id:i}=n;Ln(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Kt("session_approve",i),{})):fn(n)&&(await this.client.session.delete(t,Bt("USER_DISCONNECTED")),this.events.emit(Kt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(t,n)=>{const{params:i,id:a}=n;try{const c=`${t}_session_update`,u=La.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.info(`Discarding out of sync request - ${a}`);return}this.isValidUpdate(Tr({topic:t},i)),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:t,result:!0}),this.client.events.emit("session_update",{id:a,topic:t,params:i}),La.set(c,a)}catch(c){await this.sendError(a,t,c),this.client.logger.error(c)}},this.isRequestOutOfSync=(t,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,n)=>{const{id:i}=n;Ln(n)?this.events.emit(Kt("session_update",i),{}):fn(n)&&this.events.emit(Kt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(t,n)=>{const{id:i}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,hn(qa)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionExtendResponse=(t,n)=>{const{id:i}=n;Ln(n)?this.events.emit(Kt("session_extend",i),{}):fn(n)&&this.events.emit(Kt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(t,n)=>{const{id:i}=n;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionPingResponse=(t,n)=>{const{id:i}=n;setTimeout(()=>{Ln(n)?this.events.emit(Kt("session_ping",i),{}):fn(n)&&this.events.emit(Kt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(t,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(pr.publish,async()=>{a(await this.deleteSession(t))})}),this.sendResult({id:i,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:i,topic:t})}catch(a){this.client.logger.error(a)}},this.onSessionRequest=async(t,n)=>{const{id:i,params:a}=n;try{this.isValidRequest(Tr({topic:t},a)),await this.setPendingSessionRequest({id:i,topic:t,params:a}),this.addSessionRequestToSessionRequestQueue({id:i,topic:t,params:a}),await this.processSessionRequestQueue()}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(t,n)=>{const{id:i}=n;Ln(n)?this.events.emit(Kt("session_request",i),{result:n.result}):fn(n)&&this.events.emit(Kt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(t,n)=>{const{id:i,params:a}=n;try{const c=`${t}_session_event_${a.event.name}`,u=La.get(c);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Tr({topic:t},a)),this.client.events.emit("session_event",{id:i,topic:t,params:a}),La.set(c,i)}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Un.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=async()=>{if(this.sessionRequestQueue.state===Un.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{const{id:n,topic:i,params:a}=t,c=ps(JSON.stringify(Co("wc_sessionRequest",a,n))),u=this.client.session.get(i),f=await this.getVerifyContext(c,u.peer.metadata);this.sessionRequestQueue.state=Un.active,this.client.events.emit("session_request",{id:n,topic:i,params:a,verifyContext:f})}catch(n){this.client.logger.error(n)}},this.isValidConnect=async t=>{if(!Pr(t)){const{message:f}=fe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,relays:u}=t;if(br(n)||await this.isValidPairingTopic(n),!W_(u,!0)){const{message:f}=fe("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}!br(i)&&vs(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!br(a)&&vs(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),br(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(t,n)=>{const i=q_(t,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async t=>{if(!Pr(t))throw new Error(fe("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:n,namespaces:i,relayProtocol:a,sessionProperties:c}=t;await this.isValidProposalId(n);const u=this.client.proposal.get(n),f=Na(i,"approve()");if(f)throw new Error(f.message);const p=sp(u.requiredNamespaces,i,"approve()");if(p)throw new Error(p.message);if(!sr(a,!0)){const{message:m}=fe("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(m)}br(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async t=>{if(!Pr(t)){const{message:a}=fe("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(a)}const{id:n,reason:i}=t;if(await this.isValidProposalId(n),!K_(i)){const{message:a}=fe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidSessionSettleRequest=t=>{if(!Pr(t)){const{message:p}=fe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(p)}const{relay:n,controller:i,namespaces:a,expiry:c}=t;if(!np(n)){const{message:p}=fe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const u=j_(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);const f=Na(a,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(ei(c)){const{message:p}=fe("EXPIRED","onSessionSettleRequest()");throw new Error(p)}},this.isValidUpdate=async t=>{if(!Pr(t)){const{message:f}=fe("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(f)}const{topic:n,namespaces:i}=t;await this.isValidSessionTopic(n);const a=this.client.session.get(n),c=Na(i,"update()");if(c)throw new Error(c.message);const u=sp(a.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async t=>{if(!Pr(t)){const{message:i}=fe("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionTopic(n)},this.isValidRequest=async t=>{if(!Pr(t)){const{message:f}=fe("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(f)}const{topic:n,request:i,chainId:a,expiry:c}=t;await this.isValidSessionTopic(n);const{namespaces:u}=this.client.session.get(n);if(!ip(u,a)){const{message:f}=fe("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(f)}if(!G_(i)){const{message:f}=fe("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!J_(u,a,i.method)){const{message:f}=fe("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(c&&!t3(c,Bu)){const{message:f}=fe("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Bu.min} and ${Bu.max}`);throw new Error(f)}},this.isValidRespond=async t=>{if(!Pr(t)){const{message:a}=fe("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(a)}const{topic:n,response:i}=t;if(await this.isValidSessionTopic(n),!Y_(i)){const{message:a}=fe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidPing=async t=>{if(!Pr(t)){const{message:i}=fe("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async t=>{if(!Pr(t)){const{message:u}=fe("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}const{topic:n,event:i,chainId:a}=t;await this.isValidSessionTopic(n);const{namespaces:c}=this.client.session.get(n);if(!ip(c,a)){const{message:u}=fe("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!Z_(i)){const{message:u}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!Q_(c,a,i.name)){const{message:u}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}},this.isValidDisconnect=async t=>{if(!Pr(t)){const{message:i}=fe("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(t,n)=>{const i={verified:{verifyUrl:n.verifyUrl||Ha,validation:"UNKNOWN",origin:n.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});a&&(i.verified.origin=a,i.verified.validation=a===new URL(n.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.error(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(t,n)=>{Object.values(t).forEach(i=>{if(!sr(i,!1)){const{message:a}=fe("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(a)}})}}async isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(pr.message,async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(t,n);try{$u(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):Ba(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})}catch(a){this.client.logger.error(a)}})}registerExpirerEvents(){this.client.core.expirer.on(Jr.expired,async e=>{const{topic:t,id:n}=Q0(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,fe("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!sr(e,!1)){const{message:t}=fe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(ei(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=fe("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!sr(e,!1)){const{message:t}=fe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(ei(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=fe("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(sr(e,!1)){const{message:t}=fe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=fe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!V_(e)){const{message:t}=fe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(ei(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=fe("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class P8 extends za{constructor(e,t){super(e,t,b8,ju),this.core=e,this.logger=t}}class T8 extends za{constructor(e,t){super(e,t,_8,ju),this.core=e,this.logger=t}}class R8 extends za{constructor(e,t){super(e,t,x8,ju,n=>n.id),this.core=e,this.logger=t}}class ku extends k5{constructor(e){super(e),this.protocol=T1,this.version=R1,this.name=Fu.name,this.events=new lr.exports.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||Fu.name,this.metadata=e?.metadata||l_();const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:tt.pino(tt.getDefaultLoggerOptions({level:e?.logger||Fu.logger}));this.core=e?.core||new w8(e),this.logger=tt.generateChildLogger(t,this.name),this.session=new T8(this.core,this.logger),this.proposal=new P8(this.core,this.logger),this.pendingRequest=new R8(this.core,this.logger),this.engine=new A8(this)}static async init(e){const t=new ku(e);return await t.initialize(),t}get context(){return tt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var Hu={exports:{}};(function(r,e){var t=typeof self<"u"?self:ir,n=function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a}();(function(a){(function(c){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(w){return w&&DataView.prototype.isPrototypeOf(w)}if(u.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(w){return w&&p.indexOf(Object.prototype.toString.call(w))>-1};function D(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(w))throw new TypeError("Invalid character in header field name");return w.toLowerCase()}function y(w){return typeof w!="string"&&(w=String(w)),w}function S(w){var T={next:function(){var te=w.shift();return{done:te===void 0,value:te}}};return u.iterable&&(T[Symbol.iterator]=function(){return T}),T}function C(w){this.map={},w instanceof C?w.forEach(function(T,te){this.append(te,T)},this):Array.isArray(w)?w.forEach(function(T){this.append(T[0],T[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(T){this.append(T,w[T])},this)}C.prototype.append=function(w,T){w=D(w),T=y(T);var te=this.map[w];this.map[w]=te?te+", "+T:T},C.prototype.delete=function(w){delete this.map[D(w)]},C.prototype.get=function(w){return w=D(w),this.has(w)?this.map[w]:null},C.prototype.has=function(w){return this.map.hasOwnProperty(D(w))},C.prototype.set=function(w,T){this.map[D(w)]=y(T)},C.prototype.forEach=function(w,T){for(var te in this.map)this.map.hasOwnProperty(te)&&w.call(T,this.map[te],te,this)},C.prototype.keys=function(){var w=[];return this.forEach(function(T,te){w.push(te)}),S(w)},C.prototype.values=function(){var w=[];return this.forEach(function(T){w.push(T)}),S(w)},C.prototype.entries=function(){var w=[];return this.forEach(function(T,te){w.push([te,T])}),S(w)},u.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function N(w){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}function U(w){return new Promise(function(T,te){w.onload=function(){T(w.result)},w.onerror=function(){te(w.error)}})}function H(w){var T=new FileReader,te=U(T);return T.readAsArrayBuffer(w),te}function $(w){var T=new FileReader,te=U(T);return T.readAsText(w),te}function P(w){for(var T=new Uint8Array(w),te=new Array(T.length),Q=0;Q<T.length;Q++)te[Q]=String.fromCharCode(T[Q]);return te.join("")}function O(w){if(w.slice)return w.slice(0);var T=new Uint8Array(w.byteLength);return T.set(new Uint8Array(w)),T.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(w){this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:u.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:u.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():u.arrayBuffer&&u.blob&&f(w)?(this._bodyArrayBuffer=O(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||m(w))?this._bodyArrayBuffer=O(w):this._bodyText=w=Object.prototype.toString.call(w):this._bodyText="",this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var w=N(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(H)}),this.text=function(){var w=N(this);if(w)return w;if(this._bodyBlob)return $(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(w){var T=w.toUpperCase();return E.indexOf(T)>-1?T:w}function b(w,T){T=T||{};var te=T.body;if(w instanceof b){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,T.headers||(this.headers=new C(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!te&&w._bodyInit!=null&&(te=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new C(T.headers)),this.method=h(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&te)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(te)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})};function K(w){var T=new FormData;return w.trim().split("&").forEach(function(te){if(te){var Q=te.split("="),Y=Q.shift().replace(/\+/g," "),Z=Q.join("=").replace(/\+/g," ");T.append(decodeURIComponent(Y),decodeURIComponent(Z))}}),T}function W(w){var T=new C,te=w.replace(/\r?\n[\t ]+/g," ");return te.split(/\r?\n/).forEach(function(Q){var Y=Q.split(":"),Z=Y.shift().trim();if(Z){var ee=Y.join(":").trim();T.append(Z,ee)}}),T}A.call(b.prototype);function V(w,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new C(T.headers),this.url=T.url||"",this._initBody(w)}A.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},V.error=function(){var w=new V(null,{status:0,statusText:""});return w.type="error",w};var J=[301,302,303,307,308];V.redirect=function(w,T){if(J.indexOf(T)===-1)throw new RangeError("Invalid status code");return new V(null,{status:T,headers:{location:w}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(T,te){this.message=T,this.name=te;var Q=Error(T);this.stack=Q.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function ne(w,T){return new Promise(function(te,Q){var Y=new b(w,T);if(Y.signal&&Y.signal.aborted)return Q(new c.DOMException("Aborted","AbortError"));var Z=new XMLHttpRequest;function ee(){Z.abort()}Z.onload=function(){var oe={status:Z.status,statusText:Z.statusText,headers:W(Z.getAllResponseHeaders()||"")};oe.url="responseURL"in Z?Z.responseURL:oe.headers.get("X-Request-URL");var Ee="response"in Z?Z.response:Z.responseText;te(new V(Ee,oe))},Z.onerror=function(){Q(new TypeError("Network request failed"))},Z.ontimeout=function(){Q(new TypeError("Network request failed"))},Z.onabort=function(){Q(new c.DOMException("Aborted","AbortError"))},Z.open(Y.method,Y.url,!0),Y.credentials==="include"?Z.withCredentials=!0:Y.credentials==="omit"&&(Z.withCredentials=!1),"responseType"in Z&&u.blob&&(Z.responseType="blob"),Y.headers.forEach(function(oe,Ee){Z.setRequestHeader(Ee,oe)}),Y.signal&&(Y.signal.addEventListener("abort",ee),Z.onreadystatechange=function(){Z.readyState===4&&Y.signal.removeEventListener("abort",ee)}),Z.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return ne.polyfill=!0,a.fetch||(a.fetch=ne,a.Headers=C,a.Request=b,a.Response=V),c.Headers=C,c.Request=b,c.Response=V,c.fetch=ne,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(Hu,Hu.exports);var F1=Oy(Hu.exports);const B1={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},k1=10;class Mi{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new lr.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!Vp(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const n=So(e),a=await(await F1(this.url,Object.assign(Object.assign({},B1),{body:n}))).json();this.onPayload({data:a})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Vp(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=So({id:1,jsonrpc:"2.0",method:"test",params:[]});await F1(e,Object.assign(Object.assign({},B1),{body:t}))}this.onOpen()}catch(t){const n=this.parseError(t);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?_u(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),a=Fa(e,i);this.events.emit("payload",a)}parseError(e,t=this.url){return Fp(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>k1&&this.events.setMaxListeners(k1)}}const H1="error",N8="wss://relay.walletconnect.com",L8="wc",M8="universal_provider",z1=`${L8}@2:${M8}:`,U8="https://rpc.walletconnect.com/v1",ni={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zu={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",D=1,y=2,S=4,C=1,N=2,U=1,H=2,$=4,P=8,O=16,A=32,E=64,h=128,b=256,K=512,W=30,V="...",J=800,ne=16,w=1,T=2,te=3,Q=1/0,Y=9007199254740991,Z=17976931348623157e292,ee=0/0,oe=4294967295,Ee=oe-1,ce=oe>>>1,xe=[["ary",h],["bind",U],["bindKey",H],["curry",P],["curryRight",O],["flip",K],["partial",A],["partialRight",E],["rearg",b]],de="[object Arguments]",be="[object Array]",q="[object AsyncFunction]",z="[object Boolean]",j="[object Date]",g="[object DOMException]",L="[object Error]",le="[object Function]",pe="[object GeneratorFunction]",Ce="[object Map]",Ve="[object Number]",Ze="[object Null]",ke="[object Object]",St="[object Promise]",Dt="[object Proxy]",ze="[object RegExp]",Ie="[object Set]",Ue="[object String]",je="[object Symbol]",qe="[object Undefined]",Ae="[object WeakMap]",Fe="[object WeakSet]",Oe="[object ArrayBuffer]",Te="[object DataView]",Ke="[object Float32Array]",$e="[object Float64Array]",Je="[object Int8Array]",Xe="[object Int16Array]",at="[object Int32Array]",ct="[object Uint8Array]",nt="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Mr="[object Uint32Array]",Cn=/\b__p \+= '';/g,Dr=/\b(__p \+=) '' \+/g,kn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mi=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,Rt=RegExp(mi.source),Ot=RegExp(Zi.source),Nt=/<%-([\s\S]+?)%>/g,Lt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Mt.source),Ut=/^\s+/,zt=/\s/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,Jt=/,? & /,Qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,of=/[()=,{}\[\]\/\s]/,af=/\\(\\)?/g,cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,en=/\w*$/,lf=/^[-+]0x[0-9a-f]+$/i,uf=/^0b[01]+$/i,hf=/^\[object .+?Constructor\]$/,ff=/^0o[0-7]+$/i,df=/^(?:0|[1-9]\d*)$/,Hn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Us=/($^)/,pf=/['\n\r\u2028\u2029\\]/g,js="\\ud800-\\udfff",gf="\\u0300-\\u036f",mf="\\ufe20-\\ufe2f",Fs="\\u20d0-\\u20ff",xc=gf+mf+Fs,Sc="\\u2700-\\u27bf",dn="a-z\\xdf-\\xf6\\xf8-\\xff",vf="\\xac\\xb1\\xd7\\xf7",yf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wf="\\u2000-\\u206f",bf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dc="A-Z\\xc0-\\xd6\\xd8-\\xde",Oc="\\ufe0e\\ufe0f",Ji=vf+yf+wf+bf,ea="['\u2019]",Qi="["+js+"]",ta="["+Ji+"]",Xi="["+xc+"]",Cc="\\d+",_f="["+Sc+"]",Ic="["+dn+"]",$c="[^"+js+Ji+Cc+Sc+dn+Dc+"]",Bs="\\ud83c[\\udffb-\\udfff]",Ef="(?:"+Xi+"|"+Bs+")",Ac="[^"+js+"]",ks="(?:\\ud83c[\\udde6-\\uddff]){2}",vi="[\\ud800-\\udbff][\\udc00-\\udfff]",Wr="["+Dc+"]",Pc="\\u200d",Tc="(?:"+Ic+"|"+$c+")",In="(?:"+Wr+"|"+$c+")",Rc="(?:"+ea+"(?:d|ll|m|re|s|t|ve))?",Nc="(?:"+ea+"(?:D|LL|M|RE|S|T|VE))?",Lc=Ef+"?",Mc="["+Oc+"]?",xf="(?:"+Pc+"(?:"+[Ac,ks,vi].join("|")+")"+Mc+Lc+")*",zn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jc=Mc+Lc+xf,Hs="(?:"+[_f,ks,vi].join("|")+")"+jc,Sf="(?:"+[Ac+Xi+"?",Xi,ks,vi,Qi].join("|")+")",ra=RegExp(ea,"g"),Df=RegExp(Xi,"g"),zs=RegExp(Bs+"(?="+Bs+")|"+Sf+jc,"g"),Fc=RegExp([Wr+"?"+Ic+"+"+Rc+"(?="+[ta,Wr,"$"].join("|")+")",In+"+"+Nc+"(?="+[ta,Wr+Tc,"$"].join("|")+")",Wr+"?"+Tc+"+"+Rc,Wr+"+"+Nc,Uc,zn,Cc,Hs].join("|"),"g"),Bc=RegExp("["+Pc+js+xc+Oc+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Of=-1,mt={};mt[Ke]=mt[$e]=mt[Je]=mt[Xe]=mt[at]=mt[ct]=mt[nt]=mt[Sr]=mt[Mr]=!0,mt[de]=mt[be]=mt[Oe]=mt[z]=mt[Te]=mt[j]=mt[L]=mt[le]=mt[Ce]=mt[Ve]=mt[ke]=mt[ze]=mt[Ie]=mt[Ue]=mt[Ae]=!1;var gt={};gt[de]=gt[be]=gt[Oe]=gt[Te]=gt[z]=gt[j]=gt[Ke]=gt[$e]=gt[Je]=gt[Xe]=gt[at]=gt[Ce]=gt[Ve]=gt[ke]=gt[ze]=gt[Ie]=gt[Ue]=gt[je]=gt[ct]=gt[nt]=gt[Sr]=gt[Mr]=!0,gt[L]=gt[le]=gt[Ae]=!1;var I={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},se={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vt=parseFloat,Ne=parseInt,Et=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,Xt=typeof self=="object"&&self&&self.Object===Object&&self,it=Et||Xt||Function("return this")(),yt=e&&!e.nodeType&&e,qt=yt&&!0&&r&&!r.nodeType&&r,Ur=qt&&qt.exports===yt,er=Ur&&Et.process,xt=function(){try{var B=qt&&qt.require&&qt.require("util").types;return B||er&&er.binding&&er.binding("util")}catch{}}(),Or=xt&&xt.isArrayBuffer,pn=xt&&xt.isDate,tn=xt&&xt.isMap,$n=xt&&xt.isRegExp,na=xt&&xt.isSet,ts=xt&&xt.isTypedArray;function ar(B,X,G){switch(G.length){case 0:return B.call(X);case 1:return B.call(X,G[0]);case 2:return B.call(X,G[0],G[1]);case 3:return B.call(X,G[0],G[1],G[2])}return B.apply(X,G)}function GC(B,X,G,me){for(var Re=-1,ut=B==null?0:B.length;++Re<ut;){var rr=B[Re];X(me,rr,G(rr),B)}return me}function rn(B,X){for(var G=-1,me=B==null?0:B.length;++G<me&&X(B[G],G,B)!==!1;);return B}function YC(B,X){for(var G=B==null?0:B.length;G--&&X(B[G],G,B)!==!1;);return B}function Cm(B,X){for(var G=-1,me=B==null?0:B.length;++G<me;)if(!X(B[G],G,B))return!1;return!0}function yi(B,X){for(var G=-1,me=B==null?0:B.length,Re=0,ut=[];++G<me;){var rr=B[G];X(rr,G,B)&&(ut[Re++]=rr)}return ut}function Hc(B,X){var G=B==null?0:B.length;return!!G&&qs(B,X,0)>-1}function Cf(B,X,G){for(var me=-1,Re=B==null?0:B.length;++me<Re;)if(G(X,B[me]))return!0;return!1}function It(B,X){for(var G=-1,me=B==null?0:B.length,Re=Array(me);++G<me;)Re[G]=X(B[G],G,B);return Re}function wi(B,X){for(var G=-1,me=X.length,Re=B.length;++G<me;)B[Re+G]=X[G];return B}function If(B,X,G,me){var Re=-1,ut=B==null?0:B.length;for(me&&ut&&(G=B[++Re]);++Re<ut;)G=X(G,B[Re],Re,B);return G}function ZC(B,X,G,me){var Re=B==null?0:B.length;for(me&&Re&&(G=B[--Re]);Re--;)G=X(G,B[Re],Re,B);return G}function $f(B,X){for(var G=-1,me=B==null?0:B.length;++G<me;)if(X(B[G],G,B))return!0;return!1}var JC=Af("length");function QC(B){return B.split("")}function XC(B){return B.match(Qt)||[]}function Im(B,X,G){var me;return G(B,function(Re,ut,rr){if(X(Re,ut,rr))return me=ut,!1}),me}function zc(B,X,G,me){for(var Re=B.length,ut=G+(me?1:-1);me?ut--:++ut<Re;)if(X(B[ut],ut,B))return ut;return-1}function qs(B,X,G){return X===X?h7(B,X,G):zc(B,$m,G)}function e7(B,X,G,me){for(var Re=G-1,ut=B.length;++Re<ut;)if(me(B[Re],X))return Re;return-1}function $m(B){return B!==B}function Am(B,X){var G=B==null?0:B.length;return G?Tf(B,X)/G:ee}function Af(B){return function(X){return X==null?t:X[B]}}function Pf(B){return function(X){return B==null?t:B[X]}}function Pm(B,X,G,me,Re){return Re(B,function(ut,rr,wt){G=me?(me=!1,ut):X(G,ut,rr,wt)}),G}function t7(B,X){var G=B.length;for(B.sort(X);G--;)B[G]=B[G].value;return B}function Tf(B,X){for(var G,me=-1,Re=B.length;++me<Re;){var ut=X(B[me]);ut!==t&&(G=G===t?ut:G+ut)}return G}function Rf(B,X){for(var G=-1,me=Array(B);++G<B;)me[G]=X(G);return me}function r7(B,X){return It(X,function(G){return[G,B[G]]})}function Tm(B){return B&&B.slice(0,Mm(B)+1).replace(Ut,"")}function Vr(B){return function(X){return B(X)}}function Nf(B,X){return It(X,function(G){return B[G]})}function ia(B,X){return B.has(X)}function Rm(B,X){for(var G=-1,me=B.length;++G<me&&qs(X,B[G],0)>-1;);return G}function Nm(B,X){for(var G=B.length;G--&&qs(X,B[G],0)>-1;);return G}function n7(B,X){for(var G=B.length,me=0;G--;)B[G]===X&&++me;return me}var i7=Pf(I),s7=Pf(F);function o7(B){return"\\"+ge[B]}function a7(B,X){return B==null?t:B[X]}function Ws(B){return Bc.test(B)}function c7(B){return es.test(B)}function l7(B){for(var X,G=[];!(X=B.next()).done;)G.push(X.value);return G}function Lf(B){var X=-1,G=Array(B.size);return B.forEach(function(me,Re){G[++X]=[Re,me]}),G}function Lm(B,X){return function(G){return B(X(G))}}function bi(B,X){for(var G=-1,me=B.length,Re=0,ut=[];++G<me;){var rr=B[G];(rr===X||rr===m)&&(B[G]=m,ut[Re++]=G)}return ut}function qc(B){var X=-1,G=Array(B.size);return B.forEach(function(me){G[++X]=me}),G}function u7(B){var X=-1,G=Array(B.size);return B.forEach(function(me){G[++X]=[me,me]}),G}function h7(B,X,G){for(var me=G-1,Re=B.length;++me<Re;)if(B[me]===X)return me;return-1}function f7(B,X,G){for(var me=G+1;me--;)if(B[me]===X)return me;return me}function Vs(B){return Ws(B)?p7(B):JC(B)}function gn(B){return Ws(B)?g7(B):QC(B)}function Mm(B){for(var X=B.length;X--&&zt.test(B.charAt(X)););return X}var d7=Pf(se);function p7(B){for(var X=zs.lastIndex=0;zs.test(B);)++X;return X}function g7(B){return B.match(zs)||[]}function m7(B){return B.match(Fc)||[]}var v7=function B(X){X=X==null?it:Ks.defaults(it.Object(),X,Ks.pick(it,kc));var G=X.Array,me=X.Date,Re=X.Error,ut=X.Function,rr=X.Math,wt=X.Object,Mf=X.RegExp,y7=X.String,nn=X.TypeError,Wc=G.prototype,w7=ut.prototype,Gs=wt.prototype,Vc=X["__core-js_shared__"],Kc=w7.toString,dt=Gs.hasOwnProperty,b7=0,Um=function(){var s=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Gc=Gs.toString,_7=Kc.call(wt),E7=it._,x7=Mf("^"+Kc.call(dt).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yc=Ur?X.Buffer:t,_i=X.Symbol,Zc=X.Uint8Array,jm=Yc?Yc.allocUnsafe:t,Jc=Lm(wt.getPrototypeOf,wt),Fm=wt.create,Bm=Gs.propertyIsEnumerable,Qc=Wc.splice,km=_i?_i.isConcatSpreadable:t,sa=_i?_i.iterator:t,rs=_i?_i.toStringTag:t,Xc=function(){try{var s=as(wt,"defineProperty");return s({},"",{}),s}catch{}}(),S7=X.clearTimeout!==it.clearTimeout&&X.clearTimeout,D7=me&&me.now!==it.Date.now&&me.now,O7=X.setTimeout!==it.setTimeout&&X.setTimeout,el=rr.ceil,tl=rr.floor,Uf=wt.getOwnPropertySymbols,C7=Yc?Yc.isBuffer:t,Hm=X.isFinite,I7=Wc.join,$7=Lm(wt.keys,wt),nr=rr.max,mr=rr.min,A7=me.now,P7=X.parseInt,zm=rr.random,T7=Wc.reverse,jf=as(X,"DataView"),oa=as(X,"Map"),Ff=as(X,"Promise"),Ys=as(X,"Set"),aa=as(X,"WeakMap"),ca=as(wt,"create"),rl=aa&&new aa,Zs={},R7=cs(jf),N7=cs(oa),L7=cs(Ff),M7=cs(Ys),U7=cs(aa),nl=_i?_i.prototype:t,la=nl?nl.valueOf:t,qm=nl?nl.toString:t;function _(s){if(Ft(s)&&!Le(s)&&!(s instanceof et)){if(s instanceof sn)return s;if(dt.call(s,"__wrapped__"))return Wv(s)}return new sn(s)}var Js=function(){function s(){}return function(o){if(!Pt(o))return{};if(Fm)return Fm(o);s.prototype=o;var l=new s;return s.prototype=t,l}}();function il(){}function sn(s,o){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}_.templateSettings={escape:Nt,evaluate:Lt,interpolate:At,variable:"",imports:{_}},_.prototype=il.prototype,_.prototype.constructor=_,sn.prototype=Js(il.prototype),sn.prototype.constructor=sn;function et(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function j7(){var s=new et(this.__wrapped__);return s.__actions__=jr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=jr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=jr(this.__views__),s}function F7(){if(this.__filtered__){var s=new et(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function B7(){var s=this.__wrapped__.value(),o=this.__dir__,l=Le(s),d=o<0,v=l?s.length:0,x=QI(0,v,this.__views__),R=x.start,M=x.end,k=M-R,re=d?M:R-1,ie=this.__iteratees__,ae=ie.length,he=0,ve=mr(k,this.__takeCount__);if(!l||!d&&v==k&&ve==k)return pv(s,this.__actions__);var Se=[];e:for(;k--&&he<ve;){re+=o;for(var We=-1,De=s[re];++We<ae;){var Qe=ie[We],st=Qe.iteratee,Yr=Qe.type,$r=st(De);if(Yr==T)De=$r;else if(!$r){if(Yr==w)continue e;break e}}Se[he++]=De}return Se}et.prototype=Js(il.prototype),et.prototype.constructor=et;function ns(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function k7(){this.__data__=ca?ca(null):{},this.size=0}function H7(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}function z7(s){var o=this.__data__;if(ca){var l=o[s];return l===f?t:l}return dt.call(o,s)?o[s]:t}function q7(s){var o=this.__data__;return ca?o[s]!==t:dt.call(o,s)}function W7(s,o){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=ca&&o===t?f:o,this}ns.prototype.clear=k7,ns.prototype.delete=H7,ns.prototype.get=z7,ns.prototype.has=q7,ns.prototype.set=W7;function qn(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function V7(){this.__data__=[],this.size=0}function K7(s){var o=this.__data__,l=sl(o,s);if(l<0)return!1;var d=o.length-1;return l==d?o.pop():Qc.call(o,l,1),--this.size,!0}function G7(s){var o=this.__data__,l=sl(o,s);return l<0?t:o[l][1]}function Y7(s){return sl(this.__data__,s)>-1}function Z7(s,o){var l=this.__data__,d=sl(l,s);return d<0?(++this.size,l.push([s,o])):l[d][1]=o,this}qn.prototype.clear=V7,qn.prototype.delete=K7,qn.prototype.get=G7,qn.prototype.has=Y7,qn.prototype.set=Z7;function Wn(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function J7(){this.size=0,this.__data__={hash:new ns,map:new(oa||qn),string:new ns}}function Q7(s){var o=vl(this,s).delete(s);return this.size-=o?1:0,o}function X7(s){return vl(this,s).get(s)}function eI(s){return vl(this,s).has(s)}function tI(s,o){var l=vl(this,s),d=l.size;return l.set(s,o),this.size+=l.size==d?0:1,this}Wn.prototype.clear=J7,Wn.prototype.delete=Q7,Wn.prototype.get=X7,Wn.prototype.has=eI,Wn.prototype.set=tI;function is(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new Wn;++o<l;)this.add(s[o])}function rI(s){return this.__data__.set(s,f),this}function nI(s){return this.__data__.has(s)}is.prototype.add=is.prototype.push=rI,is.prototype.has=nI;function mn(s){var o=this.__data__=new qn(s);this.size=o.size}function iI(){this.__data__=new qn,this.size=0}function sI(s){var o=this.__data__,l=o.delete(s);return this.size=o.size,l}function oI(s){return this.__data__.get(s)}function aI(s){return this.__data__.has(s)}function cI(s,o){var l=this.__data__;if(l instanceof qn){var d=l.__data__;if(!oa||d.length<i-1)return d.push([s,o]),this.size=++l.size,this;l=this.__data__=new Wn(d)}return l.set(s,o),this.size=l.size,this}mn.prototype.clear=iI,mn.prototype.delete=sI,mn.prototype.get=oI,mn.prototype.has=aI,mn.prototype.set=cI;function Wm(s,o){var l=Le(s),d=!l&&ls(s),v=!l&&!d&&Oi(s),x=!l&&!d&&!v&&to(s),R=l||d||v||x,M=R?Rf(s.length,y7):[],k=M.length;for(var re in s)(o||dt.call(s,re))&&!(R&&(re=="length"||v&&(re=="offset"||re=="parent")||x&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||Yn(re,k)))&&M.push(re);return M}function Vm(s){var o=s.length;return o?s[Zf(0,o-1)]:t}function lI(s,o){return yl(jr(s),ss(o,0,s.length))}function uI(s){return yl(jr(s))}function Bf(s,o,l){(l!==t&&!vn(s[o],l)||l===t&&!(o in s))&&Vn(s,o,l)}function ua(s,o,l){var d=s[o];(!(dt.call(s,o)&&vn(d,l))||l===t&&!(o in s))&&Vn(s,o,l)}function sl(s,o){for(var l=s.length;l--;)if(vn(s[l][0],o))return l;return-1}function hI(s,o,l,d){return Ei(s,function(v,x,R){o(d,v,l(v),R)}),d}function Km(s,o){return s&&Pn(o,cr(o),s)}function fI(s,o){return s&&Pn(o,Br(o),s)}function Vn(s,o,l){o=="__proto__"&&Xc?Xc(s,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[o]=l}function kf(s,o){for(var l=-1,d=o.length,v=G(d),x=s==null;++l<d;)v[l]=x?t:_d(s,o[l]);return v}function ss(s,o,l){return s===s&&(l!==t&&(s=s<=l?s:l),o!==t&&(s=s>=o?s:o)),s}function on(s,o,l,d,v,x){var R,M=o&D,k=o&y,re=o&S;if(l&&(R=v?l(s,d,v,x):l(s)),R!==t)return R;if(!Pt(s))return s;var ie=Le(s);if(ie){if(R=e$(s),!M)return jr(s,R)}else{var ae=vr(s),he=ae==le||ae==pe;if(Oi(s))return vv(s,M);if(ae==ke||ae==de||he&&!v){if(R=k||he?{}:Mv(s),!M)return k?zI(s,fI(R,s)):HI(s,Km(R,s))}else{if(!gt[ae])return v?s:{};R=t$(s,ae,M)}}x||(x=new mn);var ve=x.get(s);if(ve)return ve;x.set(s,R),hy(s)?s.forEach(function(De){R.add(on(De,o,l,De,s,x))}):ly(s)&&s.forEach(function(De,Qe){R.set(Qe,on(De,o,l,Qe,s,x))});var Se=re?k?ad:od:k?Br:cr,We=ie?t:Se(s);return rn(We||s,function(De,Qe){We&&(Qe=De,De=s[Qe]),ua(R,Qe,on(De,o,l,Qe,s,x))}),R}function dI(s){var o=cr(s);return function(l){return Gm(l,s,o)}}function Gm(s,o,l){var d=l.length;if(s==null)return!d;for(s=wt(s);d--;){var v=l[d],x=o[v],R=s[v];if(R===t&&!(v in s)||!x(R))return!1}return!0}function Ym(s,o,l){if(typeof s!="function")throw new nn(c);return va(function(){s.apply(t,l)},o)}function ha(s,o,l,d){var v=-1,x=Hc,R=!0,M=s.length,k=[],re=o.length;if(!M)return k;l&&(o=It(o,Vr(l))),d?(x=Cf,R=!1):o.length>=i&&(x=ia,R=!1,o=new is(o));e:for(;++v<M;){var ie=s[v],ae=l==null?ie:l(ie);if(ie=d||ie!==0?ie:0,R&&ae===ae){for(var he=re;he--;)if(o[he]===ae)continue e;k.push(ie)}else x(o,ae,d)||k.push(ie)}return k}var Ei=Ev(An),Zm=Ev(zf,!0);function pI(s,o){var l=!0;return Ei(s,function(d,v,x){return l=!!o(d,v,x),l}),l}function ol(s,o,l){for(var d=-1,v=s.length;++d<v;){var x=s[d],R=o(x);if(R!=null&&(M===t?R===R&&!Gr(R):l(R,M)))var M=R,k=x}return k}function gI(s,o,l,d){var v=s.length;for(l=He(l),l<0&&(l=-l>v?0:v+l),d=d===t||d>v?v:He(d),d<0&&(d+=v),d=l>d?0:dy(d);l<d;)s[l++]=o;return s}function Jm(s,o){var l=[];return Ei(s,function(d,v,x){o(d,v,x)&&l.push(d)}),l}function fr(s,o,l,d,v){var x=-1,R=s.length;for(l||(l=n$),v||(v=[]);++x<R;){var M=s[x];o>0&&l(M)?o>1?fr(M,o-1,l,d,v):wi(v,M):d||(v[v.length]=M)}return v}var Hf=xv(),Qm=xv(!0);function An(s,o){return s&&Hf(s,o,cr)}function zf(s,o){return s&&Qm(s,o,cr)}function al(s,o){return yi(o,function(l){return Zn(s[l])})}function os(s,o){o=Si(o,s);for(var l=0,d=o.length;s!=null&&l<d;)s=s[Tn(o[l++])];return l&&l==d?s:t}function Xm(s,o,l){var d=o(s);return Le(s)?d:wi(d,l(s))}function Cr(s){return s==null?s===t?qe:Ze:rs&&rs in wt(s)?JI(s):u$(s)}function qf(s,o){return s>o}function mI(s,o){return s!=null&&dt.call(s,o)}function vI(s,o){return s!=null&&o in wt(s)}function yI(s,o,l){return s>=mr(o,l)&&s<nr(o,l)}function Wf(s,o,l){for(var d=l?Cf:Hc,v=s[0].length,x=s.length,R=x,M=G(x),k=1/0,re=[];R--;){var ie=s[R];R&&o&&(ie=It(ie,Vr(o))),k=mr(ie.length,k),M[R]=!l&&(o||v>=120&&ie.length>=120)?new is(R&&ie):t}ie=s[0];var ae=-1,he=M[0];e:for(;++ae<v&&re.length<k;){var ve=ie[ae],Se=o?o(ve):ve;if(ve=l||ve!==0?ve:0,!(he?ia(he,Se):d(re,Se,l))){for(R=x;--R;){var We=M[R];if(!(We?ia(We,Se):d(s[R],Se,l)))continue e}he&&he.push(Se),re.push(ve)}}return re}function wI(s,o,l,d){return An(s,function(v,x,R){o(d,l(v),x,R)}),d}function fa(s,o,l){o=Si(o,s),s=Bv(s,o);var d=s==null?s:s[Tn(cn(o))];return d==null?t:ar(d,s,l)}function ev(s){return Ft(s)&&Cr(s)==de}function bI(s){return Ft(s)&&Cr(s)==Oe}function _I(s){return Ft(s)&&Cr(s)==j}function da(s,o,l,d,v){return s===o?!0:s==null||o==null||!Ft(s)&&!Ft(o)?s!==s&&o!==o:EI(s,o,l,d,da,v)}function EI(s,o,l,d,v,x){var R=Le(s),M=Le(o),k=R?be:vr(s),re=M?be:vr(o);k=k==de?ke:k,re=re==de?ke:re;var ie=k==ke,ae=re==ke,he=k==re;if(he&&Oi(s)){if(!Oi(o))return!1;R=!0,ie=!1}if(he&&!ie)return x||(x=new mn),R||to(s)?Rv(s,o,l,d,v,x):YI(s,o,k,l,d,v,x);if(!(l&C)){var ve=ie&&dt.call(s,"__wrapped__"),Se=ae&&dt.call(o,"__wrapped__");if(ve||Se){var We=ve?s.value():s,De=Se?o.value():o;return x||(x=new mn),v(We,De,l,d,x)}}return he?(x||(x=new mn),ZI(s,o,l,d,v,x)):!1}function xI(s){return Ft(s)&&vr(s)==Ce}function Vf(s,o,l,d){var v=l.length,x=v,R=!d;if(s==null)return!x;for(s=wt(s);v--;){var M=l[v];if(R&&M[2]?M[1]!==s[M[0]]:!(M[0]in s))return!1}for(;++v<x;){M=l[v];var k=M[0],re=s[k],ie=M[1];if(R&&M[2]){if(re===t&&!(k in s))return!1}else{var ae=new mn;if(d)var he=d(re,ie,k,s,o,ae);if(!(he===t?da(ie,re,C|N,d,ae):he))return!1}}return!0}function tv(s){if(!Pt(s)||s$(s))return!1;var o=Zn(s)?x7:hf;return o.test(cs(s))}function SI(s){return Ft(s)&&Cr(s)==ze}function DI(s){return Ft(s)&&vr(s)==Ie}function OI(s){return Ft(s)&&Sl(s.length)&&!!mt[Cr(s)]}function rv(s){return typeof s=="function"?s:s==null?kr:typeof s=="object"?Le(s)?sv(s[0],s[1]):iv(s):Sy(s)}function Kf(s){if(!ma(s))return $7(s);var o=[];for(var l in wt(s))dt.call(s,l)&&l!="constructor"&&o.push(l);return o}function CI(s){if(!Pt(s))return l$(s);var o=ma(s),l=[];for(var d in s)d=="constructor"&&(o||!dt.call(s,d))||l.push(d);return l}function Gf(s,o){return s<o}function nv(s,o){var l=-1,d=Fr(s)?G(s.length):[];return Ei(s,function(v,x,R){d[++l]=o(v,x,R)}),d}function iv(s){var o=ld(s);return o.length==1&&o[0][2]?jv(o[0][0],o[0][1]):function(l){return l===s||Vf(l,s,o)}}function sv(s,o){return hd(s)&&Uv(o)?jv(Tn(s),o):function(l){var d=_d(l,s);return d===t&&d===o?Ed(l,s):da(o,d,C|N)}}function cl(s,o,l,d,v){s!==o&&Hf(o,function(x,R){if(v||(v=new mn),Pt(x))II(s,o,R,l,cl,d,v);else{var M=d?d(dd(s,R),x,R+"",s,o,v):t;M===t&&(M=x),Bf(s,R,M)}},Br)}function II(s,o,l,d,v,x,R){var M=dd(s,l),k=dd(o,l),re=R.get(k);if(re){Bf(s,l,re);return}var ie=x?x(M,k,l+"",s,o,R):t,ae=ie===t;if(ae){var he=Le(k),ve=!he&&Oi(k),Se=!he&&!ve&&to(k);ie=k,he||ve||Se?Le(M)?ie=M:Wt(M)?ie=jr(M):ve?(ae=!1,ie=vv(k,!0)):Se?(ae=!1,ie=yv(k,!0)):ie=[]:ya(k)||ls(k)?(ie=M,ls(M)?ie=py(M):(!Pt(M)||Zn(M))&&(ie=Mv(k))):ae=!1}ae&&(R.set(k,ie),v(ie,k,d,x,R),R.delete(k)),Bf(s,l,ie)}function ov(s,o){var l=s.length;if(l)return o+=o<0?l:0,Yn(o,l)?s[o]:t}function av(s,o,l){o.length?o=It(o,function(x){return Le(x)?function(R){return os(R,x.length===1?x[0]:x)}:x}):o=[kr];var d=-1;o=It(o,Vr(_e()));var v=nv(s,function(x,R,M){var k=It(o,function(re){return re(x)});return{criteria:k,index:++d,value:x}});return t7(v,function(x,R){return kI(x,R,l)})}function $I(s,o){return cv(s,o,function(l,d){return Ed(s,d)})}function cv(s,o,l){for(var d=-1,v=o.length,x={};++d<v;){var R=o[d],M=os(s,R);l(M,R)&&pa(x,Si(R,s),M)}return x}function AI(s){return function(o){return os(o,s)}}function Yf(s,o,l,d){var v=d?e7:qs,x=-1,R=o.length,M=s;for(s===o&&(o=jr(o)),l&&(M=It(s,Vr(l)));++x<R;)for(var k=0,re=o[x],ie=l?l(re):re;(k=v(M,ie,k,d))>-1;)M!==s&&Qc.call(M,k,1),Qc.call(s,k,1);return s}function lv(s,o){for(var l=s?o.length:0,d=l-1;l--;){var v=o[l];if(l==d||v!==x){var x=v;Yn(v)?Qc.call(s,v,1):Xf(s,v)}}return s}function Zf(s,o){return s+tl(zm()*(o-s+1))}function PI(s,o,l,d){for(var v=-1,x=nr(el((o-s)/(l||1)),0),R=G(x);x--;)R[d?x:++v]=s,s+=l;return R}function Jf(s,o){var l="";if(!s||o<1||o>Y)return l;do o%2&&(l+=s),o=tl(o/2),o&&(s+=s);while(o);return l}function Ge(s,o){return pd(Fv(s,o,kr),s+"")}function TI(s){return Vm(ro(s))}function RI(s,o){var l=ro(s);return yl(l,ss(o,0,l.length))}function pa(s,o,l,d){if(!Pt(s))return s;o=Si(o,s);for(var v=-1,x=o.length,R=x-1,M=s;M!=null&&++v<x;){var k=Tn(o[v]),re=l;if(k==="__proto__"||k==="constructor"||k==="prototype")return s;if(v!=R){var ie=M[k];re=d?d(ie,k,M):t,re===t&&(re=Pt(ie)?ie:Yn(o[v+1])?[]:{})}ua(M,k,re),M=M[k]}return s}var uv=rl?function(s,o){return rl.set(s,o),s}:kr,NI=Xc?function(s,o){return Xc(s,"toString",{configurable:!0,enumerable:!1,value:Sd(o),writable:!0})}:kr;function LI(s){return yl(ro(s))}function an(s,o,l){var d=-1,v=s.length;o<0&&(o=-o>v?0:v+o),l=l>v?v:l,l<0&&(l+=v),v=o>l?0:l-o>>>0,o>>>=0;for(var x=G(v);++d<v;)x[d]=s[d+o];return x}function MI(s,o){var l;return Ei(s,function(d,v,x){return l=o(d,v,x),!l}),!!l}function ll(s,o,l){var d=0,v=s==null?d:s.length;if(typeof o=="number"&&o===o&&v<=ce){for(;d<v;){var x=d+v>>>1,R=s[x];R!==null&&!Gr(R)&&(l?R<=o:R<o)?d=x+1:v=x}return v}return Qf(s,o,kr,l)}function Qf(s,o,l,d){var v=0,x=s==null?0:s.length;if(x===0)return 0;o=l(o);for(var R=o!==o,M=o===null,k=Gr(o),re=o===t;v<x;){var ie=tl((v+x)/2),ae=l(s[ie]),he=ae!==t,ve=ae===null,Se=ae===ae,We=Gr(ae);if(R)var De=d||Se;else re?De=Se&&(d||he):M?De=Se&&he&&(d||!ve):k?De=Se&&he&&!ve&&(d||!We):ve||We?De=!1:De=d?ae<=o:ae<o;De?v=ie+1:x=ie}return mr(x,Ee)}function hv(s,o){for(var l=-1,d=s.length,v=0,x=[];++l<d;){var R=s[l],M=o?o(R):R;if(!l||!vn(M,k)){var k=M;x[v++]=R===0?0:R}}return x}function fv(s){return typeof s=="number"?s:Gr(s)?ee:+s}function Kr(s){if(typeof s=="string")return s;if(Le(s))return It(s,Kr)+"";if(Gr(s))return qm?qm.call(s):"";var o=s+"";return o=="0"&&1/s==-Q?"-0":o}function xi(s,o,l){var d=-1,v=Hc,x=s.length,R=!0,M=[],k=M;if(l)R=!1,v=Cf;else if(x>=i){var re=o?null:KI(s);if(re)return qc(re);R=!1,v=ia,k=new is}else k=o?[]:M;e:for(;++d<x;){var ie=s[d],ae=o?o(ie):ie;if(ie=l||ie!==0?ie:0,R&&ae===ae){for(var he=k.length;he--;)if(k[he]===ae)continue e;o&&k.push(ae),M.push(ie)}else v(k,ae,l)||(k!==M&&k.push(ae),M.push(ie))}return M}function Xf(s,o){return o=Si(o,s),s=Bv(s,o),s==null||delete s[Tn(cn(o))]}function dv(s,o,l,d){return pa(s,o,l(os(s,o)),d)}function ul(s,o,l,d){for(var v=s.length,x=d?v:-1;(d?x--:++x<v)&&o(s[x],x,s););return l?an(s,d?0:x,d?x+1:v):an(s,d?x+1:0,d?v:x)}function pv(s,o){var l=s;return l instanceof et&&(l=l.value()),If(o,function(d,v){return v.func.apply(v.thisArg,wi([d],v.args))},l)}function ed(s,o,l){var d=s.length;if(d<2)return d?xi(s[0]):[];for(var v=-1,x=G(d);++v<d;)for(var R=s[v],M=-1;++M<d;)M!=v&&(x[v]=ha(x[v]||R,s[M],o,l));return xi(fr(x,1),o,l)}function gv(s,o,l){for(var d=-1,v=s.length,x=o.length,R={};++d<v;){var M=d<x?o[d]:t;l(R,s[d],M)}return R}function td(s){return Wt(s)?s:[]}function rd(s){return typeof s=="function"?s:kr}function Si(s,o){return Le(s)?s:hd(s,o)?[s]:qv(ft(s))}var UI=Ge;function Di(s,o,l){var d=s.length;return l=l===t?d:l,!o&&l>=d?s:an(s,o,l)}var mv=S7||function(s){return it.clearTimeout(s)};function vv(s,o){if(o)return s.slice();var l=s.length,d=jm?jm(l):new s.constructor(l);return s.copy(d),d}function nd(s){var o=new s.constructor(s.byteLength);return new Zc(o).set(new Zc(s)),o}function jI(s,o){var l=o?nd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function FI(s){var o=new s.constructor(s.source,en.exec(s));return o.lastIndex=s.lastIndex,o}function BI(s){return la?wt(la.call(s)):{}}function yv(s,o){var l=o?nd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function wv(s,o){if(s!==o){var l=s!==t,d=s===null,v=s===s,x=Gr(s),R=o!==t,M=o===null,k=o===o,re=Gr(o);if(!M&&!re&&!x&&s>o||x&&R&&k&&!M&&!re||d&&R&&k||!l&&k||!v)return 1;if(!d&&!x&&!re&&s<o||re&&l&&v&&!d&&!x||M&&l&&v||!R&&v||!k)return-1}return 0}function kI(s,o,l){for(var d=-1,v=s.criteria,x=o.criteria,R=v.length,M=l.length;++d<R;){var k=wv(v[d],x[d]);if(k){if(d>=M)return k;var re=l[d];return k*(re=="desc"?-1:1)}}return s.index-o.index}function bv(s,o,l,d){for(var v=-1,x=s.length,R=l.length,M=-1,k=o.length,re=nr(x-R,0),ie=G(k+re),ae=!d;++M<k;)ie[M]=o[M];for(;++v<R;)(ae||v<x)&&(ie[l[v]]=s[v]);for(;re--;)ie[M++]=s[v++];return ie}function _v(s,o,l,d){for(var v=-1,x=s.length,R=-1,M=l.length,k=-1,re=o.length,ie=nr(x-M,0),ae=G(ie+re),he=!d;++v<ie;)ae[v]=s[v];for(var ve=v;++k<re;)ae[ve+k]=o[k];for(;++R<M;)(he||v<x)&&(ae[ve+l[R]]=s[v++]);return ae}function jr(s,o){var l=-1,d=s.length;for(o||(o=G(d));++l<d;)o[l]=s[l];return o}function Pn(s,o,l,d){var v=!l;l||(l={});for(var x=-1,R=o.length;++x<R;){var M=o[x],k=d?d(l[M],s[M],M,l,s):t;k===t&&(k=s[M]),v?Vn(l,M,k):ua(l,M,k)}return l}function HI(s,o){return Pn(s,ud(s),o)}function zI(s,o){return Pn(s,Nv(s),o)}function hl(s,o){return function(l,d){var v=Le(l)?GC:hI,x=o?o():{};return v(l,s,_e(d,2),x)}}function Qs(s){return Ge(function(o,l){var d=-1,v=l.length,x=v>1?l[v-1]:t,R=v>2?l[2]:t;for(x=s.length>3&&typeof x=="function"?(v--,x):t,R&&Ir(l[0],l[1],R)&&(x=v<3?t:x,v=1),o=wt(o);++d<v;){var M=l[d];M&&s(o,M,d,x)}return o})}function Ev(s,o){return function(l,d){if(l==null)return l;if(!Fr(l))return s(l,d);for(var v=l.length,x=o?v:-1,R=wt(l);(o?x--:++x<v)&&d(R[x],x,R)!==!1;);return l}}function xv(s){return function(o,l,d){for(var v=-1,x=wt(o),R=d(o),M=R.length;M--;){var k=R[s?M:++v];if(l(x[k],k,x)===!1)break}return o}}function qI(s,o,l){var d=o&U,v=ga(s);function x(){var R=this&&this!==it&&this instanceof x?v:s;return R.apply(d?l:this,arguments)}return x}function Sv(s){return function(o){o=ft(o);var l=Ws(o)?gn(o):t,d=l?l[0]:o.charAt(0),v=l?Di(l,1).join(""):o.slice(1);return d[s]()+v}}function Xs(s){return function(o){return If(Ey(_y(o).replace(ra,"")),s,"")}}function ga(s){return function(){var o=arguments;switch(o.length){case 0:return new s;case 1:return new s(o[0]);case 2:return new s(o[0],o[1]);case 3:return new s(o[0],o[1],o[2]);case 4:return new s(o[0],o[1],o[2],o[3]);case 5:return new s(o[0],o[1],o[2],o[3],o[4]);case 6:return new s(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new s(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=Js(s.prototype),d=s.apply(l,o);return Pt(d)?d:l}}function WI(s,o,l){var d=ga(s);function v(){for(var x=arguments.length,R=G(x),M=x,k=eo(v);M--;)R[M]=arguments[M];var re=x<3&&R[0]!==k&&R[x-1]!==k?[]:bi(R,k);if(x-=re.length,x<l)return $v(s,o,fl,v.placeholder,t,R,re,t,t,l-x);var ie=this&&this!==it&&this instanceof v?d:s;return ar(ie,this,R)}return v}function Dv(s){return function(o,l,d){var v=wt(o);if(!Fr(o)){var x=_e(l,3);o=cr(o),l=function(M){return x(v[M],M,v)}}var R=s(o,l,d);return R>-1?v[x?o[R]:R]:t}}function Ov(s){return Gn(function(o){var l=o.length,d=l,v=sn.prototype.thru;for(s&&o.reverse();d--;){var x=o[d];if(typeof x!="function")throw new nn(c);if(v&&!R&&ml(x)=="wrapper")var R=new sn([],!0)}for(d=R?d:l;++d<l;){x=o[d];var M=ml(x),k=M=="wrapper"?cd(x):t;k&&fd(k[0])&&k[1]==(h|P|A|b)&&!k[4].length&&k[9]==1?R=R[ml(k[0])].apply(R,k[3]):R=x.length==1&&fd(x)?R[M]():R.thru(x)}return function(){var re=arguments,ie=re[0];if(R&&re.length==1&&Le(ie))return R.plant(ie).value();for(var ae=0,he=l?o[ae].apply(this,re):ie;++ae<l;)he=o[ae].call(this,he);return he}})}function fl(s,o,l,d,v,x,R,M,k,re){var ie=o&h,ae=o&U,he=o&H,ve=o&(P|O),Se=o&K,We=he?t:ga(s);function De(){for(var Qe=arguments.length,st=G(Qe),Yr=Qe;Yr--;)st[Yr]=arguments[Yr];if(ve)var $r=eo(De),Zr=n7(st,$r);if(d&&(st=bv(st,d,v,ve)),x&&(st=_v(st,x,R,ve)),Qe-=Zr,ve&&Qe<re){var Vt=bi(st,$r);return $v(s,o,fl,De.placeholder,l,st,Vt,M,k,re-Qe)}var yn=ae?l:this,Qn=he?yn[s]:s;return Qe=st.length,M?st=h$(st,M):Se&&Qe>1&&st.reverse(),ie&&k<Qe&&(st.length=k),this&&this!==it&&this instanceof De&&(Qn=We||ga(Qn)),Qn.apply(yn,st)}return De}function Cv(s,o){return function(l,d){return wI(l,s,o(d),{})}}function dl(s,o){return function(l,d){var v;if(l===t&&d===t)return o;if(l!==t&&(v=l),d!==t){if(v===t)return d;typeof l=="string"||typeof d=="string"?(l=Kr(l),d=Kr(d)):(l=fv(l),d=fv(d)),v=s(l,d)}return v}}function id(s){return Gn(function(o){return o=It(o,Vr(_e())),Ge(function(l){var d=this;return s(o,function(v){return ar(v,d,l)})})})}function pl(s,o){o=o===t?" ":Kr(o);var l=o.length;if(l<2)return l?Jf(o,s):o;var d=Jf(o,el(s/Vs(o)));return Ws(o)?Di(gn(d),0,s).join(""):d.slice(0,s)}function VI(s,o,l,d){var v=o&U,x=ga(s);function R(){for(var M=-1,k=arguments.length,re=-1,ie=d.length,ae=G(ie+k),he=this&&this!==it&&this instanceof R?x:s;++re<ie;)ae[re]=d[re];for(;k--;)ae[re++]=arguments[++M];return ar(he,v?l:this,ae)}return R}function Iv(s){return function(o,l,d){return d&&typeof d!="number"&&Ir(o,l,d)&&(l=d=t),o=Jn(o),l===t?(l=o,o=0):l=Jn(l),d=d===t?o<l?1:-1:Jn(d),PI(o,l,d,s)}}function gl(s){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=ln(o),l=ln(l)),s(o,l)}}function $v(s,o,l,d,v,x,R,M,k,re){var ie=o&P,ae=ie?R:t,he=ie?t:R,ve=ie?x:t,Se=ie?t:x;o|=ie?A:E,o&=~(ie?E:A),o&$||(o&=~(U|H));var We=[s,o,v,ve,ae,Se,he,M,k,re],De=l.apply(t,We);return fd(s)&&kv(De,We),De.placeholder=d,Hv(De,s,o)}function sd(s){var o=rr[s];return function(l,d){if(l=ln(l),d=d==null?0:mr(He(d),292),d&&Hm(l)){var v=(ft(l)+"e").split("e"),x=o(v[0]+"e"+(+v[1]+d));return v=(ft(x)+"e").split("e"),+(v[0]+"e"+(+v[1]-d))}return o(l)}}var KI=Ys&&1/qc(new Ys([,-0]))[1]==Q?function(s){return new Ys(s)}:Cd;function Av(s){return function(o){var l=vr(o);return l==Ce?Lf(o):l==Ie?u7(o):r7(o,s(o))}}function Kn(s,o,l,d,v,x,R,M){var k=o&H;if(!k&&typeof s!="function")throw new nn(c);var re=d?d.length:0;if(re||(o&=~(A|E),d=v=t),R=R===t?R:nr(He(R),0),M=M===t?M:He(M),re-=v?v.length:0,o&E){var ie=d,ae=v;d=v=t}var he=k?t:cd(s),ve=[s,o,l,d,v,ie,ae,x,R,M];if(he&&c$(ve,he),s=ve[0],o=ve[1],l=ve[2],d=ve[3],v=ve[4],M=ve[9]=ve[9]===t?k?0:s.length:nr(ve[9]-re,0),!M&&o&(P|O)&&(o&=~(P|O)),!o||o==U)var Se=qI(s,o,l);else o==P||o==O?Se=WI(s,o,M):(o==A||o==(U|A))&&!v.length?Se=VI(s,o,l,d):Se=fl.apply(t,ve);var We=he?uv:kv;return Hv(We(Se,ve),s,o)}function Pv(s,o,l,d){return s===t||vn(s,Gs[l])&&!dt.call(d,l)?o:s}function Tv(s,o,l,d,v,x){return Pt(s)&&Pt(o)&&(x.set(o,s),cl(s,o,t,Tv,x),x.delete(o)),s}function GI(s){return ya(s)?t:s}function Rv(s,o,l,d,v,x){var R=l&C,M=s.length,k=o.length;if(M!=k&&!(R&&k>M))return!1;var re=x.get(s),ie=x.get(o);if(re&&ie)return re==o&&ie==s;var ae=-1,he=!0,ve=l&N?new is:t;for(x.set(s,o),x.set(o,s);++ae<M;){var Se=s[ae],We=o[ae];if(d)var De=R?d(We,Se,ae,o,s,x):d(Se,We,ae,s,o,x);if(De!==t){if(De)continue;he=!1;break}if(ve){if(!$f(o,function(Qe,st){if(!ia(ve,st)&&(Se===Qe||v(Se,Qe,l,d,x)))return ve.push(st)})){he=!1;break}}else if(!(Se===We||v(Se,We,l,d,x))){he=!1;break}}return x.delete(s),x.delete(o),he}function YI(s,o,l,d,v,x,R){switch(l){case Te:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case Oe:return!(s.byteLength!=o.byteLength||!x(new Zc(s),new Zc(o)));case z:case j:case Ve:return vn(+s,+o);case L:return s.name==o.name&&s.message==o.message;case ze:case Ue:return s==o+"";case Ce:var M=Lf;case Ie:var k=d&C;if(M||(M=qc),s.size!=o.size&&!k)return!1;var re=R.get(s);if(re)return re==o;d|=N,R.set(s,o);var ie=Rv(M(s),M(o),d,v,x,R);return R.delete(s),ie;case je:if(la)return la.call(s)==la.call(o)}return!1}function ZI(s,o,l,d,v,x){var R=l&C,M=od(s),k=M.length,re=od(o),ie=re.length;if(k!=ie&&!R)return!1;for(var ae=k;ae--;){var he=M[ae];if(!(R?he in o:dt.call(o,he)))return!1}var ve=x.get(s),Se=x.get(o);if(ve&&Se)return ve==o&&Se==s;var We=!0;x.set(s,o),x.set(o,s);for(var De=R;++ae<k;){he=M[ae];var Qe=s[he],st=o[he];if(d)var Yr=R?d(st,Qe,he,o,s,x):d(Qe,st,he,s,o,x);if(!(Yr===t?Qe===st||v(Qe,st,l,d,x):Yr)){We=!1;break}De||(De=he=="constructor")}if(We&&!De){var $r=s.constructor,Zr=o.constructor;$r!=Zr&&"constructor"in s&&"constructor"in o&&!(typeof $r=="function"&&$r instanceof $r&&typeof Zr=="function"&&Zr instanceof Zr)&&(We=!1)}return x.delete(s),x.delete(o),We}function Gn(s){return pd(Fv(s,t,Gv),s+"")}function od(s){return Xm(s,cr,ud)}function ad(s){return Xm(s,Br,Nv)}var cd=rl?function(s){return rl.get(s)}:Cd;function ml(s){for(var o=s.name+"",l=Zs[o],d=dt.call(Zs,o)?l.length:0;d--;){var v=l[d],x=v.func;if(x==null||x==s)return v.name}return o}function eo(s){var o=dt.call(_,"placeholder")?_:s;return o.placeholder}function _e(){var s=_.iteratee||Dd;return s=s===Dd?rv:s,arguments.length?s(arguments[0],arguments[1]):s}function vl(s,o){var l=s.__data__;return i$(o)?l[typeof o=="string"?"string":"hash"]:l.map}function ld(s){for(var o=cr(s),l=o.length;l--;){var d=o[l],v=s[d];o[l]=[d,v,Uv(v)]}return o}function as(s,o){var l=a7(s,o);return tv(l)?l:t}function JI(s){var o=dt.call(s,rs),l=s[rs];try{s[rs]=t;var d=!0}catch{}var v=Gc.call(s);return d&&(o?s[rs]=l:delete s[rs]),v}var ud=Uf?function(s){return s==null?[]:(s=wt(s),yi(Uf(s),function(o){return Bm.call(s,o)}))}:Id,Nv=Uf?function(s){for(var o=[];s;)wi(o,ud(s)),s=Jc(s);return o}:Id,vr=Cr;(jf&&vr(new jf(new ArrayBuffer(1)))!=Te||oa&&vr(new oa)!=Ce||Ff&&vr(Ff.resolve())!=St||Ys&&vr(new Ys)!=Ie||aa&&vr(new aa)!=Ae)&&(vr=function(s){var o=Cr(s),l=o==ke?s.constructor:t,d=l?cs(l):"";if(d)switch(d){case R7:return Te;case N7:return Ce;case L7:return St;case M7:return Ie;case U7:return Ae}return o});function QI(s,o,l){for(var d=-1,v=l.length;++d<v;){var x=l[d],R=x.size;switch(x.type){case"drop":s+=R;break;case"dropRight":o-=R;break;case"take":o=mr(o,s+R);break;case"takeRight":s=nr(s,o-R);break}}return{start:s,end:o}}function XI(s){var o=s.match(_t);return o?o[1].split(Jt):[]}function Lv(s,o,l){o=Si(o,s);for(var d=-1,v=o.length,x=!1;++d<v;){var R=Tn(o[d]);if(!(x=s!=null&&l(s,R)))break;s=s[R]}return x||++d!=v?x:(v=s==null?0:s.length,!!v&&Sl(v)&&Yn(R,v)&&(Le(s)||ls(s)))}function e$(s){var o=s.length,l=new s.constructor(o);return o&&typeof s[0]=="string"&&dt.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function Mv(s){return typeof s.constructor=="function"&&!ma(s)?Js(Jc(s)):{}}function t$(s,o,l){var d=s.constructor;switch(o){case Oe:return nd(s);case z:case j:return new d(+s);case Te:return jI(s,l);case Ke:case $e:case Je:case Xe:case at:case ct:case nt:case Sr:case Mr:return yv(s,l);case Ce:return new d;case Ve:case Ue:return new d(s);case ze:return FI(s);case Ie:return new d;case je:return BI(s)}}function r$(s,o){var l=o.length;if(!l)return s;var d=l-1;return o[d]=(l>1?"& ":"")+o[d],o=o.join(l>2?", ":" "),s.replace(jt,`{
/* [wrapped with `+o+`] */
`)}function n$(s){return Le(s)||ls(s)||!!(km&&s&&s[km])}function Yn(s,o){var l=typeof s;return o=o??Y,!!o&&(l=="number"||l!="symbol"&&df.test(s))&&s>-1&&s%1==0&&s<o}function Ir(s,o,l){if(!Pt(l))return!1;var d=typeof o;return(d=="number"?Fr(l)&&Yn(o,l.length):d=="string"&&o in l)?vn(l[o],s):!1}function hd(s,o){if(Le(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||Gr(s)?!0:Gt.test(s)||!Ct.test(s)||o!=null&&s in wt(o)}function i$(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}function fd(s){var o=ml(s),l=_[o];if(typeof l!="function"||!(o in et.prototype))return!1;if(s===l)return!0;var d=cd(l);return!!d&&s===d[0]}function s$(s){return!!Um&&Um in s}var o$=Vc?Zn:$d;function ma(s){var o=s&&s.constructor,l=typeof o=="function"&&o.prototype||Gs;return s===l}function Uv(s){return s===s&&!Pt(s)}function jv(s,o){return function(l){return l==null?!1:l[s]===o&&(o!==t||s in wt(l))}}function a$(s){var o=El(s,function(d){return l.size===p&&l.clear(),d}),l=o.cache;return o}function c$(s,o){var l=s[1],d=o[1],v=l|d,x=v<(U|H|h),R=d==h&&l==P||d==h&&l==b&&s[7].length<=o[8]||d==(h|b)&&o[7].length<=o[8]&&l==P;if(!(x||R))return s;d&U&&(s[2]=o[2],v|=l&U?0:$);var M=o[3];if(M){var k=s[3];s[3]=k?bv(k,M,o[4]):M,s[4]=k?bi(s[3],m):o[4]}return M=o[5],M&&(k=s[5],s[5]=k?_v(k,M,o[6]):M,s[6]=k?bi(s[5],m):o[6]),M=o[7],M&&(s[7]=M),d&h&&(s[8]=s[8]==null?o[8]:mr(s[8],o[8])),s[9]==null&&(s[9]=o[9]),s[0]=o[0],s[1]=v,s}function l$(s){var o=[];if(s!=null)for(var l in wt(s))o.push(l);return o}function u$(s){return Gc.call(s)}function Fv(s,o,l){return o=nr(o===t?s.length-1:o,0),function(){for(var d=arguments,v=-1,x=nr(d.length-o,0),R=G(x);++v<x;)R[v]=d[o+v];v=-1;for(var M=G(o+1);++v<o;)M[v]=d[v];return M[o]=l(R),ar(s,this,M)}}function Bv(s,o){return o.length<2?s:os(s,an(o,0,-1))}function h$(s,o){for(var l=s.length,d=mr(o.length,l),v=jr(s);d--;){var x=o[d];s[d]=Yn(x,l)?v[x]:t}return s}function dd(s,o){if(!(o==="constructor"&&typeof s[o]=="function")&&o!="__proto__")return s[o]}var kv=zv(uv),va=O7||function(s,o){return it.setTimeout(s,o)},pd=zv(NI);function Hv(s,o,l){var d=o+"";return pd(s,r$(d,f$(XI(d),l)))}function zv(s){var o=0,l=0;return function(){var d=A7(),v=ne-(d-l);if(l=d,v>0){if(++o>=J)return arguments[0]}else o=0;return s.apply(t,arguments)}}function yl(s,o){var l=-1,d=s.length,v=d-1;for(o=o===t?d:o;++l<o;){var x=Zf(l,v),R=s[x];s[x]=s[l],s[l]=R}return s.length=o,s}var qv=a$(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(Yt,function(l,d,v,x){o.push(v?x.replace(af,"$1"):d||l)}),o});function Tn(s){if(typeof s=="string"||Gr(s))return s;var o=s+"";return o=="0"&&1/s==-Q?"-0":o}function cs(s){if(s!=null){try{return Kc.call(s)}catch{}try{return s+""}catch{}}return""}function f$(s,o){return rn(xe,function(l){var d="_."+l[0];o&l[1]&&!Hc(s,d)&&s.push(d)}),s.sort()}function Wv(s){if(s instanceof et)return s.clone();var o=new sn(s.__wrapped__,s.__chain__);return o.__actions__=jr(s.__actions__),o.__index__=s.__index__,o.__values__=s.__values__,o}function d$(s,o,l){(l?Ir(s,o,l):o===t)?o=1:o=nr(He(o),0);var d=s==null?0:s.length;if(!d||o<1)return[];for(var v=0,x=0,R=G(el(d/o));v<d;)R[x++]=an(s,v,v+=o);return R}function p$(s){for(var o=-1,l=s==null?0:s.length,d=0,v=[];++o<l;){var x=s[o];x&&(v[d++]=x)}return v}function g$(){var s=arguments.length;if(!s)return[];for(var o=G(s-1),l=arguments[0],d=s;d--;)o[d-1]=arguments[d];return wi(Le(l)?jr(l):[l],fr(o,1))}var m$=Ge(function(s,o){return Wt(s)?ha(s,fr(o,1,Wt,!0)):[]}),v$=Ge(function(s,o){var l=cn(o);return Wt(l)&&(l=t),Wt(s)?ha(s,fr(o,1,Wt,!0),_e(l,2)):[]}),y$=Ge(function(s,o){var l=cn(o);return Wt(l)&&(l=t),Wt(s)?ha(s,fr(o,1,Wt,!0),t,l):[]});function w$(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:He(o),an(s,o<0?0:o,d)):[]}function b$(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:He(o),o=d-o,an(s,0,o<0?0:o)):[]}function _$(s,o){return s&&s.length?ul(s,_e(o,3),!0,!0):[]}function E$(s,o){return s&&s.length?ul(s,_e(o,3),!0):[]}function x$(s,o,l,d){var v=s==null?0:s.length;return v?(l&&typeof l!="number"&&Ir(s,o,l)&&(l=0,d=v),gI(s,o,l,d)):[]}function Vv(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var v=l==null?0:He(l);return v<0&&(v=nr(d+v,0)),zc(s,_e(o,3),v)}function Kv(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var v=d-1;return l!==t&&(v=He(l),v=l<0?nr(d+v,0):mr(v,d-1)),zc(s,_e(o,3),v,!0)}function Gv(s){var o=s==null?0:s.length;return o?fr(s,1):[]}function S$(s){var o=s==null?0:s.length;return o?fr(s,Q):[]}function D$(s,o){var l=s==null?0:s.length;return l?(o=o===t?1:He(o),fr(s,o)):[]}function O$(s){for(var o=-1,l=s==null?0:s.length,d={};++o<l;){var v=s[o];d[v[0]]=v[1]}return d}function Yv(s){return s&&s.length?s[0]:t}function C$(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var v=l==null?0:He(l);return v<0&&(v=nr(d+v,0)),qs(s,o,v)}function I$(s){var o=s==null?0:s.length;return o?an(s,0,-1):[]}var $$=Ge(function(s){var o=It(s,td);return o.length&&o[0]===s[0]?Wf(o):[]}),A$=Ge(function(s){var o=cn(s),l=It(s,td);return o===cn(l)?o=t:l.pop(),l.length&&l[0]===s[0]?Wf(l,_e(o,2)):[]}),P$=Ge(function(s){var o=cn(s),l=It(s,td);return o=typeof o=="function"?o:t,o&&l.pop(),l.length&&l[0]===s[0]?Wf(l,t,o):[]});function T$(s,o){return s==null?"":I7.call(s,o)}function cn(s){var o=s==null?0:s.length;return o?s[o-1]:t}function R$(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var v=d;return l!==t&&(v=He(l),v=v<0?nr(d+v,0):mr(v,d-1)),o===o?f7(s,o,v):zc(s,$m,v,!0)}function N$(s,o){return s&&s.length?ov(s,He(o)):t}var L$=Ge(Zv);function Zv(s,o){return s&&s.length&&o&&o.length?Yf(s,o):s}function M$(s,o,l){return s&&s.length&&o&&o.length?Yf(s,o,_e(l,2)):s}function U$(s,o,l){return s&&s.length&&o&&o.length?Yf(s,o,t,l):s}var j$=Gn(function(s,o){var l=s==null?0:s.length,d=kf(s,o);return lv(s,It(o,function(v){return Yn(v,l)?+v:v}).sort(wv)),d});function F$(s,o){var l=[];if(!(s&&s.length))return l;var d=-1,v=[],x=s.length;for(o=_e(o,3);++d<x;){var R=s[d];o(R,d,s)&&(l.push(R),v.push(d))}return lv(s,v),l}function gd(s){return s==null?s:T7.call(s)}function B$(s,o,l){var d=s==null?0:s.length;return d?(l&&typeof l!="number"&&Ir(s,o,l)?(o=0,l=d):(o=o==null?0:He(o),l=l===t?d:He(l)),an(s,o,l)):[]}function k$(s,o){return ll(s,o)}function H$(s,o,l){return Qf(s,o,_e(l,2))}function z$(s,o){var l=s==null?0:s.length;if(l){var d=ll(s,o);if(d<l&&vn(s[d],o))return d}return-1}function q$(s,o){return ll(s,o,!0)}function W$(s,o,l){return Qf(s,o,_e(l,2),!0)}function V$(s,o){var l=s==null?0:s.length;if(l){var d=ll(s,o,!0)-1;if(vn(s[d],o))return d}return-1}function K$(s){return s&&s.length?hv(s):[]}function G$(s,o){return s&&s.length?hv(s,_e(o,2)):[]}function Y$(s){var o=s==null?0:s.length;return o?an(s,1,o):[]}function Z$(s,o,l){return s&&s.length?(o=l||o===t?1:He(o),an(s,0,o<0?0:o)):[]}function J$(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:He(o),o=d-o,an(s,o<0?0:o,d)):[]}function Q$(s,o){return s&&s.length?ul(s,_e(o,3),!1,!0):[]}function X$(s,o){return s&&s.length?ul(s,_e(o,3)):[]}var eA=Ge(function(s){return xi(fr(s,1,Wt,!0))}),tA=Ge(function(s){var o=cn(s);return Wt(o)&&(o=t),xi(fr(s,1,Wt,!0),_e(o,2))}),rA=Ge(function(s){var o=cn(s);return o=typeof o=="function"?o:t,xi(fr(s,1,Wt,!0),t,o)});function nA(s){return s&&s.length?xi(s):[]}function iA(s,o){return s&&s.length?xi(s,_e(o,2)):[]}function sA(s,o){return o=typeof o=="function"?o:t,s&&s.length?xi(s,t,o):[]}function md(s){if(!(s&&s.length))return[];var o=0;return s=yi(s,function(l){if(Wt(l))return o=nr(l.length,o),!0}),Rf(o,function(l){return It(s,Af(l))})}function Jv(s,o){if(!(s&&s.length))return[];var l=md(s);return o==null?l:It(l,function(d){return ar(o,t,d)})}var oA=Ge(function(s,o){return Wt(s)?ha(s,o):[]}),aA=Ge(function(s){return ed(yi(s,Wt))}),cA=Ge(function(s){var o=cn(s);return Wt(o)&&(o=t),ed(yi(s,Wt),_e(o,2))}),lA=Ge(function(s){var o=cn(s);return o=typeof o=="function"?o:t,ed(yi(s,Wt),t,o)}),uA=Ge(md);function hA(s,o){return gv(s||[],o||[],ua)}function fA(s,o){return gv(s||[],o||[],pa)}var dA=Ge(function(s){var o=s.length,l=o>1?s[o-1]:t;return l=typeof l=="function"?(s.pop(),l):t,Jv(s,l)});function Qv(s){var o=_(s);return o.__chain__=!0,o}function pA(s,o){return o(s),s}function wl(s,o){return o(s)}var gA=Gn(function(s){var o=s.length,l=o?s[0]:0,d=this.__wrapped__,v=function(x){return kf(x,s)};return o>1||this.__actions__.length||!(d instanceof et)||!Yn(l)?this.thru(v):(d=d.slice(l,+l+(o?1:0)),d.__actions__.push({func:wl,args:[v],thisArg:t}),new sn(d,this.__chain__).thru(function(x){return o&&!x.length&&x.push(t),x}))});function mA(){return Qv(this)}function vA(){return new sn(this.value(),this.__chain__)}function yA(){this.__values__===t&&(this.__values__=fy(this.value()));var s=this.__index__>=this.__values__.length,o=s?t:this.__values__[this.__index__++];return{done:s,value:o}}function wA(){return this}function bA(s){for(var o,l=this;l instanceof il;){var d=Wv(l);d.__index__=0,d.__values__=t,o?v.__wrapped__=d:o=d;var v=d;l=l.__wrapped__}return v.__wrapped__=s,o}function _A(){var s=this.__wrapped__;if(s instanceof et){var o=s;return this.__actions__.length&&(o=new et(this)),o=o.reverse(),o.__actions__.push({func:wl,args:[gd],thisArg:t}),new sn(o,this.__chain__)}return this.thru(gd)}function EA(){return pv(this.__wrapped__,this.__actions__)}var xA=hl(function(s,o,l){dt.call(s,l)?++s[l]:Vn(s,l,1)});function SA(s,o,l){var d=Le(s)?Cm:pI;return l&&Ir(s,o,l)&&(o=t),d(s,_e(o,3))}function DA(s,o){var l=Le(s)?yi:Jm;return l(s,_e(o,3))}var OA=Dv(Vv),CA=Dv(Kv);function IA(s,o){return fr(bl(s,o),1)}function $A(s,o){return fr(bl(s,o),Q)}function AA(s,o,l){return l=l===t?1:He(l),fr(bl(s,o),l)}function Xv(s,o){var l=Le(s)?rn:Ei;return l(s,_e(o,3))}function ey(s,o){var l=Le(s)?YC:Zm;return l(s,_e(o,3))}var PA=hl(function(s,o,l){dt.call(s,l)?s[l].push(o):Vn(s,l,[o])});function TA(s,o,l,d){s=Fr(s)?s:ro(s),l=l&&!d?He(l):0;var v=s.length;return l<0&&(l=nr(v+l,0)),Dl(s)?l<=v&&s.indexOf(o,l)>-1:!!v&&qs(s,o,l)>-1}var RA=Ge(function(s,o,l){var d=-1,v=typeof o=="function",x=Fr(s)?G(s.length):[];return Ei(s,function(R){x[++d]=v?ar(o,R,l):fa(R,o,l)}),x}),NA=hl(function(s,o,l){Vn(s,l,o)});function bl(s,o){var l=Le(s)?It:nv;return l(s,_e(o,3))}function LA(s,o,l,d){return s==null?[]:(Le(o)||(o=o==null?[]:[o]),l=d?t:l,Le(l)||(l=l==null?[]:[l]),av(s,o,l))}var MA=hl(function(s,o,l){s[l?0:1].push(o)},function(){return[[],[]]});function UA(s,o,l){var d=Le(s)?If:Pm,v=arguments.length<3;return d(s,_e(o,4),l,v,Ei)}function jA(s,o,l){var d=Le(s)?ZC:Pm,v=arguments.length<3;return d(s,_e(o,4),l,v,Zm)}function FA(s,o){var l=Le(s)?yi:Jm;return l(s,xl(_e(o,3)))}function BA(s){var o=Le(s)?Vm:TI;return o(s)}function kA(s,o,l){(l?Ir(s,o,l):o===t)?o=1:o=He(o);var d=Le(s)?lI:RI;return d(s,o)}function HA(s){var o=Le(s)?uI:LI;return o(s)}function zA(s){if(s==null)return 0;if(Fr(s))return Dl(s)?Vs(s):s.length;var o=vr(s);return o==Ce||o==Ie?s.size:Kf(s).length}function qA(s,o,l){var d=Le(s)?$f:MI;return l&&Ir(s,o,l)&&(o=t),d(s,_e(o,3))}var WA=Ge(function(s,o){if(s==null)return[];var l=o.length;return l>1&&Ir(s,o[0],o[1])?o=[]:l>2&&Ir(o[0],o[1],o[2])&&(o=[o[0]]),av(s,fr(o,1),[])}),_l=D7||function(){return it.Date.now()};function VA(s,o){if(typeof o!="function")throw new nn(c);return s=He(s),function(){if(--s<1)return o.apply(this,arguments)}}function ty(s,o,l){return o=l?t:o,o=s&&o==null?s.length:o,Kn(s,h,t,t,t,t,o)}function ry(s,o){var l;if(typeof o!="function")throw new nn(c);return s=He(s),function(){return--s>0&&(l=o.apply(this,arguments)),s<=1&&(o=t),l}}var vd=Ge(function(s,o,l){var d=U;if(l.length){var v=bi(l,eo(vd));d|=A}return Kn(s,d,o,l,v)}),ny=Ge(function(s,o,l){var d=U|H;if(l.length){var v=bi(l,eo(ny));d|=A}return Kn(o,d,s,l,v)});function iy(s,o,l){o=l?t:o;var d=Kn(s,P,t,t,t,t,t,o);return d.placeholder=iy.placeholder,d}function sy(s,o,l){o=l?t:o;var d=Kn(s,O,t,t,t,t,t,o);return d.placeholder=sy.placeholder,d}function oy(s,o,l){var d,v,x,R,M,k,re=0,ie=!1,ae=!1,he=!0;if(typeof s!="function")throw new nn(c);o=ln(o)||0,Pt(l)&&(ie=!!l.leading,ae="maxWait"in l,x=ae?nr(ln(l.maxWait)||0,o):x,he="trailing"in l?!!l.trailing:he);function ve(Vt){var yn=d,Qn=v;return d=v=t,re=Vt,R=s.apply(Qn,yn),R}function Se(Vt){return re=Vt,M=va(Qe,o),ie?ve(Vt):R}function We(Vt){var yn=Vt-k,Qn=Vt-re,Dy=o-yn;return ae?mr(Dy,x-Qn):Dy}function De(Vt){var yn=Vt-k,Qn=Vt-re;return k===t||yn>=o||yn<0||ae&&Qn>=x}function Qe(){var Vt=_l();if(De(Vt))return st(Vt);M=va(Qe,We(Vt))}function st(Vt){return M=t,he&&d?ve(Vt):(d=v=t,R)}function Yr(){M!==t&&mv(M),re=0,d=k=v=M=t}function $r(){return M===t?R:st(_l())}function Zr(){var Vt=_l(),yn=De(Vt);if(d=arguments,v=this,k=Vt,yn){if(M===t)return Se(k);if(ae)return mv(M),M=va(Qe,o),ve(k)}return M===t&&(M=va(Qe,o)),R}return Zr.cancel=Yr,Zr.flush=$r,Zr}var KA=Ge(function(s,o){return Ym(s,1,o)}),GA=Ge(function(s,o,l){return Ym(s,ln(o)||0,l)});function YA(s){return Kn(s,K)}function El(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new nn(c);var l=function(){var d=arguments,v=o?o.apply(this,d):d[0],x=l.cache;if(x.has(v))return x.get(v);var R=s.apply(this,d);return l.cache=x.set(v,R)||x,R};return l.cache=new(El.Cache||Wn),l}El.Cache=Wn;function xl(s){if(typeof s!="function")throw new nn(c);return function(){var o=arguments;switch(o.length){case 0:return!s.call(this);case 1:return!s.call(this,o[0]);case 2:return!s.call(this,o[0],o[1]);case 3:return!s.call(this,o[0],o[1],o[2])}return!s.apply(this,o)}}function ZA(s){return ry(2,s)}var JA=UI(function(s,o){o=o.length==1&&Le(o[0])?It(o[0],Vr(_e())):It(fr(o,1),Vr(_e()));var l=o.length;return Ge(function(d){for(var v=-1,x=mr(d.length,l);++v<x;)d[v]=o[v].call(this,d[v]);return ar(s,this,d)})}),yd=Ge(function(s,o){var l=bi(o,eo(yd));return Kn(s,A,t,o,l)}),ay=Ge(function(s,o){var l=bi(o,eo(ay));return Kn(s,E,t,o,l)}),QA=Gn(function(s,o){return Kn(s,b,t,t,t,o)});function XA(s,o){if(typeof s!="function")throw new nn(c);return o=o===t?o:He(o),Ge(s,o)}function eP(s,o){if(typeof s!="function")throw new nn(c);return o=o==null?0:nr(He(o),0),Ge(function(l){var d=l[o],v=Di(l,0,o);return d&&wi(v,d),ar(s,this,v)})}function tP(s,o,l){var d=!0,v=!0;if(typeof s!="function")throw new nn(c);return Pt(l)&&(d="leading"in l?!!l.leading:d,v="trailing"in l?!!l.trailing:v),oy(s,o,{leading:d,maxWait:o,trailing:v})}function rP(s){return ty(s,1)}function nP(s,o){return yd(rd(o),s)}function iP(){if(!arguments.length)return[];var s=arguments[0];return Le(s)?s:[s]}function sP(s){return on(s,S)}function oP(s,o){return o=typeof o=="function"?o:t,on(s,S,o)}function aP(s){return on(s,D|S)}function cP(s,o){return o=typeof o=="function"?o:t,on(s,D|S,o)}function lP(s,o){return o==null||Gm(s,o,cr(o))}function vn(s,o){return s===o||s!==s&&o!==o}var uP=gl(qf),hP=gl(function(s,o){return s>=o}),ls=ev(function(){return arguments}())?ev:function(s){return Ft(s)&&dt.call(s,"callee")&&!Bm.call(s,"callee")},Le=G.isArray,fP=Or?Vr(Or):bI;function Fr(s){return s!=null&&Sl(s.length)&&!Zn(s)}function Wt(s){return Ft(s)&&Fr(s)}function dP(s){return s===!0||s===!1||Ft(s)&&Cr(s)==z}var Oi=C7||$d,pP=pn?Vr(pn):_I;function gP(s){return Ft(s)&&s.nodeType===1&&!ya(s)}function mP(s){if(s==null)return!0;if(Fr(s)&&(Le(s)||typeof s=="string"||typeof s.splice=="function"||Oi(s)||to(s)||ls(s)))return!s.length;var o=vr(s);if(o==Ce||o==Ie)return!s.size;if(ma(s))return!Kf(s).length;for(var l in s)if(dt.call(s,l))return!1;return!0}function vP(s,o){return da(s,o)}function yP(s,o,l){l=typeof l=="function"?l:t;var d=l?l(s,o):t;return d===t?da(s,o,t,l):!!d}function wd(s){if(!Ft(s))return!1;var o=Cr(s);return o==L||o==g||typeof s.message=="string"&&typeof s.name=="string"&&!ya(s)}function wP(s){return typeof s=="number"&&Hm(s)}function Zn(s){if(!Pt(s))return!1;var o=Cr(s);return o==le||o==pe||o==q||o==Dt}function cy(s){return typeof s=="number"&&s==He(s)}function Sl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Y}function Pt(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}function Ft(s){return s!=null&&typeof s=="object"}var ly=tn?Vr(tn):xI;function bP(s,o){return s===o||Vf(s,o,ld(o))}function _P(s,o,l){return l=typeof l=="function"?l:t,Vf(s,o,ld(o),l)}function EP(s){return uy(s)&&s!=+s}function xP(s){if(o$(s))throw new Re(a);return tv(s)}function SP(s){return s===null}function DP(s){return s==null}function uy(s){return typeof s=="number"||Ft(s)&&Cr(s)==Ve}function ya(s){if(!Ft(s)||Cr(s)!=ke)return!1;var o=Jc(s);if(o===null)return!0;var l=dt.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&Kc.call(l)==_7}var bd=$n?Vr($n):SI;function OP(s){return cy(s)&&s>=-Y&&s<=Y}var hy=na?Vr(na):DI;function Dl(s){return typeof s=="string"||!Le(s)&&Ft(s)&&Cr(s)==Ue}function Gr(s){return typeof s=="symbol"||Ft(s)&&Cr(s)==je}var to=ts?Vr(ts):OI;function CP(s){return s===t}function IP(s){return Ft(s)&&vr(s)==Ae}function $P(s){return Ft(s)&&Cr(s)==Fe}var AP=gl(Gf),PP=gl(function(s,o){return s<=o});function fy(s){if(!s)return[];if(Fr(s))return Dl(s)?gn(s):jr(s);if(sa&&s[sa])return l7(s[sa]());var o=vr(s),l=o==Ce?Lf:o==Ie?qc:ro;return l(s)}function Jn(s){if(!s)return s===0?s:0;if(s=ln(s),s===Q||s===-Q){var o=s<0?-1:1;return o*Z}return s===s?s:0}function He(s){var o=Jn(s),l=o%1;return o===o?l?o-l:o:0}function dy(s){return s?ss(He(s),0,oe):0}function ln(s){if(typeof s=="number")return s;if(Gr(s))return ee;if(Pt(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=Pt(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=Tm(s);var l=uf.test(s);return l||ff.test(s)?Ne(s.slice(2),l?2:8):lf.test(s)?ee:+s}function py(s){return Pn(s,Br(s))}function TP(s){return s?ss(He(s),-Y,Y):s===0?s:0}function ft(s){return s==null?"":Kr(s)}var RP=Qs(function(s,o){if(ma(o)||Fr(o)){Pn(o,cr(o),s);return}for(var l in o)dt.call(o,l)&&ua(s,l,o[l])}),gy=Qs(function(s,o){Pn(o,Br(o),s)}),Ol=Qs(function(s,o,l,d){Pn(o,Br(o),s,d)}),NP=Qs(function(s,o,l,d){Pn(o,cr(o),s,d)}),LP=Gn(kf);function MP(s,o){var l=Js(s);return o==null?l:Km(l,o)}var UP=Ge(function(s,o){s=wt(s);var l=-1,d=o.length,v=d>2?o[2]:t;for(v&&Ir(o[0],o[1],v)&&(d=1);++l<d;)for(var x=o[l],R=Br(x),M=-1,k=R.length;++M<k;){var re=R[M],ie=s[re];(ie===t||vn(ie,Gs[re])&&!dt.call(s,re))&&(s[re]=x[re])}return s}),jP=Ge(function(s){return s.push(t,Tv),ar(my,t,s)});function FP(s,o){return Im(s,_e(o,3),An)}function BP(s,o){return Im(s,_e(o,3),zf)}function kP(s,o){return s==null?s:Hf(s,_e(o,3),Br)}function HP(s,o){return s==null?s:Qm(s,_e(o,3),Br)}function zP(s,o){return s&&An(s,_e(o,3))}function qP(s,o){return s&&zf(s,_e(o,3))}function WP(s){return s==null?[]:al(s,cr(s))}function VP(s){return s==null?[]:al(s,Br(s))}function _d(s,o,l){var d=s==null?t:os(s,o);return d===t?l:d}function KP(s,o){return s!=null&&Lv(s,o,mI)}function Ed(s,o){return s!=null&&Lv(s,o,vI)}var GP=Cv(function(s,o,l){o!=null&&typeof o.toString!="function"&&(o=Gc.call(o)),s[o]=l},Sd(kr)),YP=Cv(function(s,o,l){o!=null&&typeof o.toString!="function"&&(o=Gc.call(o)),dt.call(s,o)?s[o].push(l):s[o]=[l]},_e),ZP=Ge(fa);function cr(s){return Fr(s)?Wm(s):Kf(s)}function Br(s){return Fr(s)?Wm(s,!0):CI(s)}function JP(s,o){var l={};return o=_e(o,3),An(s,function(d,v,x){Vn(l,o(d,v,x),d)}),l}function QP(s,o){var l={};return o=_e(o,3),An(s,function(d,v,x){Vn(l,v,o(d,v,x))}),l}var XP=Qs(function(s,o,l){cl(s,o,l)}),my=Qs(function(s,o,l,d){cl(s,o,l,d)}),e9=Gn(function(s,o){var l={};if(s==null)return l;var d=!1;o=It(o,function(x){return x=Si(x,s),d||(d=x.length>1),x}),Pn(s,ad(s),l),d&&(l=on(l,D|y|S,GI));for(var v=o.length;v--;)Xf(l,o[v]);return l});function t9(s,o){return vy(s,xl(_e(o)))}var r9=Gn(function(s,o){return s==null?{}:$I(s,o)});function vy(s,o){if(s==null)return{};var l=It(ad(s),function(d){return[d]});return o=_e(o),cv(s,l,function(d,v){return o(d,v[0])})}function n9(s,o,l){o=Si(o,s);var d=-1,v=o.length;for(v||(v=1,s=t);++d<v;){var x=s==null?t:s[Tn(o[d])];x===t&&(d=v,x=l),s=Zn(x)?x.call(s):x}return s}function i9(s,o,l){return s==null?s:pa(s,o,l)}function s9(s,o,l,d){return d=typeof d=="function"?d:t,s==null?s:pa(s,o,l,d)}var yy=Av(cr),wy=Av(Br);function o9(s,o,l){var d=Le(s),v=d||Oi(s)||to(s);if(o=_e(o,4),l==null){var x=s&&s.constructor;v?l=d?new x:[]:Pt(s)?l=Zn(x)?Js(Jc(s)):{}:l={}}return(v?rn:An)(s,function(R,M,k){return o(l,R,M,k)}),l}function a9(s,o){return s==null?!0:Xf(s,o)}function c9(s,o,l){return s==null?s:dv(s,o,rd(l))}function l9(s,o,l,d){return d=typeof d=="function"?d:t,s==null?s:dv(s,o,rd(l),d)}function ro(s){return s==null?[]:Nf(s,cr(s))}function u9(s){return s==null?[]:Nf(s,Br(s))}function h9(s,o,l){return l===t&&(l=o,o=t),l!==t&&(l=ln(l),l=l===l?l:0),o!==t&&(o=ln(o),o=o===o?o:0),ss(ln(s),o,l)}function f9(s,o,l){return o=Jn(o),l===t?(l=o,o=0):l=Jn(l),s=ln(s),yI(s,o,l)}function d9(s,o,l){if(l&&typeof l!="boolean"&&Ir(s,o,l)&&(o=l=t),l===t&&(typeof o=="boolean"?(l=o,o=t):typeof s=="boolean"&&(l=s,s=t)),s===t&&o===t?(s=0,o=1):(s=Jn(s),o===t?(o=s,s=0):o=Jn(o)),s>o){var d=s;s=o,o=d}if(l||s%1||o%1){var v=zm();return mr(s+v*(o-s+vt("1e-"+((v+"").length-1))),o)}return Zf(s,o)}var p9=Xs(function(s,o,l){return o=o.toLowerCase(),s+(l?by(o):o)});function by(s){return xd(ft(s).toLowerCase())}function _y(s){return s=ft(s),s&&s.replace(Hn,i7).replace(Df,"")}function g9(s,o,l){s=ft(s),o=Kr(o);var d=s.length;l=l===t?d:ss(He(l),0,d);var v=l;return l-=o.length,l>=0&&s.slice(l,v)==o}function m9(s){return s=ft(s),s&&Ot.test(s)?s.replace(Zi,s7):s}function v9(s){return s=ft(s),s&&Zt.test(s)?s.replace(Mt,"\\$&"):s}var y9=Xs(function(s,o,l){return s+(l?"-":"")+o.toLowerCase()}),w9=Xs(function(s,o,l){return s+(l?" ":"")+o.toLowerCase()}),b9=Sv("toLowerCase");function _9(s,o,l){s=ft(s),o=He(o);var d=o?Vs(s):0;if(!o||d>=o)return s;var v=(o-d)/2;return pl(tl(v),l)+s+pl(el(v),l)}function E9(s,o,l){s=ft(s),o=He(o);var d=o?Vs(s):0;return o&&d<o?s+pl(o-d,l):s}function x9(s,o,l){s=ft(s),o=He(o);var d=o?Vs(s):0;return o&&d<o?pl(o-d,l)+s:s}function S9(s,o,l){return l||o==null?o=0:o&&(o=+o),P7(ft(s).replace(Ut,""),o||0)}function D9(s,o,l){return(l?Ir(s,o,l):o===t)?o=1:o=He(o),Jf(ft(s),o)}function O9(){var s=arguments,o=ft(s[0]);return s.length<3?o:o.replace(s[1],s[2])}var C9=Xs(function(s,o,l){return s+(l?"_":"")+o.toLowerCase()});function I9(s,o,l){return l&&typeof l!="number"&&Ir(s,o,l)&&(o=l=t),l=l===t?oe:l>>>0,l?(s=ft(s),s&&(typeof o=="string"||o!=null&&!bd(o))&&(o=Kr(o),!o&&Ws(s))?Di(gn(s),0,l):s.split(o,l)):[]}var $9=Xs(function(s,o,l){return s+(l?" ":"")+xd(o)});function A9(s,o,l){return s=ft(s),l=l==null?0:ss(He(l),0,s.length),o=Kr(o),s.slice(l,l+o.length)==o}function P9(s,o,l){var d=_.templateSettings;l&&Ir(s,o,l)&&(o=t),s=ft(s),o=Ol({},o,d,Pv);var v=Ol({},o.imports,d.imports,Pv),x=cr(v),R=Nf(v,x),M,k,re=0,ie=o.interpolate||Us,ae="__p += '",he=Mf((o.escape||Us).source+"|"+ie.source+"|"+(ie===At?cf:Us).source+"|"+(o.evaluate||Us).source+"|$","g"),ve="//# sourceURL="+(dt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Of+"]")+`
`;s.replace(he,function(De,Qe,st,Yr,$r,Zr){return st||(st=Yr),ae+=s.slice(re,Zr).replace(pf,o7),Qe&&(M=!0,ae+=`' +
__e(`+Qe+`) +
'`),$r&&(k=!0,ae+=`';
`+$r+`;
__p += '`),st&&(ae+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),re=Zr+De.length,De}),ae+=`';
`;var Se=dt.call(o,"variable")&&o.variable;if(!Se)ae=`with (obj) {
`+ae+`
}
`;else if(of.test(Se))throw new Re(u);ae=(k?ae.replace(Cn,""):ae).replace(Dr,"$1").replace(kn,"$1;"),ae="function("+(Se||"obj")+`) {
`+(Se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var We=xy(function(){return ut(x,ve+"return "+ae).apply(t,R)});if(We.source=ae,wd(We))throw We;return We}function T9(s){return ft(s).toLowerCase()}function R9(s){return ft(s).toUpperCase()}function N9(s,o,l){if(s=ft(s),s&&(l||o===t))return Tm(s);if(!s||!(o=Kr(o)))return s;var d=gn(s),v=gn(o),x=Rm(d,v),R=Nm(d,v)+1;return Di(d,x,R).join("")}function L9(s,o,l){if(s=ft(s),s&&(l||o===t))return s.slice(0,Mm(s)+1);if(!s||!(o=Kr(o)))return s;var d=gn(s),v=Nm(d,gn(o))+1;return Di(d,0,v).join("")}function M9(s,o,l){if(s=ft(s),s&&(l||o===t))return s.replace(Ut,"");if(!s||!(o=Kr(o)))return s;var d=gn(s),v=Rm(d,gn(o));return Di(d,v).join("")}function U9(s,o){var l=W,d=V;if(Pt(o)){var v="separator"in o?o.separator:v;l="length"in o?He(o.length):l,d="omission"in o?Kr(o.omission):d}s=ft(s);var x=s.length;if(Ws(s)){var R=gn(s);x=R.length}if(l>=x)return s;var M=l-Vs(d);if(M<1)return d;var k=R?Di(R,0,M).join(""):s.slice(0,M);if(v===t)return k+d;if(R&&(M+=k.length-M),bd(v)){if(s.slice(M).search(v)){var re,ie=k;for(v.global||(v=Mf(v.source,ft(en.exec(v))+"g")),v.lastIndex=0;re=v.exec(ie);)var ae=re.index;k=k.slice(0,ae===t?M:ae)}}else if(s.indexOf(Kr(v),M)!=M){var he=k.lastIndexOf(v);he>-1&&(k=k.slice(0,he))}return k+d}function j9(s){return s=ft(s),s&&Rt.test(s)?s.replace(mi,d7):s}var F9=Xs(function(s,o,l){return s+(l?" ":"")+o.toUpperCase()}),xd=Sv("toUpperCase");function Ey(s,o,l){return s=ft(s),o=l?t:o,o===t?c7(s)?m7(s):XC(s):s.match(o)||[]}var xy=Ge(function(s,o){try{return ar(s,t,o)}catch(l){return wd(l)?l:new Re(l)}}),B9=Gn(function(s,o){return rn(o,function(l){l=Tn(l),Vn(s,l,vd(s[l],s))}),s});function k9(s){var o=s==null?0:s.length,l=_e();return s=o?It(s,function(d){if(typeof d[1]!="function")throw new nn(c);return[l(d[0]),d[1]]}):[],Ge(function(d){for(var v=-1;++v<o;){var x=s[v];if(ar(x[0],this,d))return ar(x[1],this,d)}})}function H9(s){return dI(on(s,D))}function Sd(s){return function(){return s}}function z9(s,o){return s==null||s!==s?o:s}var q9=Ov(),W9=Ov(!0);function kr(s){return s}function Dd(s){return rv(typeof s=="function"?s:on(s,D))}function V9(s){return iv(on(s,D))}function K9(s,o){return sv(s,on(o,D))}var G9=Ge(function(s,o){return function(l){return fa(l,s,o)}}),Y9=Ge(function(s,o){return function(l){return fa(s,l,o)}});function Od(s,o,l){var d=cr(o),v=al(o,d);l==null&&!(Pt(o)&&(v.length||!d.length))&&(l=o,o=s,s=this,v=al(o,cr(o)));var x=!(Pt(l)&&"chain"in l)||!!l.chain,R=Zn(s);return rn(v,function(M){var k=o[M];s[M]=k,R&&(s.prototype[M]=function(){var re=this.__chain__;if(x||re){var ie=s(this.__wrapped__),ae=ie.__actions__=jr(this.__actions__);return ae.push({func:k,args:arguments,thisArg:s}),ie.__chain__=re,ie}return k.apply(s,wi([this.value()],arguments))})}),s}function Z9(){return it._===this&&(it._=E7),this}function Cd(){}function J9(s){return s=He(s),Ge(function(o){return ov(o,s)})}var Q9=id(It),X9=id(Cm),eT=id($f);function Sy(s){return hd(s)?Af(Tn(s)):AI(s)}function tT(s){return function(o){return s==null?t:os(s,o)}}var rT=Iv(),nT=Iv(!0);function Id(){return[]}function $d(){return!1}function iT(){return{}}function sT(){return""}function oT(){return!0}function aT(s,o){if(s=He(s),s<1||s>Y)return[];var l=oe,d=mr(s,oe);o=_e(o),s-=oe;for(var v=Rf(d,o);++l<s;)o(l);return v}function cT(s){return Le(s)?It(s,Tn):Gr(s)?[s]:jr(qv(ft(s)))}function lT(s){var o=++b7;return ft(s)+o}var uT=dl(function(s,o){return s+o},0),hT=sd("ceil"),fT=dl(function(s,o){return s/o},1),dT=sd("floor");function pT(s){return s&&s.length?ol(s,kr,qf):t}function gT(s,o){return s&&s.length?ol(s,_e(o,2),qf):t}function mT(s){return Am(s,kr)}function vT(s,o){return Am(s,_e(o,2))}function yT(s){return s&&s.length?ol(s,kr,Gf):t}function wT(s,o){return s&&s.length?ol(s,_e(o,2),Gf):t}var bT=dl(function(s,o){return s*o},1),_T=sd("round"),ET=dl(function(s,o){return s-o},0);function xT(s){return s&&s.length?Tf(s,kr):0}function ST(s,o){return s&&s.length?Tf(s,_e(o,2)):0}return _.after=VA,_.ary=ty,_.assign=RP,_.assignIn=gy,_.assignInWith=Ol,_.assignWith=NP,_.at=LP,_.before=ry,_.bind=vd,_.bindAll=B9,_.bindKey=ny,_.castArray=iP,_.chain=Qv,_.chunk=d$,_.compact=p$,_.concat=g$,_.cond=k9,_.conforms=H9,_.constant=Sd,_.countBy=xA,_.create=MP,_.curry=iy,_.curryRight=sy,_.debounce=oy,_.defaults=UP,_.defaultsDeep=jP,_.defer=KA,_.delay=GA,_.difference=m$,_.differenceBy=v$,_.differenceWith=y$,_.drop=w$,_.dropRight=b$,_.dropRightWhile=_$,_.dropWhile=E$,_.fill=x$,_.filter=DA,_.flatMap=IA,_.flatMapDeep=$A,_.flatMapDepth=AA,_.flatten=Gv,_.flattenDeep=S$,_.flattenDepth=D$,_.flip=YA,_.flow=q9,_.flowRight=W9,_.fromPairs=O$,_.functions=WP,_.functionsIn=VP,_.groupBy=PA,_.initial=I$,_.intersection=$$,_.intersectionBy=A$,_.intersectionWith=P$,_.invert=GP,_.invertBy=YP,_.invokeMap=RA,_.iteratee=Dd,_.keyBy=NA,_.keys=cr,_.keysIn=Br,_.map=bl,_.mapKeys=JP,_.mapValues=QP,_.matches=V9,_.matchesProperty=K9,_.memoize=El,_.merge=XP,_.mergeWith=my,_.method=G9,_.methodOf=Y9,_.mixin=Od,_.negate=xl,_.nthArg=J9,_.omit=e9,_.omitBy=t9,_.once=ZA,_.orderBy=LA,_.over=Q9,_.overArgs=JA,_.overEvery=X9,_.overSome=eT,_.partial=yd,_.partialRight=ay,_.partition=MA,_.pick=r9,_.pickBy=vy,_.property=Sy,_.propertyOf=tT,_.pull=L$,_.pullAll=Zv,_.pullAllBy=M$,_.pullAllWith=U$,_.pullAt=j$,_.range=rT,_.rangeRight=nT,_.rearg=QA,_.reject=FA,_.remove=F$,_.rest=XA,_.reverse=gd,_.sampleSize=kA,_.set=i9,_.setWith=s9,_.shuffle=HA,_.slice=B$,_.sortBy=WA,_.sortedUniq=K$,_.sortedUniqBy=G$,_.split=I9,_.spread=eP,_.tail=Y$,_.take=Z$,_.takeRight=J$,_.takeRightWhile=Q$,_.takeWhile=X$,_.tap=pA,_.throttle=tP,_.thru=wl,_.toArray=fy,_.toPairs=yy,_.toPairsIn=wy,_.toPath=cT,_.toPlainObject=py,_.transform=o9,_.unary=rP,_.union=eA,_.unionBy=tA,_.unionWith=rA,_.uniq=nA,_.uniqBy=iA,_.uniqWith=sA,_.unset=a9,_.unzip=md,_.unzipWith=Jv,_.update=c9,_.updateWith=l9,_.values=ro,_.valuesIn=u9,_.without=oA,_.words=Ey,_.wrap=nP,_.xor=aA,_.xorBy=cA,_.xorWith=lA,_.zip=uA,_.zipObject=hA,_.zipObjectDeep=fA,_.zipWith=dA,_.entries=yy,_.entriesIn=wy,_.extend=gy,_.extendWith=Ol,Od(_,_),_.add=uT,_.attempt=xy,_.camelCase=p9,_.capitalize=by,_.ceil=hT,_.clamp=h9,_.clone=sP,_.cloneDeep=aP,_.cloneDeepWith=cP,_.cloneWith=oP,_.conformsTo=lP,_.deburr=_y,_.defaultTo=z9,_.divide=fT,_.endsWith=g9,_.eq=vn,_.escape=m9,_.escapeRegExp=v9,_.every=SA,_.find=OA,_.findIndex=Vv,_.findKey=FP,_.findLast=CA,_.findLastIndex=Kv,_.findLastKey=BP,_.floor=dT,_.forEach=Xv,_.forEachRight=ey,_.forIn=kP,_.forInRight=HP,_.forOwn=zP,_.forOwnRight=qP,_.get=_d,_.gt=uP,_.gte=hP,_.has=KP,_.hasIn=Ed,_.head=Yv,_.identity=kr,_.includes=TA,_.indexOf=C$,_.inRange=f9,_.invoke=ZP,_.isArguments=ls,_.isArray=Le,_.isArrayBuffer=fP,_.isArrayLike=Fr,_.isArrayLikeObject=Wt,_.isBoolean=dP,_.isBuffer=Oi,_.isDate=pP,_.isElement=gP,_.isEmpty=mP,_.isEqual=vP,_.isEqualWith=yP,_.isError=wd,_.isFinite=wP,_.isFunction=Zn,_.isInteger=cy,_.isLength=Sl,_.isMap=ly,_.isMatch=bP,_.isMatchWith=_P,_.isNaN=EP,_.isNative=xP,_.isNil=DP,_.isNull=SP,_.isNumber=uy,_.isObject=Pt,_.isObjectLike=Ft,_.isPlainObject=ya,_.isRegExp=bd,_.isSafeInteger=OP,_.isSet=hy,_.isString=Dl,_.isSymbol=Gr,_.isTypedArray=to,_.isUndefined=CP,_.isWeakMap=IP,_.isWeakSet=$P,_.join=T$,_.kebabCase=y9,_.last=cn,_.lastIndexOf=R$,_.lowerCase=w9,_.lowerFirst=b9,_.lt=AP,_.lte=PP,_.max=pT,_.maxBy=gT,_.mean=mT,_.meanBy=vT,_.min=yT,_.minBy=wT,_.stubArray=Id,_.stubFalse=$d,_.stubObject=iT,_.stubString=sT,_.stubTrue=oT,_.multiply=bT,_.nth=N$,_.noConflict=Z9,_.noop=Cd,_.now=_l,_.pad=_9,_.padEnd=E9,_.padStart=x9,_.parseInt=S9,_.random=d9,_.reduce=UA,_.reduceRight=jA,_.repeat=D9,_.replace=O9,_.result=n9,_.round=_T,_.runInContext=B,_.sample=BA,_.size=zA,_.snakeCase=C9,_.some=qA,_.sortedIndex=k$,_.sortedIndexBy=H$,_.sortedIndexOf=z$,_.sortedLastIndex=q$,_.sortedLastIndexBy=W$,_.sortedLastIndexOf=V$,_.startCase=$9,_.startsWith=A9,_.subtract=ET,_.sum=xT,_.sumBy=ST,_.template=P9,_.times=aT,_.toFinite=Jn,_.toInteger=He,_.toLength=dy,_.toLower=T9,_.toNumber=ln,_.toSafeInteger=TP,_.toString=ft,_.toUpper=R9,_.trim=N9,_.trimEnd=L9,_.trimStart=M9,_.truncate=U9,_.unescape=j9,_.uniqueId=lT,_.upperCase=F9,_.upperFirst=xd,_.each=Xv,_.eachRight=ey,_.first=Yv,Od(_,function(){var s={};return An(_,function(o,l){dt.call(_.prototype,l)||(s[l]=o)}),s}(),{chain:!1}),_.VERSION=n,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){_[s].placeholder=_}),rn(["drop","take"],function(s,o){et.prototype[s]=function(l){l=l===t?1:nr(He(l),0);var d=this.__filtered__&&!o?new et(this):this.clone();return d.__filtered__?d.__takeCount__=mr(l,d.__takeCount__):d.__views__.push({size:mr(l,oe),type:s+(d.__dir__<0?"Right":"")}),d},et.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),rn(["filter","map","takeWhile"],function(s,o){var l=o+1,d=l==w||l==te;et.prototype[s]=function(v){var x=this.clone();return x.__iteratees__.push({iteratee:_e(v,3),type:l}),x.__filtered__=x.__filtered__||d,x}}),rn(["head","last"],function(s,o){var l="take"+(o?"Right":"");et.prototype[s]=function(){return this[l](1).value()[0]}}),rn(["initial","tail"],function(s,o){var l="drop"+(o?"":"Right");et.prototype[s]=function(){return this.__filtered__?new et(this):this[l](1)}}),et.prototype.compact=function(){return this.filter(kr)},et.prototype.find=function(s){return this.filter(s).head()},et.prototype.findLast=function(s){return this.reverse().find(s)},et.prototype.invokeMap=Ge(function(s,o){return typeof s=="function"?new et(this):this.map(function(l){return fa(l,s,o)})}),et.prototype.reject=function(s){return this.filter(xl(_e(s)))},et.prototype.slice=function(s,o){s=He(s);var l=this;return l.__filtered__&&(s>0||o<0)?new et(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),o!==t&&(o=He(o),l=o<0?l.dropRight(-o):l.take(o-s)),l)},et.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},et.prototype.toArray=function(){return this.take(oe)},An(et.prototype,function(s,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),d=/^(?:head|last)$/.test(o),v=_[d?"take"+(o=="last"?"Right":""):o],x=d||/^find/.test(o);v&&(_.prototype[o]=function(){var R=this.__wrapped__,M=d?[1]:arguments,k=R instanceof et,re=M[0],ie=k||Le(R),ae=function(Qe){var st=v.apply(_,wi([Qe],M));return d&&he?st[0]:st};ie&&l&&typeof re=="function"&&re.length!=1&&(k=ie=!1);var he=this.__chain__,ve=!!this.__actions__.length,Se=x&&!he,We=k&&!ve;if(!x&&ie){R=We?R:new et(this);var De=s.apply(R,M);return De.__actions__.push({func:wl,args:[ae],thisArg:t}),new sn(De,he)}return Se&&We?s.apply(this,M):(De=this.thru(ae),Se?d?De.value()[0]:De.value():De)})}),rn(["pop","push","shift","sort","splice","unshift"],function(s){var o=Wc[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",d=/^(?:pop|shift)$/.test(s);_.prototype[s]=function(){var v=arguments;if(d&&!this.__chain__){var x=this.value();return o.apply(Le(x)?x:[],v)}return this[l](function(R){return o.apply(Le(R)?R:[],v)})}}),An(et.prototype,function(s,o){var l=_[o];if(l){var d=l.name+"";dt.call(Zs,d)||(Zs[d]=[]),Zs[d].push({name:o,func:l})}}),Zs[fl(t,H).name]=[{name:"wrapper",func:t}],et.prototype.clone=j7,et.prototype.reverse=F7,et.prototype.value=B7,_.prototype.at=gA,_.prototype.chain=mA,_.prototype.commit=vA,_.prototype.next=yA,_.prototype.plant=bA,_.prototype.reverse=_A,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=EA,_.prototype.first=_.prototype.head,sa&&(_.prototype[sa]=wA),_},Ks=v7();qt?((qt.exports=Ks)._=Ks,yt._=Ks):it._=Ks}).call(Ro)})(zu,zu.exports);var j8=Object.defineProperty,F8=Object.defineProperties,B8=Object.getOwnPropertyDescriptors,q1=Object.getOwnPropertySymbols,k8=Object.prototype.hasOwnProperty,H8=Object.prototype.propertyIsEnumerable,W1=(r,e,t)=>e in r?j8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wa=(r,e)=>{for(var t in e||(e={}))k8.call(e,t)&&W1(r,t,e[t]);if(q1)for(var t of q1(e))H8.call(e,t)&&W1(r,t,e[t]);return r},z8=(r,e)=>F8(r,B8(e));function Qr(r,e,t){let n;const i=qu(r);return e.rpcMap&&(n=e.rpcMap[i]),n||(n=`${U8}?chainId=eip155:${i}&projectId=${t}`),n}function qu(r){return r.includes("eip155")?Number(r.split(":")[1]):Number(r)}function V1(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function q8(r,e){const t=Object.keys(e.namespaces).filter(i=>i.includes(r));if(!t.length)return[];const n=[];return t.forEach(i=>{const a=e.namespaces[i].accounts;n.push(...a)}),n}function W8(r={},e={}){const t=K1(r),n=K1(e);return zu.exports.merge(t,n)}function K1(r){var e,t,n,i;const a={};if(!vs(r))return a;for(const[c,u]of Object.entries(r)){const f=iu(c)?[c]:u.chains,p=u.methods||[],m=u.events||[],D=u.rpcMap||{},y=po(c);a[y]=z8(Wa(Wa({},a[y]),u),{chains:ru(f,(e=a[y])==null?void 0:e.chains),methods:ru(p,(t=a[y])==null?void 0:t.methods),events:ru(m,(n=a[y])==null?void 0:n.events),rpcMap:Wa(Wa({},D),(i=a[y])==null?void 0:i.rpcMap)})}return a}function V8(r){return r.includes(":")?r.split(":")[2]:r}function K8(r){const e={};for(const[t,n]of Object.entries(r)){const i=n.methods||[],a=n.events||[],c=n.accounts||[],u=iu(t)?[t]:n.chains?n.chains:V1(n.accounts);e[t]={chains:u,methods:i,events:a,accounts:c}}return e}function Wu(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):r.includes(":")?Number(r.split(":")[1]):Number(r)}const G1={},kt=r=>G1[r],Vu=(r,e)=>{G1[r]=e};class G8{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Qr(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Qr(e,this.namespace);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}class Y8{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){const n=qu(e);if(!this.httpProviders[n]){const i=t||Qr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,i)}this.chainId=n,this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||Qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const i=qu(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let i=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const a=parseInt(i,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class Z8{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||Qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Qr(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}class J8{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Qr(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}class Q8{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const n=this.getCardanoRPCUrl(t);e[t]=this.createHttpProvider(t,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}class X8{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||Qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Qr(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}class ex{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=kt("events"),this.client=kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||Qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ni.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Qr(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new ti(new Mi(n,kt("disableProviderPing")))}}var tx=Object.defineProperty,rx=Object.defineProperties,nx=Object.getOwnPropertyDescriptors,Y1=Object.getOwnPropertySymbols,ix=Object.prototype.hasOwnProperty,sx=Object.prototype.propertyIsEnumerable,Z1=(r,e,t)=>e in r?tx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Va=(r,e)=>{for(var t in e||(e={}))ix.call(e,t)&&Z1(r,t,e[t]);if(Y1)for(var t of Y1(e))sx.call(e,t)&&Z1(r,t,e[t]);return r},Ku=(r,e)=>rx(r,nx(e));class Gu{constructor(e){this.events=new lr.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:tt.pino(tt.getDefaultLoggerOptions({level:e?.logger||H1})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new Gu(e);return await t.initialize(),t}async request(e,t){const[n,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:Va({},e),chainId:`${n}:${i}`,topic:this.session.topic})}sendAsync(e,t,n){this.request(e,n).then(i=>t(null,i)).catch(i=>t(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Bt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(a=>{this.session=a,this.namespaces||(this.namespaces=K8(a.namespaces),this.persist("namespaces",this.namespaces))}).catch(a=>{if(a.message!==M1)throw a;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(bn(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await ku.init({logger:this.providerOpts.logger||H1,relayUrl:this.providerOpts.relayUrl||N8,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>po(t)))];Vu("client",this.client),Vu("events",this.events),Vu("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const n=q8(t,this.session),i=V1(n),a=W8(this.namespaces,this.optionalNamespaces),c=Ku(Va({},a[t]),{accounts:n,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new Y8({namespace:c});break;case"solana":this.rpcProviders[t]=new Z8({namespace:c});break;case"cosmos":this.rpcProviders[t]=new J8({namespace:c});break;case"polkadot":this.rpcProviders[t]=new G8({namespace:c});break;case"cip34":this.rpcProviders[t]=new Q8({namespace:c});break;case"elrond":this.rpcProviders[t]=new X8({namespace:c});break;case"multiversx":this.rpcProviders[t]=new ex({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:n}=t;if(n.name==="accountsChanged"){const i=n.data;i&&bn(i)&&this.events.emit("accountsChanged",i.map(V8))}else if(n.name==="chainChanged"){const i=t.chainId,a=t.event.data,c=po(i),u=Wu(i)!==Wu(a)?`${c}:${Wu(a)}`:i;this.onChainChanged(u)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var n;const{namespaces:i}=t,a=(n=this.client)==null?void 0:n.session.get(e);this.session=Ku(Va({},a),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ku(Va({},Bt("USER_DISCONNECTED")),{data:e.topic}))}),this.on(ni.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(c=>po(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const i=po(Object.keys(this.namespaces)[0]),a=this.rpcProviders[i].getDefaultChain();return[i,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var n;if(!this.namespaces)return;const[i,a]=this.validateChain(e);t||this.getProvider(i).setDefaultChain(a),((n=this.namespaces[i])!=null?n:this.namespaces[`${i}:${a}`]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${z1}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${z1}/${e}`)}}const ox=Gu,ax="wc",cx="ethereum_provider",lx=`${ax}@2:${cx}:`,ux="https://rpc.walletconnect.com/v1/",Ka=["eth_sendTransaction","personal_sign"],J1=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Ga=["chainChanged","accountsChanged"],Q1=["message","disconnect","connect"];var hx=Object.defineProperty,fx=Object.defineProperties,dx=Object.getOwnPropertyDescriptors,X1=Object.getOwnPropertySymbols,px=Object.prototype.hasOwnProperty,gx=Object.prototype.propertyIsEnumerable,eg=(r,e,t)=>e in r?hx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,No=(r,e)=>{for(var t in e||(e={}))px.call(e,t)&&eg(r,t,e[t]);if(X1)for(var t of X1(e))gx.call(e,t)&&eg(r,t,e[t]);return r},tg=(r,e)=>fx(r,dx(e));function Ya(r){return Number(r[0].split(":")[1])}function Yu(r){return`0x${r.toString(16)}`}function mx(r){const{chains:e,optionalChains:t,methods:n,optionalMethods:i,events:a,optionalEvents:c,rpcMap:u}=r;if(!bn(e))throw new Error("Invalid chains");const f={chains:e,methods:n||Ka,events:a||Ga,rpcMap:No({},e.length?{[Ya(e)]:u[Ya(e)]}:{})},p=a?.filter(S=>!Ga.includes(S)),m=n?.filter(S=>!Ka.includes(S));if(!t&&!c&&!i&&!(p!=null&&p.length)&&!(m!=null&&m.length))return{required:e.length?f:void 0};const D=p?.length&&m?.length||!t,y={chains:[...new Set(D?f.chains.concat(t||[]):t)],methods:[...new Set(f.methods.concat(i!=null&&i.length?i:J1))],events:[...new Set(f.events.concat(c||Q1))],rpcMap:u};return{required:e.length?f:void 0,optional:t.length?y:void 0}}class Za{constructor(){this.events=new lr.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=lx,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new Za;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:n}=mx(this.rpc);try{const i=await new Promise(async(c,u)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(tg(No({namespaces:No({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic})).then(p=>{c(p)}).catch(p=>{u(new Error(p.message))})});if(!i)return;const a=K2(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:Yu(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Yu(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",tg(No({},Bt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,n;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Yu(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,i]=e.split(":");return{chainId:`${t}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const i=(t=e?.chains)!=null?t:[],a=(n=e?.optionalChains)!=null?n:[],c=i.concat(a);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const u=i.length?e?.methods||Ka:[],f=i.length?e?.events||Ga:[],p=e?.optionalMethods||[],m=e?.optionalEvents||[],D=e?.rpcMap||this.buildRpcMap(c,e.projectId),y=e?.qrModalOptions||void 0;return{chains:i?.map(S=>this.formatChainId(S)),optionalChains:a.map(S=>this.formatChainId(S)),methods:u,events:f,optionalMethods:p,optionalEvents:m,rpcMap:D,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:y,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,t)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Ya(this.rpc.chains):Ya(this.rpc.optionalChains),this.signer=await ox.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:n}=await Promise.resolve().then(function(){return Fx});t=n}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(No({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:i}=e;t&&bn(t)&&(this.rpc.chains=t.map(a=>this.formatChainId(a)),t.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)})),n&&bn(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(a=>this.formatChainId(a)),n.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)}))}getRpcUrl(e,t){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${ux}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const vx=Za,yx=Symbol(),rg=Object.getPrototypeOf,Zu=new WeakMap,wx=r=>r&&(Zu.has(r)?Zu.get(r):rg(r)===Object.prototype||rg(r)===Array.prototype),bx=r=>wx(r)&&r[yx]||null,ng=(r,e=!0)=>{Zu.set(r,e)},Ju=r=>typeof r=="object"&&r!==null,ii=new WeakMap,Ja=new WeakSet,_x=(r=Object.is,e=(m,D)=>new Proxy(m,D),t=m=>Ju(m)&&!Ja.has(m)&&(Array.isArray(m)||!(Symbol.iterator in m))&&!(m instanceof WeakMap)&&!(m instanceof WeakSet)&&!(m instanceof Error)&&!(m instanceof Number)&&!(m instanceof Date)&&!(m instanceof String)&&!(m instanceof RegExp)&&!(m instanceof ArrayBuffer),n=m=>m.configurable&&m.enumerable&&m.writable,i=m=>{switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:throw m}},a=new WeakMap,c=(m,D,y=i)=>{const S=a.get(m);if(S?.[0]===D)return S[1];const C=Array.isArray(m)?[]:Object.create(Object.getPrototypeOf(m));return ng(C,!0),a.set(m,[D,C]),Reflect.ownKeys(m).forEach(N=>{if(Object.getOwnPropertyDescriptor(C,N))return;const U=Reflect.get(m,N),H={value:U,enumerable:!0,configurable:!0};if(Ja.has(U))ng(U,!1);else if(U instanceof Promise)delete H.value,H.get=()=>y(U);else if(ii.has(U)){const[$,P]=ii.get(U);H.value=c($,P(),y)}Object.defineProperty(C,N,H)}),Object.preventExtensions(C)},u=new WeakMap,f=[1,1],p=m=>{if(!Ju(m))throw new Error("object required");const D=u.get(m);if(D)return D;let y=f[0];const S=new Set,C=(V,J=++f[0])=>{y!==J&&(y=J,S.forEach(ne=>ne(V,J)))};let N=f[1];const U=(V=++f[1])=>(N!==V&&!S.size&&(N=V,$.forEach(([J])=>{const ne=J[1](V);ne>y&&(y=ne)})),y),H=V=>(J,ne)=>{const w=[...J];w[1]=[V,...w[1]],C(w,ne)},$=new Map,P=(V,J)=>{if($.has(V))throw new Error("prop listener already exists");if(S.size){const ne=J[3](H(V));$.set(V,[J,ne])}else $.set(V,[J])},O=V=>{var J;const ne=$.get(V);ne&&($.delete(V),(J=ne[1])==null||J.call(ne))},A=V=>(S.add(V),S.size===1&&$.forEach(([ne,w],T)=>{if(w)throw new Error("remove already exists");const te=ne[3](H(T));$.set(T,[ne,te])}),()=>{S.delete(V),S.size===0&&$.forEach(([ne,w],T)=>{w&&(w(),$.set(T,[ne]))})}),E=Array.isArray(m)?[]:Object.create(Object.getPrototypeOf(m)),h=(V,J,ne,w,T)=>{if(V&&(r(J,w)||u.has(w)&&r(J,u.get(w))))return;O(ne),Ju(w)&&(w=bx(w)||w);let te=w;if(w instanceof Promise)w.then(Q=>{w.status="fulfilled",w.value=Q,C(["resolve",[ne],Q])}).catch(Q=>{w.status="rejected",w.reason=Q,C(["reject",[ne],Q])});else{!ii.has(w)&&t(w)&&(te=p(w));const Q=!Ja.has(te)&&ii.get(te);Q&&P(ne,Q)}T(te),C(["set",[ne],w,J])},K=e(E,{deleteProperty(V,J){const ne=Reflect.get(V,J);O(J);const w=Reflect.deleteProperty(V,J);return w&&C(["delete",[J],ne]),w},set(V,J,ne,w){const T=Reflect.has(V,J),te=Reflect.get(V,J,w);return h(T,te,J,ne,Q=>{Reflect.set(V,J,Q,w)}),!0},defineProperty(V,J,ne){if(n(ne)){const w=Reflect.getOwnPropertyDescriptor(V,J);if(!w||n(w))return h(!!w&&"value"in w,w?.value,J,ne.value,T=>{Reflect.defineProperty(V,J,{...ne,value:T})}),!0}return Reflect.defineProperty(V,J,ne)}});u.set(m,K);const W=[E,U,c,A];return ii.set(K,W),Reflect.ownKeys(m).forEach(V=>{const J=Object.getOwnPropertyDescriptor(m,V);"value"in J&&(K[V]=m[V],delete J.value,delete J.writable),Object.defineProperty(E,V,J)}),K})=>[p,ii,Ja,r,e,t,n,i,a,c,u,f],[Ex]=_x();function si(r={}){return Ex(r)}function Ui(r,e,t){const n=ii.get(r);n||console.warn("Please use proxy object");let i;const a=[],c=n[3];let u=!1;const p=c(m=>{if(a.push(m),t){e(a.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,p()}}function xx(r,e){const t=ii.get(r);t||console.warn("Please use proxy object");const[n,i,a]=t;return a(n,i(),e)}const or=si({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),$t={state:or,subscribe(r){return Ui(or,()=>r(or))},push(r,e){r!==or.view&&(or.view=r,e&&(or.data=e),or.history.push(r))},reset(r){or.view=r,or.history=[r]},replace(r){or.history.length>1&&(or.history[or.history.length-1]=r,or.view=r)},goBack(){if(or.history.length>1){or.history.pop();const[r]=or.history.slice(-1);or.view=r}},setData(r){or.data=r}},we={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return we.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const r=navigator.userAgent.toLowerCase();return we.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},formatNativeUrl(r,e,t){if(we.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let n=r;n.includes("://")||(n=r.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(r,e,t){if(!we.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let n=r;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){window.open(r,Rr.state.walletLinkTarget||e,"noreferrer noopener")},setWalletConnectDeepLink(r,e){try{localStorage.setItem(we.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(r){try{const[e]=r.split("?");localStorage.setItem(we.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(we.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(we.WCM_VERSION,"2.6.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var r;const e=(r=$t.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},Sx=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),gr=si({enabled:Sx,userSessionId:"",events:[],connectedWalletId:void 0}),ig={state:gr,subscribe(r){return Ui(gr.events,()=>r(xx(gr.events[gr.events.length-1])))},initialize(){gr.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(gr.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){gr.connectedWalletId=r},click(r){if(gr.enabled){const e={type:"CLICK",name:r.name,userSessionId:gr.userSessionId,timestamp:Date.now(),data:r};gr.events.push(e)}},track(r){if(gr.enabled){const e={type:"TRACK",name:r.name,userSessionId:gr.userSessionId,timestamp:Date.now(),data:r};gr.events.push(e)}},view(r){if(gr.enabled){const e={type:"VIEW",name:r.name,userSessionId:gr.userSessionId,timestamp:Date.now(),data:r};gr.events.push(e)}}},xn=si({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Ht={state:xn,subscribe(r){return Ui(xn,()=>r(xn))},setChains(r){xn.chains=r},setWalletConnectUri(r){xn.walletConnectUri=r},setIsCustomDesktop(r){xn.isCustomDesktop=r},setIsCustomMobile(r){xn.isCustomMobile=r},setIsDataLoaded(r){xn.isDataLoaded=r},setIsUiLoaded(r){xn.isUiLoaded=r},setIsAuth(r){xn.isAuth=r}},Qa=si({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,walletLinkTarget:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Rr={state:Qa,subscribe(r){return Ui(Qa,()=>r(Qa))},setConfig(r){var e,t;ig.initialize(),Ht.setChains(r.chains),Ht.setIsAuth(!!r.enableAuthMode),Ht.setIsCustomMobile(!!((e=r.mobileWallets)!=null&&e.length)),Ht.setIsCustomDesktop(!!((t=r.desktopWallets)!=null&&t.length)),we.setModalVersionInStorage(),Object.assign(Qa,r)}};var Dx=Object.defineProperty,sg=Object.getOwnPropertySymbols,Ox=Object.prototype.hasOwnProperty,Cx=Object.prototype.propertyIsEnumerable,og=(r,e,t)=>e in r?Dx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ix=(r,e)=>{for(var t in e||(e={}))Ox.call(e,t)&&og(r,t,e[t]);if(sg)for(var t of sg(e))Cx.call(e,t)&&og(r,t,e[t]);return r};const Qu="https://explorer-api.walletconnect.com",Xu="wcm",eh="js-2.6.1";async function Xa(r,e){const t=Ix({sdkType:Xu,sdkVersion:eh},e),n=new URL(r,Qu);return n.searchParams.append("projectId",Rr.state.projectId),Object.entries(t).forEach(([i,a])=>{a&&n.searchParams.append(i,String(a))}),(await fetch(n)).json()}const ji={async getDesktopListings(r){return Xa("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return Xa("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return Xa("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return Xa("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${Qu}/w3m/v1/getWalletImage/${r}?projectId=${Rr.state.projectId}&sdkType=${Xu}&sdkVersion=${eh}`},getAssetImageUrl(r){return`${Qu}/w3m/v1/getAssetImage/${r}?projectId=${Rr.state.projectId}&sdkType=${Xu}&sdkVersion=${eh}`}};var $x=Object.defineProperty,ag=Object.getOwnPropertySymbols,Ax=Object.prototype.hasOwnProperty,Px=Object.prototype.propertyIsEnumerable,cg=(r,e,t)=>e in r?$x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tx=(r,e)=>{for(var t in e||(e={}))Ax.call(e,t)&&cg(r,t,e[t]);if(ag)for(var t of ag(e))Px.call(e,t)&&cg(r,t,e[t]);return r};const lg=we.isMobile(),Sn=si({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Nr={state:Sn,async getRecomendedWallets(){const{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=Rr.state;if(r==="NONE"||e==="ALL"&&!r)return Sn.recomendedWallets;if(we.isArray(r)){const t={recommendedIds:r.join(",")},{listings:n}=await ji.getAllListings(t),i=Object.values(n);i.sort((a,c)=>{const u=r.indexOf(a.id),f=r.indexOf(c.id);return u-f}),Sn.recomendedWallets=i}else{const{chains:t,isAuth:n}=Ht.state,i=t?.join(","),a=we.isArray(e),c={page:1,sdks:n?"auth_v1":void 0,entries:we.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:a?e.join(","):void 0},{listings:u}=lg?await ji.getMobileListings(c):await ji.getDesktopListings(c);Sn.recomendedWallets=Object.values(u)}return Sn.recomendedWallets},async getWallets(r){const e=Tx({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:n}=Rr.state,{recomendedWallets:i}=Sn;if(n==="ALL")return Sn.wallets;i.length?e.excludedIds=i.map(D=>D.id).join(","):we.isArray(t)&&(e.excludedIds=t.join(",")),we.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),Ht.state.isAuth&&(e.sdks="auth_v1");const{page:a,search:c}=r,{listings:u,total:f}=lg?await ji.getMobileListings(e):await ji.getDesktopListings(e),p=Object.values(u),m=c?"search":"wallets";return Sn[m]={listings:[...Sn[m].listings,...p],total:f,page:a??1},{listings:p,total:f}},getWalletImageUrl(r){return ji.getWalletImageUrl(r)},getAssetImageUrl(r){return ji.getAssetImageUrl(r)},resetSearch(){Sn.search={listings:[],total:0,page:1}}},bs=si({open:!1}),Fi={state:bs,subscribe(r){return Ui(bs,()=>r(bs))},async open(r){return new Promise(e=>{const{isUiLoaded:t,isDataLoaded:n}=Ht.state;if(we.removeWalletConnectDeepLink(),Ht.setWalletConnectUri(r?.uri),Ht.setChains(r?.chains),$t.reset("ConnectWallet"),t&&n)bs.open=!0,e();else{const i=setInterval(()=>{const a=Ht.state;a.isUiLoaded&&a.isDataLoaded&&(clearInterval(i),bs.open=!0,e())},200)}})},close(){bs.open=!1}};var Rx=Object.defineProperty,ug=Object.getOwnPropertySymbols,Nx=Object.prototype.hasOwnProperty,Lx=Object.prototype.propertyIsEnumerable,hg=(r,e,t)=>e in r?Rx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mx=(r,e)=>{for(var t in e||(e={}))Nx.call(e,t)&&hg(r,t,e[t]);if(ug)for(var t of ug(e))Lx.call(e,t)&&hg(r,t,e[t]);return r};function Ux(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Lo=si({themeMode:Ux()?"dark":"light"}),oi={state:Lo,subscribe(r){return Ui(Lo,()=>r(Lo))},setThemeConfig(r){const{themeMode:e,themeVariables:t}=r;e&&(Lo.themeMode=e),t&&(Lo.themeVariables=Mx({},t))}},Bi=si({open:!1,message:"",variant:"success"}),ai={state:Bi,subscribe(r){return Ui(Bi,()=>r(Bi))},openToast(r,e){Bi.open=!0,Bi.message=r,Bi.variant=e},closeToast(){Bi.open=!1}};class jx{constructor(e){this.openModal=Fi.open,this.closeModal=Fi.close,this.subscribeModal=Fi.subscribe,this.setTheme=oi.setThemeConfig,oi.setThemeConfig(e),Rr.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(function(){return KC});const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),Ht.setIsUiLoaded(!0)}}}var Fx=Object.freeze({__proto__:null,WalletConnectModal:jx});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ec=window,th=ec.ShadowRoot&&(ec.ShadyCSS===void 0||ec.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,rh=Symbol(),fg=new WeakMap;class dg{constructor(e,t,n){if(this._$cssResult$=!0,n!==rh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(th&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=fg.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&fg.set(t,e))}return e}toString(){return this.cssText}}const Bx=r=>new dg(typeof r=="string"?r:r+"",void 0,rh),lt=(r,...e)=>{const t=r.length===1?r[0]:e.reduce((n,i,a)=>n+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+r[a+1],r[0]);return new dg(t,r,rh)},kx=(r,e)=>{th?r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{const n=document.createElement("style"),i=ec.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=t.cssText,r.appendChild(n)})},pg=th?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return Bx(t)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var nh;const tc=window,gg=tc.trustedTypes,Hx=gg?gg.emptyScript:"",mg=tc.reactiveElementPolyfillSupport,ih={toAttribute(r,e){switch(e){case Boolean:r=r?Hx:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},vg=(r,e)=>e!==r&&(e==e||r==r),sh={attribute:!0,type:String,converter:ih,reflect:!1,hasChanged:vg},oh="finalized";class _s extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,n)=>{const i=this._$Ep(n,t);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,t=sh){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const a=this[e];this[t]=i,this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||sh}static finalize(){if(this.hasOwnProperty(oh))return!1;this[oh]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,n=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of n)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)t.unshift(pg(i))}else e!==void 0&&t.push(pg(e));return t}static _$Ep(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,n;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return kx(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostConnected)===null||n===void 0?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostDisconnected)===null||n===void 0?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=sh){var i;const a=this.constructor._$Ep(e,n);if(a!==void 0&&n.reflect===!0){const c=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:ih).toAttribute(t,n.type);this._$El=e,c==null?this.removeAttribute(a):this.setAttribute(a,c),this._$El=null}}_$AK(e,t){var n;const i=this.constructor,a=i._$Ev.get(e);if(a!==void 0&&this._$El!==a){const c=i.getPropertyOptions(a),u=typeof c.converter=="function"?{fromAttribute:c.converter}:((n=c.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?c.converter:ih;this._$El=a,this[a]=u.fromAttribute(t,c.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||vg)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,a)=>this[a]=i),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var a;return(a=i.hostUpdate)===null||a===void 0?void 0:a.call(i)}),this.update(n)):this._$Ek()}catch(i){throw t=!1,this._$Ek(),i}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,n)=>this._$EO(n,this[n],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}_s[oh]=!0,_s.elementProperties=new Map,_s.elementStyles=[],_s.shadowRootOptions={mode:"open"},mg?.({ReactiveElement:_s}),((nh=tc.reactiveElementVersions)!==null&&nh!==void 0?nh:tc.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ah;const rc=window,Es=rc.trustedTypes,yg=Es?Es.createPolicy("lit-html",{createHTML:r=>r}):void 0,ch="$lit$",ci=`lit$${(Math.random()+"").slice(9)}$`,wg="?"+ci,zx=`<${wg}>`,ki=document,Mo=()=>ki.createComment(""),Uo=r=>r===null||typeof r!="object"&&typeof r!="function",bg=Array.isArray,qx=r=>bg(r)||typeof r?.[Symbol.iterator]=="function",lh=`[ 	
\f\r]`,jo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_g=/-->/g,Eg=/>/g,Hi=RegExp(`>|${lh}(?:([^\\s"'>=/]+)(${lh}*=${lh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),xg=/'/g,Sg=/"/g,Dg=/^(?:script|style|textarea|title)$/i,Og=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),ue=Og(1),Tt=Og(2),zi=Symbol.for("lit-noChange"),tr=Symbol.for("lit-nothing"),Cg=new WeakMap,qi=ki.createTreeWalker(ki,129,null,!1);function Ig(r,e){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return yg!==void 0?yg.createHTML(e):e}const Wx=(r,e)=>{const t=r.length-1,n=[];let i,a=e===2?"<svg>":"",c=jo;for(let u=0;u<t;u++){const f=r[u];let p,m,D=-1,y=0;for(;y<f.length&&(c.lastIndex=y,m=c.exec(f),m!==null);)y=c.lastIndex,c===jo?m[1]==="!--"?c=_g:m[1]!==void 0?c=Eg:m[2]!==void 0?(Dg.test(m[2])&&(i=RegExp("</"+m[2],"g")),c=Hi):m[3]!==void 0&&(c=Hi):c===Hi?m[0]===">"?(c=i??jo,D=-1):m[1]===void 0?D=-2:(D=c.lastIndex-m[2].length,p=m[1],c=m[3]===void 0?Hi:m[3]==='"'?Sg:xg):c===Sg||c===xg?c=Hi:c===_g||c===Eg?c=jo:(c=Hi,i=void 0);const S=c===Hi&&r[u+1].startsWith("/>")?" ":"";a+=c===jo?f+zx:D>=0?(n.push(p),f.slice(0,D)+ch+f.slice(D)+ci+S):f+ci+(D===-2?(n.push(void 0),u):S)}return[Ig(r,a+(r[t]||"<?>")+(e===2?"</svg>":"")),n]};class Fo{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let a=0,c=0;const u=e.length-1,f=this.parts,[p,m]=Wx(e,t);if(this.el=Fo.createElement(p,n),qi.currentNode=this.el.content,t===2){const D=this.el.content,y=D.firstChild;y.remove(),D.append(...y.childNodes)}for(;(i=qi.nextNode())!==null&&f.length<u;){if(i.nodeType===1){if(i.hasAttributes()){const D=[];for(const y of i.getAttributeNames())if(y.endsWith(ch)||y.startsWith(ci)){const S=m[c++];if(D.push(y),S!==void 0){const C=i.getAttribute(S.toLowerCase()+ch).split(ci),N=/([.?@])?(.*)/.exec(S);f.push({type:1,index:a,name:N[2],strings:C,ctor:N[1]==="."?Kx:N[1]==="?"?Yx:N[1]==="@"?Zx:nc})}else f.push({type:6,index:a})}for(const y of D)i.removeAttribute(y)}if(Dg.test(i.tagName)){const D=i.textContent.split(ci),y=D.length-1;if(y>0){i.textContent=Es?Es.emptyScript:"";for(let S=0;S<y;S++)i.append(D[S],Mo()),qi.nextNode(),f.push({type:2,index:++a});i.append(D[y],Mo())}}}else if(i.nodeType===8)if(i.data===wg)f.push({type:2,index:a});else{let D=-1;for(;(D=i.data.indexOf(ci,D+1))!==-1;)f.push({type:7,index:a}),D+=ci.length-1}a++}}static createElement(e,t){const n=ki.createElement("template");return n.innerHTML=e,n}}function xs(r,e,t=r,n){var i,a,c,u;if(e===zi)return e;let f=n!==void 0?(i=t._$Co)===null||i===void 0?void 0:i[n]:t._$Cl;const p=Uo(e)?void 0:e._$litDirective$;return f?.constructor!==p&&((a=f?._$AO)===null||a===void 0||a.call(f,!1),p===void 0?f=void 0:(f=new p(r),f._$AT(r,t,n)),n!==void 0?((c=(u=t)._$Co)!==null&&c!==void 0?c:u._$Co=[])[n]=f:t._$Cl=f),f!==void 0&&(e=xs(r,f._$AS(r,e.values),f,n)),e}class Vx{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:i}=this._$AD,a=((t=e?.creationScope)!==null&&t!==void 0?t:ki).importNode(n,!0);qi.currentNode=a;let c=qi.nextNode(),u=0,f=0,p=i[0];for(;p!==void 0;){if(u===p.index){let m;p.type===2?m=new Bo(c,c.nextSibling,this,e):p.type===1?m=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(m=new Jx(c,this,e)),this._$AV.push(m),p=i[++f]}u!==p?.index&&(c=qi.nextNode(),u++)}return qi.currentNode=ki,a}v(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Bo{constructor(e,t,n,i){var a;this.type=2,this._$AH=tr,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cp=(a=i?.isConnected)===null||a===void 0||a}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=xs(this,e,t),Uo(e)?e===tr||e==null||e===""?(this._$AH!==tr&&this._$AR(),this._$AH=tr):e!==this._$AH&&e!==zi&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):qx(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==tr&&Uo(this._$AH)?this._$AA.nextSibling.data=e:this.$(ki.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:i}=e,a=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Fo.createElement(Ig(i.h,i.h[0]),this.options)),i);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===a)this._$AH.v(n);else{const c=new Vx(a,this),u=c.u(this.options);c.v(n),this.$(u),this._$AH=c}}_$AC(e){let t=Cg.get(e.strings);return t===void 0&&Cg.set(e.strings,t=new Fo(e)),t}T(e){bg(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const a of e)i===t.length?t.push(n=new Bo(this.k(Mo()),this.k(Mo()),this,this.options)):n=t[i],n._$AI(a),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,t);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class nc{constructor(e,t,n,i,a){this.type=1,this._$AH=tr,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=a,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=tr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const a=this.strings;let c=!1;if(a===void 0)e=xs(this,e,t,0),c=!Uo(e)||e!==this._$AH&&e!==zi,c&&(this._$AH=e);else{const u=e;let f,p;for(e=a[0],f=0;f<a.length-1;f++)p=xs(this,u[n+f],t,f),p===zi&&(p=this._$AH[f]),c||(c=!Uo(p)||p!==this._$AH[f]),p===tr?e=tr:e!==tr&&(e+=(p??"")+a[f+1]),this._$AH[f]=p}c&&!i&&this.j(e)}j(e){e===tr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Kx extends nc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===tr?void 0:e}}const Gx=Es?Es.emptyScript:"";class Yx extends nc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==tr?this.element.setAttribute(this.name,Gx):this.element.removeAttribute(this.name)}}class Zx extends nc{constructor(e,t,n,i,a){super(e,t,n,i,a),this.type=5}_$AI(e,t=this){var n;if((e=(n=xs(this,e,t,0))!==null&&n!==void 0?n:tr)===zi)return;const i=this._$AH,a=e===tr&&i!==tr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,c=e!==tr&&(i===tr||a);a&&this.element.removeEventListener(this.name,this,i),c&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;typeof this._$AH=="function"?this._$AH.call((n=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class Jx{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){xs(this,e)}}const $g=rc.litHtmlPolyfillSupport;$g?.(Fo,Bo),((ah=rc.litHtmlVersions)!==null&&ah!==void 0?ah:rc.litHtmlVersions=[]).push("2.8.0");const Qx=(r,e,t)=>{var n,i;const a=(n=t?.renderBefore)!==null&&n!==void 0?n:e;let c=a._$litPart$;if(c===void 0){const u=(i=t?.renderBefore)!==null&&i!==void 0?i:null;a._$litPart$=c=new Bo(e.insertBefore(Mo(),u),u,void 0,t??{})}return c._$AI(r),c};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var uh,hh;class Ye extends _s{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Qx(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return zi}}Ye.finalized=!0,Ye._$litElement$=!0,(uh=globalThis.litElementHydrateSupport)===null||uh===void 0||uh.call(globalThis,{LitElement:Ye});const Ag=globalThis.litElementPolyfillSupport;Ag?.({LitElement:Ye}),((hh=globalThis.litElementVersions)!==null&&hh!==void 0?hh:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ot=r=>e=>typeof e=="function"?((t,n)=>(customElements.define(t,n),n))(r,e):((t,n)=>{const{kind:i,elements:a}=n;return{kind:i,elements:a,finisher(c){customElements.define(t,c)}}})(r,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xx=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},eS=(r,e,t)=>{e.constructor.createProperty(t,r)};function Be(r){return(e,t)=>t!==void 0?eS(r,e,t):Xx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Lr(r){return Be({...r,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var fh;((fh=window.HTMLSlotElement)===null||fh===void 0?void 0:fh.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},rS=r=>(...e)=>({_$litDirective$:r,values:e});class nS{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jn=rS(class extends nS{constructor(r){var e;if(super(r),r.type!==tS.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){var t,n;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(a=>a!=="")));for(const a in e)e[a]&&!(!((t=this.nt)===null||t===void 0)&&t.has(a))&&this.it.add(a);return this.render(e)}const i=r.element.classList;this.it.forEach(a=>{a in e||(i.remove(a),this.it.delete(a))});for(const a in e){const c=!!e[a];c===this.it.has(a)||!((n=this.nt)===null||n===void 0)&&n.has(a)||(c?(i.add(a),this.it.add(a)):(i.remove(a),this.it.delete(a)))}return zi}});function iS(r,e){r.indexOf(e)===-1&&r.push(e)}const Pg=(r,e,t)=>Math.min(Math.max(t,r),e),Xr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},ic=r=>typeof r=="number",Ss=r=>Array.isArray(r)&&!ic(r[0]),sS=(r,e,t)=>{const n=e-r;return((t-r)%n+n)%n+r};function oS(r,e){return Ss(r)?r[sS(0,r.length,e)]:r}const Tg=(r,e,t)=>-t*r+t*e+r,Rg=()=>{},li=r=>r,dh=(r,e,t)=>e-r===0?1:(t-r)/(e-r);function Ng(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=dh(0,e,n);r.push(Tg(t,1,i))}}function aS(r){const e=[0];return Ng(e,r-1),e}function cS(r,e=aS(r.length),t=li){const n=r.length,i=n-e.length;return i>0&&Ng(e,i),a=>{let c=0;for(;c<n-2&&!(a<e[c+1]);c++);let u=Pg(0,1,dh(e[c],e[c+1],a));return u=oS(t,c)(u),Tg(r[c],r[c+1],u)}}const Lg=r=>Array.isArray(r)&&ic(r[0]),ph=r=>typeof r=="object"&&!!r.createAnimation,Wi=r=>typeof r=="function",lS=r=>typeof r=="string",ko={ms:r=>r*1e3,s:r=>r/1e3},Mg=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,uS=1e-7,hS=12;function fS(r,e,t,n,i){let a,c,u=0;do c=e+(t-e)/2,a=Mg(c,n,i)-r,a>0?t=c:e=c;while(Math.abs(a)>uS&&++u<hS);return c}function Ho(r,e,t,n){if(r===e&&t===n)return li;const i=a=>fS(a,0,1,r,t);return a=>a===0||a===1?a:Mg(i(a),e,n)}const dS=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const n=t*r,i=e==="end"?Math.floor(n):Math.ceil(n);return Pg(0,1,i/r)},Ug={ease:Ho(.25,.1,.25,1),"ease-in":Ho(.42,0,1,1),"ease-in-out":Ho(.42,0,.58,1),"ease-out":Ho(0,0,.58,1)},pS=/\((.*?)\)/;function jg(r){if(Wi(r))return r;if(Lg(r))return Ho(...r);if(Ug[r])return Ug[r];if(r.startsWith("steps")){const e=pS.exec(r);if(e){const t=e[1].split(",");return dS(parseFloat(t[0]),t[1].trim())}}return li}class Fg{constructor(e,t=[0,1],{easing:n,duration:i=Xr.duration,delay:a=Xr.delay,endDelay:c=Xr.endDelay,repeat:u=Xr.repeat,offset:f,direction:p="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=li,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((D,y)=>{this.resolve=D,this.reject=y}),n=n||Xr.easing,ph(n)){const D=n.createAnimation(t);n=D.easing,t=D.keyframes||t,i=D.duration||i}this.repeat=u,this.easing=Ss(n)?li:jg(n),this.updateDuration(i);const m=cS(t,f,Ss(n)?n.map(jg):li);this.tick=D=>{var y;a=a;let S=0;this.pauseTime!==void 0?S=this.pauseTime:S=(D-this.startTime)*this.rate,this.t=S,S/=1e3,S=Math.max(S-a,0),this.playState==="finished"&&this.pauseTime===void 0&&(S=this.totalDuration);const C=S/this.duration;let N=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&N--;const H=N%2;(p==="reverse"||p==="alternate"&&H||p==="alternate-reverse"&&!H)&&(U=1-U);const $=S>=this.totalDuration?1:Math.min(U,1),P=m(this.easing($));e(P),this.pauseTime===void 0&&(this.playState==="finished"||S>=this.totalDuration+c)?(this.playState="finished",(y=this.resolve)===null||y===void 0||y.call(this,P)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}var gh=function(){};process.env.NODE_ENV!=="production"&&(gh=function(r,e){if(!r)throw new Error(e)});class gS{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const mh=new WeakMap;function Bg(r){return mh.has(r)||mh.set(r,{transforms:[],values:new Map}),mh.get(r)}function mS(r,e){return r.has(e)||r.set(e,new gS),r.get(e)}const vS=["","X","Y","Z"],yS=["translate","scale","rotate","skew"],sc={x:"translateX",y:"translateY",z:"translateZ"},kg={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},wS={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:kg,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:li},skew:kg},zo=new Map,vh=r=>`--motion-${r}`,oc=["x","y","z"];yS.forEach(r=>{vS.forEach(e=>{oc.push(r+e),zo.set(vh(r+e),wS[r])})});const bS=(r,e)=>oc.indexOf(r)-oc.indexOf(e),_S=new Set(oc),Hg=r=>_S.has(r),ES=(r,e)=>{sc[e]&&(e=sc[e]);const{transforms:t}=Bg(r);iS(t,e),r.style.transform=xS(t)},xS=r=>r.sort(bS).reduce(SS,"").trim(),SS=(r,e)=>`${r} ${e}(var(${vh(e)}))`,yh=r=>r.startsWith("--"),zg=new Set;function DS(r){if(!zg.has(r)){zg.add(r);try{const{syntax:e,initialValue:t}=zo.has(r)?zo.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}const wh=(r,e)=>document.createElement("div").animate(r,e),qg={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{wh({opacity:[1]})}catch{return!1}return!0},finished:()=>!!wh({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{wh({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},bh={},Ds={};for(const r in qg)Ds[r]=()=>(bh[r]===void 0&&(bh[r]=qg[r]()),bh[r]);const OS=.015,CS=(r,e)=>{let t="";const n=Math.round(e/OS);for(let i=0;i<n;i++)t+=r(dh(0,n-1,i))+", ";return t.substring(0,t.length-2)},Wg=(r,e)=>Wi(r)?Ds.linearEasing()?`linear(${CS(r,e)})`:Xr.easing:Lg(r)?IS(r):r,IS=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`;function $S(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}const AS=r=>Array.isArray(r)?r:[r];function _h(r){return sc[r]&&(r=sc[r]),Hg(r)?vh(r):r}const ac={get:(r,e)=>{e=_h(e);let t=yh(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){const n=zo.get(e);n&&(t=n.initialValue)}return t},set:(r,e,t)=>{e=_h(e),yh(e)?r.style.setProperty(e,t):r.style[e]=t}};function Vg(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}function PS(r,e){var t;let n=e?.toDefaultUnit||li;const i=r[r.length-1];if(lS(i)){const a=((t=i.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";a&&(n=c=>c+a)}return n}function TS(){return window.__MOTION_DEV_TOOLS_RECORD}function RS(r,e,t,n={},i){const a=TS(),c=n.record!==!1&&a;let u,{duration:f=Xr.duration,delay:p=Xr.delay,endDelay:m=Xr.endDelay,repeat:D=Xr.repeat,easing:y=Xr.easing,persist:S=!1,direction:C,offset:N,allowWebkitAcceleration:U=!1}=n;const H=Bg(r),$=Hg(e);let P=Ds.waapi();$&&ES(r,e);const O=_h(e),A=mS(H.values,O),E=zo.get(O);return Vg(A.animation,!(ph(y)&&A.generator)&&n.record!==!1),()=>{const h=()=>{var W,V;return(V=(W=ac.get(r,O))!==null&&W!==void 0?W:E?.initialValue)!==null&&V!==void 0?V:0};let b=$S(AS(t),h);const K=PS(b,E);if(ph(y)){const W=y.createAnimation(b,e!=="opacity",h,O,A);y=W.easing,b=W.keyframes||b,f=W.duration||f}if(yh(O)&&(Ds.cssRegisterProperty()?DS(O):P=!1),$&&!Ds.linearEasing()&&(Wi(y)||Ss(y)&&y.some(Wi))&&(P=!1),P){E&&(b=b.map(J=>ic(J)?E.toDefaultUnit(J):J)),b.length===1&&(!Ds.partialKeyframes()||c)&&b.unshift(h());const W={delay:ko.ms(p),duration:ko.ms(f),endDelay:ko.ms(m),easing:Ss(y)?void 0:Wg(y,f),direction:C,iterations:D+1,fill:"both"};u=r.animate({[O]:b,offset:N,easing:Ss(y)?y.map(J=>Wg(J,f)):void 0},W),u.finished||(u.finished=new Promise((J,ne)=>{u.onfinish=J,u.oncancel=ne}));const V=b[b.length-1];u.finished.then(()=>{S||(ac.set(r,O,V),u.cancel())}).catch(Rg),U||(u.playbackRate=1.000001)}else if(i&&$)b=b.map(W=>typeof W=="string"?parseFloat(W):W),b.length===1&&b.unshift(parseFloat(h())),u=new i(W=>{ac.set(r,O,K?K(W):W)},b,Object.assign(Object.assign({},n),{duration:f,easing:y}));else{const W=b[b.length-1];ac.set(r,O,E&&ic(W)?E.toDefaultUnit(W):W)}return c&&a(r,e,b,{duration:f,delay:p,easing:y,repeat:D,offset:N},"motion-one"),A.setAnimation(u),u}}const NS=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r);function Kg(r,e){var t;return typeof r=="string"?e?((t=e[r])!==null&&t!==void 0||(e[r]=document.querySelectorAll(r)),r=e[r]):r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}const LS=r=>r(),Gg=(r,e,t=Xr.duration)=>new Proxy({animations:r.map(LS).filter(Boolean),duration:t,options:e},US),MS=r=>r.animations[0],US={get:(r,e)=>{const t=MS(r);switch(e){case"duration":return r.duration;case"currentTime":return ko.s(t?.[e]||0);case"playbackRate":case"playState":return t?.[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(jS)).catch(Rg)),r.finished;case"stop":return()=>{r.animations.forEach(n=>Vg(n))};case"forEachNative":return n=>{r.animations.forEach(i=>n(i,r))};default:return typeof t?.[e]>"u"?void 0:()=>r.animations.forEach(n=>n[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=ko.ms(t);case"currentTime":case"playbackRate":for(let n=0;n<r.animations.length;n++)r.animations[n][e]=t;return!0}return!1}},jS=r=>r.finished;function FS(r,e,t){return Wi(r)?r(e,t):r}function BS(r){return function(t,n,i={}){t=Kg(t);const a=t.length;gh(!!a,"No valid element provided."),gh(!!n,"No keyframes defined.");const c=[];for(let u=0;u<a;u++){const f=t[u];for(const p in n){const m=NS(i,p);m.delay=FS(m.delay,u,a);const D=RS(f,p,n[p],m,r);c.push(D)}}return Gg(c,i,i.duration)}}const kS=BS(Fg);function HS(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}const zS={any:0,all:1};function qS(r,e,{root:t,margin:n,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const a=Kg(r),c=new WeakMap,u=p=>{p.forEach(m=>{const D=c.get(m.target);if(m.isIntersecting!==!!D)if(m.isIntersecting){const y=e(m);Wi(y)?c.set(m.target,y):f.unobserve(m.target)}else D&&(D(m),c.delete(m.target))})},f=new IntersectionObserver(u,{root:t,rootMargin:n,threshold:typeof i=="number"?i:zS[i]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function Eh(r,e,t){r.dispatchEvent(new CustomEvent(e,{detail:{originalEvent:t}}))}function Yg(r,e,t){r.dispatchEvent(new CustomEvent(e,{detail:{originalEntry:t}}))}const WS={isActive:r=>!!r.inView,subscribe:(r,{enable:e,disable:t},{inViewOptions:n={}})=>{const{once:i}=n,a=HS(n,["once"]);return qS(r,c=>{if(e(),Yg(r,"viewenter",c),!i)return u=>{t(),Yg(r,"viewleave",u)}},a)}},Zg=(r,e,t)=>n=>{n.pointerType&&n.pointerType!=="mouse"||(t(),Eh(r,e,n))};[...Object.keys({inView:WS,hover:{isActive:r=>!!r.hover,subscribe:(r,{enable:e,disable:t})=>{const n=Zg(r,"hoverstart",e),i=Zg(r,"hoverend",t);return r.addEventListener("pointerenter",n),r.addEventListener("pointerleave",i),()=>{r.removeEventListener("pointerenter",n),r.removeEventListener("pointerleave",i)}}},press:{isActive:r=>!!r.press,subscribe:(r,{enable:e,disable:t})=>{const n=a=>{t(),Eh(r,"pressend",a),window.removeEventListener("pointerup",n)},i=a=>{e(),Eh(r,"pressstart",a),window.addEventListener("pointerup",n)};return r.addEventListener("pointerdown",i),()=>{r.removeEventListener("pointerdown",i),window.removeEventListener("pointerup",n)}}}})];function VS(r,e={}){return Gg([()=>{const t=new Fg(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function Vi(r,e,t){return(Wi(r)?VS:kS)(r,e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xr=r=>r??tr;var qo={},KS=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Jg={},qr={};let xh;const GS=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];qr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},qr.getSymbolTotalCodewords=function(e){return GS[e]},qr.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e},qr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');xh=e},qr.isKanjiModeEnabled=function(){return typeof xh<"u"},qr.toSJIS=function(e){return xh(e)};var cc={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,i){if(r.isValid(n))return n;try{return e(n)}catch{return i}}})(cc);function Qg(){this.buffer=[],this.length=0}Qg.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var YS=Qg;function Wo(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}Wo.prototype.set=function(r,e,t,n){const i=r*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)},Wo.prototype.get=function(r,e){return this.data[r*this.size+e]},Wo.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t},Wo.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var ZS=Wo,Xg={};(function(r){const e=qr.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=e(n),c=a===145?26:Math.ceil((a-13)/(2*i-2))*2,u=[a-7];for(let f=1;f<i-1;f++)u[f]=u[f-1]-c;return u.push(6),u.reverse()},r.getPositions=function(n){const i=[],a=r.getRowColCoords(n),c=a.length;for(let u=0;u<c;u++)for(let f=0;f<c;f++)u===0&&f===0||u===0&&f===c-1||u===c-1&&f===0||i.push([a[u],a[f]]);return i}})(Xg);var em={};const JS=qr.getSymbolSize,tm=7;em.getPositions=function(e){const t=JS(e);return[[0,0],[t-tm,0],[0,t-tm]]};var rm={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const a=i.size;let c=0,u=0,f=0,p=null,m=null;for(let D=0;D<a;D++){u=f=0,p=m=null;for(let y=0;y<a;y++){let S=i.get(D,y);S===p?u++:(u>=5&&(c+=e.N1+(u-5)),p=S,u=1),S=i.get(y,D),S===m?f++:(f>=5&&(c+=e.N1+(f-5)),m=S,f=1)}u>=5&&(c+=e.N1+(u-5)),f>=5&&(c+=e.N1+(f-5))}return c},r.getPenaltyN2=function(i){const a=i.size;let c=0;for(let u=0;u<a-1;u++)for(let f=0;f<a-1;f++){const p=i.get(u,f)+i.get(u,f+1)+i.get(u+1,f)+i.get(u+1,f+1);(p===4||p===0)&&c++}return c*e.N2},r.getPenaltyN3=function(i){const a=i.size;let c=0,u=0,f=0;for(let p=0;p<a;p++){u=f=0;for(let m=0;m<a;m++)u=u<<1&2047|i.get(p,m),m>=10&&(u===1488||u===93)&&c++,f=f<<1&2047|i.get(m,p),m>=10&&(f===1488||f===93)&&c++}return c*e.N3},r.getPenaltyN4=function(i){let a=0;const c=i.data.length;for(let f=0;f<c;f++)a+=i.data[f];return Math.abs(Math.ceil(a*100/c/5)-10)*e.N4};function t(n,i,a){switch(n){case r.Patterns.PATTERN000:return(i+a)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return a%3===0;case r.Patterns.PATTERN011:return(i+a)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case r.Patterns.PATTERN101:return i*a%2+i*a%3===0;case r.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case r.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(i,a){const c=a.size;for(let u=0;u<c;u++)for(let f=0;f<c;f++)a.isReserved(f,u)||a.xor(f,u,t(i,f,u))},r.getBestMask=function(i,a){const c=Object.keys(r.Patterns).length;let u=0,f=1/0;for(let p=0;p<c;p++){a(p),r.applyMask(p,i);const m=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(p,i),m<f&&(f=m,u=p)}return u}})(rm);var lc={};const ui=cc,uc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],hc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];lc.getBlocksCount=function(e,t){switch(t){case ui.L:return uc[(e-1)*4+0];case ui.M:return uc[(e-1)*4+1];case ui.Q:return uc[(e-1)*4+2];case ui.H:return uc[(e-1)*4+3];default:return}},lc.getTotalCodewordsCount=function(e,t){switch(t){case ui.L:return hc[(e-1)*4+0];case ui.M:return hc[(e-1)*4+1];case ui.Q:return hc[(e-1)*4+2];case ui.H:return hc[(e-1)*4+3];default:return}};var nm={},fc={};const Vo=new Uint8Array(512),dc=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Vo[t]=e,dc[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Vo[t]=Vo[t-255]})(),fc.log=function(e){if(e<1)throw new Error("log("+e+")");return dc[e]},fc.exp=function(e){return Vo[e]},fc.mul=function(e,t){return e===0||t===0?0:Vo[dc[e]+dc[t]]},function(r){const e=fc;r.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let c=0;c<n.length;c++)for(let u=0;u<i.length;u++)a[c+u]^=e.mul(n[c],i[u]);return a},r.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const c=a[0];for(let f=0;f<i.length;f++)a[f]^=e.mul(i[f],c);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},r.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=r.mul(i,new Uint8Array([1,e.exp(a)]));return i}}(nm);const im=nm;function Sh(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Sh.prototype.initialize=function(e){this.degree=e,this.genPoly=im.generateECPolynomial(this.degree)},Sh.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=im.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var QS=Sh,sm={},hi={},Dh={};Dh.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Dn={};const om="[0-9]+",XS="[A-Z $%*+\\-./:]+";let Ko="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ko=Ko.replace(/u/g,"\\u");const eD="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ko+`)(?:.|[\r
]))+`;Dn.KANJI=new RegExp(Ko,"g"),Dn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Dn.BYTE=new RegExp(eD,"g"),Dn.NUMERIC=new RegExp(om,"g"),Dn.ALPHANUMERIC=new RegExp(XS,"g");const tD=new RegExp("^"+Ko+"$"),rD=new RegExp("^"+om+"$"),nD=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Dn.testKanji=function(e){return tD.test(e)},Dn.testNumeric=function(e){return rD.test(e)},Dn.testAlphanumeric=function(e){return nD.test(e)},function(r){const e=Dh,t=Dn;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},r.getBestModeForData=function(a){return t.testNumeric(a)?r.NUMERIC:t.testAlphanumeric(a)?r.ALPHANUMERIC:t.testKanji(a)?r.KANJI:r.BYTE},r.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},r.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(a,c){if(r.isValid(a))return a;try{return n(a)}catch{return c}}}(hi),function(r){const e=qr,t=lc,n=cc,i=hi,a=Dh,c=7973,u=e.getBCHDigit(c);function f(y,S,C){for(let N=1;N<=40;N++)if(S<=r.getCapacity(N,C,y))return N}function p(y,S){return i.getCharCountIndicator(y,S)+4}function m(y,S){let C=0;return y.forEach(function(N){const U=p(N.mode,S);C+=U+N.getBitsLength()}),C}function D(y,S){for(let C=1;C<=40;C++)if(m(y,C)<=r.getCapacity(C,S,i.MIXED))return C}r.from=function(S,C){return a.isValid(S)?parseInt(S,10):C},r.getCapacity=function(S,C,N){if(!a.isValid(S))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=i.BYTE);const U=e.getSymbolTotalCodewords(S),H=t.getTotalCodewordsCount(S,C),$=(U-H)*8;if(N===i.MIXED)return $;const P=$-p(N,S);switch(N){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},r.getBestVersionForData=function(S,C){let N;const U=n.from(C,n.M);if(Array.isArray(S)){if(S.length>1)return D(S,U);if(S.length===0)return 1;N=S[0]}else N=S;return f(N.mode,N.getLength(),U)},r.getEncodedBits=function(S){if(!a.isValid(S)||S<7)throw new Error("Invalid QR Code version");let C=S<<12;for(;e.getBCHDigit(C)-u>=0;)C^=c<<e.getBCHDigit(C)-u;return S<<12|C}}(sm);var am={};const Oh=qr,cm=1335,iD=21522,lm=Oh.getBCHDigit(cm);am.getEncodedBits=function(e,t){const n=e.bit<<3|t;let i=n<<10;for(;Oh.getBCHDigit(i)-lm>=0;)i^=cm<<Oh.getBCHDigit(i)-lm;return(n<<10|i)^iD};var um={};const sD=hi;function Os(r){this.mode=sD.NUMERIC,this.data=r.toString()}Os.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},Os.prototype.getLength=function(){return this.data.length},Os.prototype.getBitsLength=function(){return Os.getBitsLength(this.data.length)},Os.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,a*3+1))};var oD=Os;const aD=hi,Ch=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Cs(r){this.mode=aD.ALPHANUMERIC,this.data=r}Cs.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},Cs.prototype.getLength=function(){return this.data.length},Cs.prototype.getBitsLength=function(){return Cs.getBitsLength(this.data.length)},Cs.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=Ch.indexOf(this.data[t])*45;n+=Ch.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Ch.indexOf(this.data[t]),6)};var cD=Cs,lD=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);if(a>=55296&&a<=56319&&n>i+1){var c=e.charCodeAt(i+1);c>=56320&&c<=57343&&(a=(a-55296)*1024+c-56320+65536,i+=1)}if(a<128){t.push(a);continue}if(a<2048){t.push(a>>6|192),t.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){t.push(a>>12|224),t.push(a>>6&63|128),t.push(a&63|128);continue}if(a>=65536&&a<=1114111){t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const uD=lD,hD=hi;function Is(r){this.mode=hD.BYTE,typeof r=="string"&&(r=uD(r)),this.data=new Uint8Array(r)}Is.getBitsLength=function(e){return e*8},Is.prototype.getLength=function(){return this.data.length},Is.prototype.getBitsLength=function(){return Is.getBitsLength(this.data.length)},Is.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};var fD=Is;const dD=hi,pD=qr;function $s(r){this.mode=dD.KANJI,this.data=r}$s.getBitsLength=function(e){return e*13},$s.prototype.getLength=function(){return this.data.length},$s.prototype.getBitsLength=function(){return $s.getBitsLength(this.data.length)},$s.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=pD.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};var gD=$s,hm={exports:{}};(function(r){var e={single_source_shortest_paths:function(t,n,i){var a={},c={};c[n]=0;var u=e.PriorityQueue.make();u.push(n,0);for(var f,p,m,D,y,S,C,N,U;!u.empty();){f=u.pop(),p=f.value,D=f.cost,y=t[p]||{};for(m in y)y.hasOwnProperty(m)&&(S=y[m],C=D+S,N=c[m],U=typeof c[m]>"u",(U||N>C)&&(c[m]=C,u.push(m,C),a[m]=p))}if(typeof i<"u"&&typeof c[i]>"u"){var H=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(H)}return a},extract_shortest_path_from_predecessor_list:function(t,n){for(var i=[],a=n;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,n,i){var a=e.single_source_shortest_paths(t,n,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,i={},a;t=t||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var i={value:t,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(hm),function(r){const e=hi,t=oD,n=cD,i=fD,a=gD,c=Dn,u=qr,f=hm.exports;function p(H){return unescape(encodeURIComponent(H)).length}function m(H,$,P){const O=[];let A;for(;(A=H.exec(P))!==null;)O.push({data:A[0],index:A.index,mode:$,length:A[0].length});return O}function D(H){const $=m(c.NUMERIC,e.NUMERIC,H),P=m(c.ALPHANUMERIC,e.ALPHANUMERIC,H);let O,A;return u.isKanjiModeEnabled()?(O=m(c.BYTE,e.BYTE,H),A=m(c.KANJI,e.KANJI,H)):(O=m(c.BYTE_KANJI,e.BYTE,H),A=[]),$.concat(P,O,A).sort(function(h,b){return h.index-b.index}).map(function(h){return{data:h.data,mode:h.mode,length:h.length}})}function y(H,$){switch($){case e.NUMERIC:return t.getBitsLength(H);case e.ALPHANUMERIC:return n.getBitsLength(H);case e.KANJI:return a.getBitsLength(H);case e.BYTE:return i.getBitsLength(H)}}function S(H){return H.reduce(function($,P){const O=$.length-1>=0?$[$.length-1]:null;return O&&O.mode===P.mode?($[$.length-1].data+=P.data,$):($.push(P),$)},[])}function C(H){const $=[];for(let P=0;P<H.length;P++){const O=H[P];switch(O.mode){case e.NUMERIC:$.push([O,{data:O.data,mode:e.ALPHANUMERIC,length:O.length},{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.ALPHANUMERIC:$.push([O,{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.KANJI:$.push([O,{data:O.data,mode:e.BYTE,length:p(O.data)}]);break;case e.BYTE:$.push([{data:O.data,mode:e.BYTE,length:p(O.data)}])}}return $}function N(H,$){const P={},O={start:{}};let A=["start"];for(let E=0;E<H.length;E++){const h=H[E],b=[];for(let K=0;K<h.length;K++){const W=h[K],V=""+E+K;b.push(V),P[V]={node:W,lastCount:0},O[V]={};for(let J=0;J<A.length;J++){const ne=A[J];P[ne]&&P[ne].node.mode===W.mode?(O[ne][V]=y(P[ne].lastCount+W.length,W.mode)-y(P[ne].lastCount,W.mode),P[ne].lastCount+=W.length):(P[ne]&&(P[ne].lastCount=W.length),O[ne][V]=y(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,$))}}A=b}for(let E=0;E<A.length;E++)O[A[E]].end=0;return{map:O,table:P}}function U(H,$){let P;const O=e.getBestModeForData(H);if(P=e.from($,O),P!==e.BYTE&&P.bit<O.bit)throw new Error('"'+H+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(O));switch(P===e.KANJI&&!u.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new t(H);case e.ALPHANUMERIC:return new n(H);case e.KANJI:return new a(H);case e.BYTE:return new i(H)}}r.fromArray=function($){return $.reduce(function(P,O){return typeof O=="string"?P.push(U(O,null)):O.data&&P.push(U(O.data,O.mode)),P},[])},r.fromString=function($,P){const O=D($,u.isKanjiModeEnabled()),A=C(O),E=N(A,P),h=f.find_path(E.map,"start","end"),b=[];for(let K=1;K<h.length-1;K++)b.push(E.table[h[K]].node);return r.fromArray(S(b))},r.rawSplit=function($){return r.fromArray(D($,u.isKanjiModeEnabled()))}}(um);const pc=qr,Ih=cc,mD=YS,vD=ZS,yD=Xg,wD=em,$h=rm,Ah=lc,bD=QS,gc=sm,_D=am,ED=hi,Ph=um;function xD(r,e){const t=r.size,n=wD.getPositions(e);for(let i=0;i<n.length;i++){const a=n[i][0],c=n[i][1];for(let u=-1;u<=7;u++)if(!(a+u<=-1||t<=a+u))for(let f=-1;f<=7;f++)c+f<=-1||t<=c+f||(u>=0&&u<=6&&(f===0||f===6)||f>=0&&f<=6&&(u===0||u===6)||u>=2&&u<=4&&f>=2&&f<=4?r.set(a+u,c+f,!0,!0):r.set(a+u,c+f,!1,!0))}}function SD(r){const e=r.size;for(let t=8;t<e-8;t++){const n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function DD(r,e){const t=yD.getPositions(e);for(let n=0;n<t.length;n++){const i=t[n][0],a=t[n][1];for(let c=-2;c<=2;c++)for(let u=-2;u<=2;u++)c===-2||c===2||u===-2||u===2||c===0&&u===0?r.set(i+c,a+u,!0,!0):r.set(i+c,a+u,!1,!0)}}function OD(r,e){const t=r.size,n=gc.getEncodedBits(e);let i,a,c;for(let u=0;u<18;u++)i=Math.floor(u/3),a=u%3+t-8-3,c=(n>>u&1)===1,r.set(i,a,c,!0),r.set(a,i,c,!0)}function Th(r,e,t){const n=r.size,i=_D.getEncodedBits(e,t);let a,c;for(a=0;a<15;a++)c=(i>>a&1)===1,a<6?r.set(a,8,c,!0):a<8?r.set(a+1,8,c,!0):r.set(n-15+a,8,c,!0),a<8?r.set(8,n-a-1,c,!0):a<9?r.set(8,15-a-1+1,c,!0):r.set(8,15-a-1,c,!0);r.set(n-8,8,1,!0)}function CD(r,e){const t=r.size;let n=-1,i=t-1,a=7,c=0;for(let u=t-1;u>0;u-=2)for(u===6&&u--;;){for(let f=0;f<2;f++)if(!r.isReserved(i,u-f)){let p=!1;c<e.length&&(p=(e[c]>>>a&1)===1),r.set(i,u-f,p),a--,a===-1&&(c++,a=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function ID(r,e,t){const n=new mD;t.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),ED.getCharCountIndicator(f.mode,r)),f.write(n)});const i=pc.getSymbolTotalCodewords(r),a=Ah.getTotalCodewordsCount(r,e),c=(i-a)*8;for(n.getLengthInBits()+4<=c&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const u=(c-n.getLengthInBits())/8;for(let f=0;f<u;f++)n.put(f%2?17:236,8);return $D(n,r,e)}function $D(r,e,t){const n=pc.getSymbolTotalCodewords(e),i=Ah.getTotalCodewordsCount(e,t),a=n-i,c=Ah.getBlocksCount(e,t),u=n%c,f=c-u,p=Math.floor(n/c),m=Math.floor(a/c),D=m+1,y=p-m,S=new bD(y);let C=0;const N=new Array(c),U=new Array(c);let H=0;const $=new Uint8Array(r.buffer);for(let h=0;h<c;h++){const b=h<f?m:D;N[h]=$.slice(C,C+b),U[h]=S.encode(N[h]),C+=b,H=Math.max(H,b)}const P=new Uint8Array(n);let O=0,A,E;for(A=0;A<H;A++)for(E=0;E<c;E++)A<N[E].length&&(P[O++]=N[E][A]);for(A=0;A<y;A++)for(E=0;E<c;E++)P[O++]=U[E][A];return P}function AD(r,e,t,n){let i;if(Array.isArray(r))i=Ph.fromArray(r);else if(typeof r=="string"){let p=e;if(!p){const m=Ph.rawSplit(r);p=gc.getBestVersionForData(m,t)}i=Ph.fromString(r,p||40)}else throw new Error("Invalid data");const a=gc.getBestVersionForData(i,t);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const c=ID(e,t,i),u=pc.getSymbolSize(e),f=new vD(u);return xD(f,e),SD(f),DD(f,e),Th(f,t,0),e>=7&&OD(f,e),CD(f,c),isNaN(n)&&(n=$h.getBestMask(f,Th.bind(null,f,t))),$h.applyMask(n,f),Th(f,t,n),{modules:f,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}Jg.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Ih.M,i,a;return typeof t<"u"&&(n=Ih.from(t.errorCorrectionLevel,Ih.M),i=gc.from(t.version),a=$h.from(t.maskPattern),t.toSJISFunc&&pc.setToSJISFunction(t.toSJISFunc)),AD(e,i,n,a)};var fm={},Rh={};(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,c=n.scale||4;return{width:a,scale:a?4:c,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},r.getImageWidth=function(n,i){const a=r.getScale(n,i);return Math.floor((n+i.margin*2)*a)},r.qrToImageData=function(n,i,a){const c=i.modules.size,u=i.modules.data,f=r.getScale(c,a),p=Math.floor((c+a.margin*2)*f),m=a.margin*f,D=[a.color.light,a.color.dark];for(let y=0;y<p;y++)for(let S=0;S<p;S++){let C=(y*p+S)*4,N=a.color.light;if(y>=m&&S>=m&&y<p-m&&S<p-m){const U=Math.floor((y-m)/f),H=Math.floor((S-m)/f);N=D[u[U*c+H]?1:0]}n[C++]=N.r,n[C++]=N.g,n[C++]=N.b,n[C]=N.a}}})(Rh),function(r){const e=Rh;function t(i,a,c){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(a,c,u){let f=u,p=c;typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),c||(p=n()),f=e.getOptions(f);const m=e.getImageWidth(a.modules.size,f),D=p.getContext("2d"),y=D.createImageData(m,m);return e.qrToImageData(y.data,a,f),t(D,p,m),D.putImageData(y,0,0),p},r.renderToDataURL=function(a,c,u){let f=u;typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),f||(f={});const p=r.render(a,c,f),m=f.type||"image/png",D=f.rendererOpts||{};return p.toDataURL(m,D.quality)}}(fm);var dm={};const PD=Rh;function pm(r,e){const t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function Nh(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function TD(r,e,t){let n="",i=0,a=!1,c=0;for(let u=0;u<r.length;u++){const f=Math.floor(u%e),p=Math.floor(u/e);!f&&!a&&(a=!0),r[u]?(c++,u>0&&f>0&&r[u-1]||(n+=a?Nh("M",f+t,.5+p+t):Nh("m",i,0),i=0,a=!1),f+1<e&&r[u+1]||(n+=Nh("h",c),c=0)):i++}return n}dm.render=function(e,t,n){const i=PD.getOptions(t),a=e.modules.size,c=e.modules.data,u=a+i.margin*2,f=i.color.light.a?"<path "+pm(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",p="<path "+pm(i.color.dark,"stroke")+' d="'+TD(c,a,i.margin)+'"/>',m='viewBox="0 0 '+u+" "+u+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+m+' shape-rendering="crispEdges">'+f+p+`</svg>
`;return typeof n=="function"&&n(null,y),y};const RD=KS,Lh=Jg,gm=fm,ND=dm;function Mh(r,e,t,n,i){const a=[].slice.call(arguments,1),c=a.length,u=typeof a[c-1]=="function";if(!u&&!RD())throw new Error("Callback required as last argument");if(u){if(c<2)throw new Error("Too few arguments provided");c===2?(i=t,t=e,e=n=void 0):c===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(t=e,e=n=void 0):c===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(f,p){try{const m=Lh.create(t,n);f(r(m,e,n))}catch(m){p(m)}})}try{const f=Lh.create(t,n);i(null,r(f,e,n))}catch(f){i(f)}}qo.create=Lh.create,qo.toCanvas=Mh.bind(null,gm.render),qo.toDataURL=Mh.bind(null,gm.renderToDataURL),qo.toString=Mh.bind(null,function(r,e,t){return ND.render(r,t)});var LD=Object.defineProperty,mm=Object.getOwnPropertySymbols,MD=Object.prototype.hasOwnProperty,UD=Object.prototype.propertyIsEnumerable,vm=(r,e,t)=>e in r?LD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Uh=(r,e)=>{for(var t in e||(e={}))MD.call(e,t)&&vm(r,t,e[t]);if(mm)for(var t of mm(e))UD.call(e,t)&&vm(r,t,e[t]);return r};function jD(){var r;const e=(r=oi.state.themeMode)!=null?r:"dark",t={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":t.foreground[1],"--wcm-color-fg-2":t.foreground[2],"--wcm-color-fg-3":t.foreground[3],"--wcm-color-bg-1":t.background[1],"--wcm-color-bg-2":t.background[2],"--wcm-color-bg-3":t.background[3],"--wcm-color-overlay":t.overlay}}function ym(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const rt={getPreset(r){return ym()[r]},setTheme(){const r=document.querySelector(":root"),{themeVariables:e}=oi.state;if(r){const t=Uh(Uh(Uh({},jD()),ym()),e);Object.entries(t).forEach(([n,i])=>r.style.setProperty(n,i))}},globalCss:lt`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},FD=lt`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var BD=Object.defineProperty,kD=Object.getOwnPropertyDescriptor,As=(r,e,t,n)=>{for(var i=n>1?void 0:n?kD(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&BD(e,t,i),i};let fi=class extends Ye{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),ue`<button class="${jn(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};fi.styles=[rt.globalCss,FD],As([Be({type:Boolean})],fi.prototype,"disabled",2),As([Be()],fi.prototype,"iconLeft",2),As([Be()],fi.prototype,"iconRight",2),As([Be()],fi.prototype,"onClick",2),As([Be()],fi.prototype,"variant",2),fi=As([ot("wcm-button")],fi);const HD=lt`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var zD=Object.defineProperty,qD=Object.getOwnPropertyDescriptor,jh=(r,e,t,n)=>{for(var i=n>1?void 0:n?qD(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&zD(e,t,i),i};let Go=class extends Ye{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const r={"wcm-secondary":this.variant==="secondary"};return ue`<button ?disabled="${this.disabled}" class="${jn(r)}"><slot></slot></button>`}};Go.styles=[rt.globalCss,HD],jh([Be({type:Boolean})],Go.prototype,"disabled",2),jh([Be()],Go.prototype,"variant",2),Go=jh([ot("wcm-button-big")],Go);const WD=lt`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var VD=Object.defineProperty,KD=Object.getOwnPropertyDescriptor,GD=(r,e,t,n)=>{for(var i=n>1?void 0:n?KD(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&VD(e,t,i),i};let Fh=class extends Ye{render(){return ue`<div><slot></slot></div>`}};Fh.styles=[rt.globalCss,WD],Fh=GD([ot("wcm-info-footer")],Fh);const ht={CROSS_ICON:Tt`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:Tt`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:Tt`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:Tt`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:Tt`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:Tt`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:Tt`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:Tt`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:Tt`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:Tt`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:Tt`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:Tt`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:Tt`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:Tt`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:Tt`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:Tt`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:Tt`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:Tt`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},YD=lt`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var ZD=Object.defineProperty,JD=Object.getOwnPropertyDescriptor,QD=(r,e,t,n)=>{for(var i=n>1?void 0:n?JD(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&ZD(e,t,i),i};let Bh=class extends Ye{render(){return ue`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${ht.WALLET_CONNECT_LOGO} <button @click="${Fi.close}">${ht.CROSS_ICON}</button></div>`}};Bh.styles=[rt.globalCss,YD],Bh=QD([ot("wcm-modal-backcard")],Bh);const XD=lt`main{padding:20px;padding-top:0;width:100%}`;var eO=Object.defineProperty,tO=Object.getOwnPropertyDescriptor,rO=(r,e,t,n)=>{for(var i=n>1?void 0:n?tO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&eO(e,t,i),i};let kh=class extends Ye{render(){return ue`<main><slot></slot></main>`}};kh.styles=[rt.globalCss,XD],kh=rO([ot("wcm-modal-content")],kh);const nO=lt`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var iO=Object.defineProperty,sO=Object.getOwnPropertyDescriptor,oO=(r,e,t,n)=>{for(var i=n>1?void 0:n?sO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&iO(e,t,i),i};let Hh=class extends Ye{render(){return ue`<footer><slot></slot></footer>`}};Hh.styles=[rt.globalCss,nO],Hh=oO([ot("wcm-modal-footer")],Hh);const aO=lt`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var cO=Object.defineProperty,lO=Object.getOwnPropertyDescriptor,Yo=(r,e,t,n)=>{for(var i=n>1?void 0:n?lO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&cO(e,t,i),i};let Ki=class extends Ye{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return ue`<button class="wcm-back-btn" @click="${$t.goBack}">${ht.BACK_ICON}</button>`}actionBtnTemplate(){return ue`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const r={"wcm-border":this.border},e=$t.state.history.length>1,t=this.title?ue`<wcm-text variant="big-bold">${this.title}</wcm-text>`:ue`<slot></slot>`;return ue`<header class="${jn(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Ki.styles=[rt.globalCss,aO],Yo([Be()],Ki.prototype,"title",2),Yo([Be()],Ki.prototype,"onAction",2),Yo([Be()],Ki.prototype,"actionIcon",2),Yo([Be({type:Boolean})],Ki.prototype,"border",2),Ki=Yo([ot("wcm-modal-header")],Ki);const Pe={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){const t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){const{walletImages:t}=Rr.state;return t!=null&&t[r]?t[r]:e?Nr.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e&&r.length>8?`${r.substring(0,8)}..`:r},isMobileAnimation(){return window.innerWidth<=Pe.MOBILE_BREAKPOINT},async preloadImage(r){const e=new Promise((t,n)=>{const i=new Image;i.onload=t,i.onerror=n,i.crossOrigin="anonymous",i.src=r});return Promise.race([e,we.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...n)=>{function i(){r(...n)}t&&clearTimeout(t),t=setTimeout(i,e)}},handleMobileLinking(r){const{walletConnectUri:e}=Ht.state,{mobile:t,name:n}=r,i=t?.native,a=t?.universal;Pe.setRecentWallet(r);function c(u){let f="";i?f=we.formatUniversalUrl(i,u,n):a&&(f=we.formatNativeUrl(a,u,n)),we.openHref(f,"_self")}e&&c(e)},handleAndroidLinking(){const{walletConnectUri:r}=Ht.state;r&&(we.setWalletConnectAndroidDeepLink(r),we.openHref(r,"_self"))},async handleUriCopy(){const{walletConnectUri:r}=Ht.state;if(r)try{await navigator.clipboard.writeText(r),ai.openToast("Link copied","success")}catch{ai.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:r}=Rr.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){try{localStorage.setItem(Pe.WCM_RECENT_WALLET_DATA,JSON.stringify(r))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const r=localStorage.getItem(Pe.WCM_RECENT_WALLET_DATA);return r?JSON.parse(r):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){we.openHref(Pe.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:r,mobile:e}=we.getWalletRouterData(),t=!!r?.native,n=!!r?.universal,i=!!e?.native||!!e?.universal;return{isDesktop:t,isMobile:i,isWeb:n}},goToConnectingView(r){$t.setData({Wallet:r});const e=we.isMobile(),{isDesktop:t,isWeb:n,isMobile:i}=Pe.getCachedRouterWalletPlatforms();e?i?$t.push("MobileConnecting"):n?$t.push("WebConnecting"):$t.push("InstallWallet"):t?$t.push("DesktopConnecting"):n?$t.push("WebConnecting"):i?$t.push("MobileQrcodeConnecting"):$t.push("InstallWallet")}},uO=lt`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var hO=Object.defineProperty,fO=Object.getOwnPropertyDescriptor,zh=(r,e,t,n)=>{for(var i=n>1?void 0:n?fO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&hO(e,t,i),i};let Zo=class extends Ye{constructor(){super(),this.view=$t.state.view,this.prevView=$t.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=$t.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{const e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&Vi(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Pe.getShadowRootElement(this,".wcm-router")}get contentEl(){return Pe.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return ue`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return ue`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return ue`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return ue`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return ue`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return ue`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return ue`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return ue`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return ue`<div>Not Found</div>`}}async onChangeRoute(){await Vi(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=$t.state.view,Vi(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return ue`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};Zo.styles=[rt.globalCss,uO],zh([Lr()],Zo.prototype,"view",2),zh([Lr()],Zo.prototype,"prevView",2),Zo=zh([ot("wcm-modal-router")],Zo);const dO=lt`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var pO=Object.defineProperty,gO=Object.getOwnPropertyDescriptor,wm=(r,e,t,n)=>{for(var i=n>1?void 0:n?gO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&pO(e,t,i),i};let mc=class extends Ye{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=ai.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>ai.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),ai.closeToast()}render(){const{message:r,variant:e}=ai.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?ue`<div class="${jn(t)}">${e==="success"?ht.CHECKMARK_ICON:null} ${e==="error"?ht.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};mc.styles=[rt.globalCss,dO],wm([Lr()],mc.prototype,"open",2),mc=wm([ot("wcm-modal-toast")],mc);const mO=.1,bm=2.5,Fn=7;function qh(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+mO}function vO(r,e){const t=Array.prototype.slice.call(qo.create(r,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(t.length);return t.reduce((i,a,c)=>(c%n===0?i.push([a]):i[i.length-1].push(a))&&i,[])}const yO={generate(r,e,t){const n="#141414",i="#ffffff",a=[],c=vO(r,"Q"),u=e/c.length,f=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];f.forEach(({x:C,y:N})=>{const U=(c.length-Fn)*u*C,H=(c.length-Fn)*u*N,$=.45;for(let P=0;P<f.length;P+=1){const O=u*(Fn-P*2);a.push(Tt`<rect fill="${P%2===0?n:i}" height="${O}" rx="${O*$}" ry="${O*$}" width="${O}" x="${U+u*P}" y="${H+u*P}">`)}});const p=Math.floor((t+25)/u),m=c.length/2-p/2,D=c.length/2+p/2-1,y=[];c.forEach((C,N)=>{C.forEach((U,H)=>{if(c[N][H]&&!(N<Fn&&H<Fn||N>c.length-(Fn+1)&&H<Fn||N<Fn&&H>c.length-(Fn+1))&&!(N>m&&N<D&&H>m&&H<D)){const $=N*u+u/2,P=H*u+u/2;y.push([$,P])}})});const S={};return y.forEach(([C,N])=>{S[C]?S[C].push(N):S[C]=[N]}),Object.entries(S).map(([C,N])=>{const U=N.filter(H=>N.every($=>!qh(H,$,u)));return[Number(C),U]}).forEach(([C,N])=>{N.forEach(U=>{a.push(Tt`<circle cx="${C}" cy="${U}" fill="${n}" r="${u/bm}">`)})}),Object.entries(S).filter(([C,N])=>N.length>1).map(([C,N])=>{const U=N.filter(H=>N.some($=>qh(H,$,u)));return[Number(C),U]}).map(([C,N])=>{N.sort((H,$)=>H<$?-1:1);const U=[];for(const H of N){const $=U.find(P=>P.some(O=>qh(H,O,u)));$?$.push(H):U.push([H])}return[C,U.map(H=>[H[0],H[H.length-1]])]}).forEach(([C,N])=>{N.forEach(([U,H])=>{a.push(Tt`<line x1="${C}" x2="${C}" y1="${U}" y2="${H}" stroke="${n}" stroke-width="${u/(bm/2)}" stroke-linecap="round">`)})}),a}},wO=lt`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var bO=Object.defineProperty,_O=Object.getOwnPropertyDescriptor,Ps=(r,e,t,n)=>{for(var i=n>1?void 0:n?_O(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&bO(e,t,i),i};let Bn=class extends Ye{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const r=oi.state.themeMode==="light"?this.size:this.size-36;return Tt`<svg height="${r}" width="${r}">${yO.generate(this.uri,r,r/4)}</svg>`}render(){const r={"wcm-dark":oi.state.themeMode==="dark"};return ue`<div style="${`width: ${this.size}px`}" class="${jn(r)}">${this.walletId||this.imageUrl?ue`<wcm-wallet-image walletId="${xr(this.walletId)}" imageId="${xr(this.imageId)}" imageUrl="${xr(this.imageUrl)}"></wcm-wallet-image>`:ht.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Bn.styles=[rt.globalCss,wO],Ps([Be()],Bn.prototype,"uri",2),Ps([Be({type:Number})],Bn.prototype,"size",2),Ps([Be()],Bn.prototype,"imageId",2),Ps([Be()],Bn.prototype,"walletId",2),Ps([Be()],Bn.prototype,"imageUrl",2),Bn=Ps([ot("wcm-qrcode")],Bn);const EO=lt`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var xO=Object.defineProperty,SO=Object.getOwnPropertyDescriptor,_m=(r,e,t,n)=>{for(var i=n>1?void 0:n?SO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&xO(e,t,i),i};let vc=class extends Ye{constructor(){super(...arguments),this.onChange=()=>null}render(){return ue`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${ht.SEARCH_ICON}`}};vc.styles=[rt.globalCss,EO],_m([Be()],vc.prototype,"onChange",2),vc=_m([ot("wcm-search-input")],vc);const DO=lt`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var OO=Object.defineProperty,CO=Object.getOwnPropertyDescriptor,IO=(r,e,t,n)=>{for(var i=n>1?void 0:n?CO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&OO(e,t,i),i};let Wh=class extends Ye{render(){return ue`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Wh.styles=[rt.globalCss,DO],Wh=IO([ot("wcm-spinner")],Wh);const $O=lt`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var AO=Object.defineProperty,PO=Object.getOwnPropertyDescriptor,Vh=(r,e,t,n)=>{for(var i=n>1?void 0:n?PO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&AO(e,t,i),i};let Jo=class extends Ye{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return ue`<span><slot class="${jn(r)}"></slot></span>`}};Jo.styles=[rt.globalCss,$O],Vh([Be()],Jo.prototype,"variant",2),Vh([Be()],Jo.prototype,"color",2),Jo=Vh([ot("wcm-text")],Jo);const TO=lt`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var RO=Object.defineProperty,NO=Object.getOwnPropertyDescriptor,di=(r,e,t,n)=>{for(var i=n>1?void 0:n?NO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&RO(e,t,i),i};let On=class extends Ye{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?ue`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?ue`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){ig.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return ue`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${xr(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:Pe.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};On.styles=[rt.globalCss,TO],di([Be()],On.prototype,"onClick",2),di([Be()],On.prototype,"name",2),di([Be()],On.prototype,"walletId",2),di([Be()],On.prototype,"label",2),di([Be()],On.prototype,"imageId",2),di([Be({type:Boolean})],On.prototype,"installed",2),di([Be({type:Boolean})],On.prototype,"recent",2),On=di([ot("wcm-wallet-button")],On);const LO=lt`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var MO=Object.defineProperty,UO=Object.getOwnPropertyDescriptor,yc=(r,e,t,n)=>{for(var i=n>1?void 0:n?UO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&MO(e,t,i),i};let Ts=class extends Ye{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;const e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:Pe.getWalletIcon({id:this.walletId,image_id:this.imageId});return ue`${e.length?ue`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:ht.WALLET_PLACEHOLDER}`}};Ts.styles=[rt.globalCss,LO],yc([Be()],Ts.prototype,"walletId",2),yc([Be()],Ts.prototype,"imageId",2),yc([Be()],Ts.prototype,"imageUrl",2),Ts=yc([ot("wcm-wallet-image")],Ts);var jO=Object.defineProperty,FO=Object.getOwnPropertyDescriptor,Em=(r,e,t,n)=>{for(var i=n>1?void 0:n?FO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&jO(e,t,i),i};let Kh=class extends Ye{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r!=null&&r.length&&await Promise.all(r.map(async e=>Pe.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(Rr.state.enableExplorer){await Nr.getRecomendedWallets(),Ht.setIsDataLoaded(!0);const{recomendedWallets:r}=Nr.state,e=r.map(t=>Pe.getWalletIcon(t));await this.loadImages(e)}else Ht.setIsDataLoaded(!0)}async preloadCustomImages(){const r=Pe.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),ai.openToast("Failed preloading","error")}}};Em([Lr()],Kh.prototype,"preload",2),Kh=Em([ot("wcm-explorer-context")],Kh);var BO=Object.defineProperty,kO=Object.getOwnPropertyDescriptor,HO=(r,e,t,n)=>{for(var i=n>1?void 0:n?kO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&BO(e,t,i),i};let xm=class extends Ye{constructor(){super(),this.unsubscribeTheme=void 0,rt.setTheme(),this.unsubscribeTheme=oi.subscribe(rt.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};xm=HO([ot("wcm-theme-context")],xm);const zO=lt`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var qO=Object.defineProperty,WO=Object.getOwnPropertyDescriptor,VO=(r,e,t,n)=>{for(var i=n>1?void 0:n?WO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&qO(e,t,i),i};let Gh=class extends Ye{onGoToQrcode(){$t.push("Qrcode")}render(){const{recomendedWallets:r}=Nr.state,e=[...r,...r],t=we.RECOMMENDED_WALLET_AMOUNT*2;return ue`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ht.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${ht.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((n,i)=>{const a=e[i%e.length];return a?ue`<wcm-wallet-image walletId="${a.id}" imageId="${a.image_id}"></wcm-wallet-image>`:ht.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${Pe.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Gh.styles=[rt.globalCss,zO],Gh=VO([ot("wcm-android-wallet-selection")],Gh);const KO=lt`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var GO=Object.defineProperty,YO=Object.getOwnPropertyDescriptor,Rs=(r,e,t,n)=>{for(var i=n>1?void 0:n?YO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&GO(e,t,i),i};let pi=class extends Ye{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;const t=(e=(r=oi.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:rt.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;t.includes("%")?n=88/100*parseInt(t,10):n=parseInt(t,10),n*=1.17;const i=317-n*1.57,a=425-n*1.8;return ue`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${i}" stroke-dashoffset="${a}"></use></svg>`}render(){const r={"wcm-error":this.isError,"wcm-stale":this.isStale};return ue`<div class="${jn(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${xr(this.walletId)}" imageId="${xr(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};pi.styles=[rt.globalCss,KO],Rs([Be()],pi.prototype,"walletId",2),Rs([Be()],pi.prototype,"imageId",2),Rs([Be({type:Boolean})],pi.prototype,"isError",2),Rs([Be({type:Boolean})],pi.prototype,"isStale",2),Rs([Be()],pi.prototype,"label",2),pi=Rs([ot("wcm-connector-waiting")],pi);const Ns={manualWallets(){var r,e;const{mobileWallets:t,desktopWallets:n}=Rr.state,i=(r=Ns.recentWallet())==null?void 0:r.id,a=we.isMobile()?t:n,c=a?.filter(u=>i!==u.id);return(e=we.isMobile()?c?.map(({id:u,name:f,links:p})=>({id:u,name:f,mobile:p,links:p})):c?.map(({id:u,name:f,links:p})=>({id:u,name:f,desktop:p,links:p})))!=null?e:[]},recentWallet(){return Pe.getRecentWallet()},recomendedWallets(r=!1){var e;const t=r||(e=Ns.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=Nr.state;return n.filter(i=>t!==i.id)}},gi={onConnecting(r){Pe.goToConnectingView(r)},manualWalletsTemplate(){return Ns.manualWallets().map(r=>ue`<wcm-wallet-button walletId="${r.id}" name="${r.name}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return Ns.recomendedWallets(r).map(e=>ue`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recentWalletTemplate(){const r=Ns.recentWallet();if(r)return ue`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${xr(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},ZO=lt`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var JO=Object.defineProperty,QO=Object.getOwnPropertyDescriptor,XO=(r,e,t,n)=>{for(var i=n>1?void 0:n?QO(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&JO(e,t,i),i};let Yh=class extends Ye{render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=Rr.state,t=r!=="ALL"&&e,n=gi.manualWalletsTemplate(),i=gi.recomendedWalletsTemplate();let a=[gi.recentWalletTemplate(),...n,...i];a=a.filter(Boolean);const c=a.length>4||t;let u=[];c?u=a.slice(0,3):u=a;const f=!!u.length;return ue`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Pe.handleUriCopy}" .actionIcon="${ht.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${ht.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${ht.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${f?ue`<wcm-modal-footer><div class="wcm-desktop-title">${ht.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${u} ${c?ue`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};Yh.styles=[rt.globalCss,ZO],Yh=XO([ot("wcm-desktop-wallet-selection")],Yh);const eC=lt`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var tC=Object.defineProperty,rC=Object.getOwnPropertyDescriptor,nC=(r,e,t,n)=>{for(var i=n>1?void 0:n?rC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&tC(e,t,i),i};let Zh=class extends Ye{render(){const{termsOfServiceUrl:r,privacyPolicyUrl:e}=Rr.state;return r??e?ue`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?ue`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?ue`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Zh.styles=[rt.globalCss,eC],Zh=nC([ot("wcm-legal-notice")],Zh);const iC=lt`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var sC=Object.defineProperty,oC=Object.getOwnPropertyDescriptor,aC=(r,e,t,n)=>{for(var i=n>1?void 0:n?oC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&sC(e,t,i),i};let Jh=class extends Ye{onQrcode(){$t.push("Qrcode")}render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=Rr.state,t=r!=="ALL"&&e,n=gi.manualWalletsTemplate(),i=gi.recomendedWalletsTemplate();let a=[gi.recentWalletTemplate(),...n,...i];a=a.filter(Boolean);const c=a.length>8||t;let u=[];c?u=a.slice(0,7):u=a;const f=!!u.length;return ue`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${ht.QRCODE_ICON}"></wcm-modal-header>${f?ue`<wcm-modal-content><div>${u} ${c?ue`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};Jh.styles=[rt.globalCss,iC],Jh=aC([ot("wcm-mobile-wallet-selection")],Jh);const cC=lt`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var lC=Object.defineProperty,uC=Object.getOwnPropertyDescriptor,Qh=(r,e,t,n)=>{for(var i=n>1?void 0:n?uC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&lC(e,t,i),i};let Ls=class extends Ye{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=Fi.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return Pe.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Pe.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){document.querySelector("body")&&(r?document.getElementById("wcm-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}onCloseModal(r){r.target===r.currentTarget&&Fi.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const r=Pe.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([Vi(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,Vi(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const r=Pe.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([Vi(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,Vi(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?Fi.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){const r={"wcm-overlay":!0,"wcm-active":this.active};return ue`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${jn(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?ue`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};Ls.styles=[rt.globalCss,cC],Qh([Lr()],Ls.prototype,"open",2),Qh([Lr()],Ls.prototype,"active",2),Ls=Qh([ot("wcm-modal")],Ls);const hC=lt`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var fC=Object.defineProperty,dC=Object.getOwnPropertyDescriptor,Qo=(r,e,t,n)=>{for(var i=n>1?void 0:n?dC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&fC(e,t,i),i};let Gi=class extends Ye{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){we.isMobile()?$t.replace("MobileConnecting"):$t.replace("MobileQrcodeConnecting")}onDesktop(){$t.replace("DesktopConnecting")}onWeb(){$t.replace("WebConnecting")}render(){return ue`<div>${this.isRetry?ue`<slot></slot>`:null} ${this.isMobile?ue`<wcm-button .onClick="${this.onMobile}" .iconLeft="${ht.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?ue`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${ht.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?ue`<wcm-button .onClick="${this.onWeb}" .iconLeft="${ht.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};Gi.styles=[rt.globalCss,hC],Qo([Be({type:Boolean})],Gi.prototype,"isMobile",2),Qo([Be({type:Boolean})],Gi.prototype,"isDesktop",2),Qo([Be({type:Boolean})],Gi.prototype,"isWeb",2),Qo([Be({type:Boolean})],Gi.prototype,"isRetry",2),Gi=Qo([ot("wcm-platform-selection")],Gi);const pC=lt`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var gC=Object.defineProperty,mC=Object.getOwnPropertyDescriptor,vC=(r,e,t,n)=>{for(var i=n>1?void 0:n?mC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&gC(e,t,i),i};let Xh=class extends Ye{onClick(){$t.push("WalletExplorer")}render(){const{recomendedWallets:r}=Nr.state,e=Ns.manualWallets(),t=[...r,...e].reverse().slice(0,4);return ue`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(n=>{const i=Pe.getWalletIcon(n);if(i)return ue`<img crossorigin="anonymous" src="${i}">`;const a=Pe.getWalletIcon({id:n.id});return a?ue`<img crossorigin="anonymous" src="${a}">`:ht.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>ht.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Xh.styles=[rt.globalCss,pC],Xh=vC([ot("wcm-view-all-wallets-button")],Xh);const yC=lt`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var wC=Object.defineProperty,bC=Object.getOwnPropertyDescriptor,wc=(r,e,t,n)=>{for(var i=n>1?void 0:n?bC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&wC(e,t,i),i};let Ms=class extends Ye{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:r}=Ht.state;this.uri=r},0)}get overlayEl(){return Pe.getShadowRootElement(this,".wcm-qr-container")}render(){return ue`<div class="wcm-qr-container">${this.uri?ue`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${xr(this.walletId)}" imageId="${xr(this.imageId)}"></wcm-qrcode>`:ue`<wcm-spinner></wcm-spinner>`}</div>`}};Ms.styles=[rt.globalCss,yC],wc([Be()],Ms.prototype,"walletId",2),wc([Be()],Ms.prototype,"imageId",2),wc([Lr()],Ms.prototype,"uri",2),Ms=wc([ot("wcm-walletconnect-qr")],Ms);var _C=Object.defineProperty,EC=Object.getOwnPropertyDescriptor,xC=(r,e,t,n)=>{for(var i=n>1?void 0:n?EC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&_C(e,t,i),i};let ef=class extends Ye{viewTemplate(){return we.isAndroid()?ue`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:we.isMobile()?ue`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:ue`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return ue`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};ef.styles=[rt.globalCss],ef=xC([ot("wcm-connect-wallet-view")],ef);const SC=lt`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var DC=Object.defineProperty,OC=Object.getOwnPropertyDescriptor,Sm=(r,e,t,n)=>{for(var i=n>1?void 0:n?OC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&DC(e,t,i),i};let bc=class extends Ye{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){const{desktop:e,name:t}=we.getWalletRouterData(),n=e?.native;if(n){const i=we.formatNativeUrl(n,r,t);we.openHref(i,"_self")}}openDesktopApp(){const{walletConnectUri:r}=Ht.state,e=we.getWalletRouterData();Pe.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=we.getWalletRouterData(),{isMobile:n,isWeb:i}=Pe.getCachedRouterWalletPlatforms();return ue`<wcm-modal-header title="${r}" .onAction="${Pe.handleUriCopy}" .actionIcon="${ht.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${xr(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${ht.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};bc.styles=[rt.globalCss,SC],Sm([Lr()],bc.prototype,"isError",2),bc=Sm([ot("wcm-desktop-connecting-view")],bc);const CC=lt`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var IC=Object.defineProperty,$C=Object.getOwnPropertyDescriptor,AC=(r,e,t,n)=>{for(var i=n>1?void 0:n?$C(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&IC(e,t,i),i};let tf=class extends Ye{onInstall(r){r&&we.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,homepage:n}=we.getWalletRouterData();return ue`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${xr(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${ht.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};tf.styles=[rt.globalCss,CC],tf=AC([ot("wcm-install-wallet-view")],tf);const PC=lt`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var TC=Object.defineProperty,RC=Object.getOwnPropertyDescriptor,Dm=(r,e,t,n)=>{for(var i=n>1?void 0:n?RC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&TC(e,t,i),i};let _c=class extends Ye{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){const{mobile:t,name:n}=we.getWalletRouterData(),i=t?.native,a=t?.universal;if(i&&!e){const c=we.formatNativeUrl(i,r,n);we.openHref(c,"_self")}else if(a){const c=we.formatUniversalUrl(a,r,n);we.openHref(c,"_self")}}openMobileApp(r=!1){const{walletConnectUri:e}=Ht.state,t=we.getWalletRouterData();Pe.setRecentWallet(t),e&&this.onFormatAndRedirect(e,r)}onGoToAppStore(r){r&&we.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,app:n,mobile:i}=we.getWalletRouterData(),{isWeb:a}=Pe.getCachedRouterWalletPlatforms(),c=n?.ios,u=i?.universal;return ue`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${xr(t)}" label="Tap 'Open' to continue" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${a}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${ht.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${u?ue`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${xr(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${ht.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(c)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};_c.styles=[rt.globalCss,PC],Dm([Lr()],_c.prototype,"isError",2),_c=Dm([ot("wcm-mobile-connecting-view")],_c);const NC=lt`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var LC=Object.defineProperty,MC=Object.getOwnPropertyDescriptor,UC=(r,e,t,n)=>{for(var i=n>1?void 0:n?MC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&LC(e,t,i),i};let rf=class extends Ye{render(){const{name:r,id:e,image_id:t}=we.getWalletRouterData(),{isDesktop:n,isWeb:i}=Pe.getCachedRouterWalletPlatforms();return ue`<wcm-modal-header title="${r}" .onAction="${Pe.handleUriCopy}" .actionIcon="${ht.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${xr(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};rf.styles=[rt.globalCss,NC],rf=UC([ot("wcm-mobile-qr-connecting-view")],rf);var jC=Object.defineProperty,FC=Object.getOwnPropertyDescriptor,BC=(r,e,t,n)=>{for(var i=n>1?void 0:n?FC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&jC(e,t,i),i};let nf=class extends Ye{render(){return ue`<wcm-modal-header title="Scan the code" .onAction="${Pe.handleUriCopy}" .actionIcon="${ht.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};nf.styles=[rt.globalCss],nf=BC([ot("wcm-qrcode-view")],nf);const kC=lt`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var HC=Object.defineProperty,zC=Object.getOwnPropertyDescriptor,Xo=(r,e,t,n)=>{for(var i=n>1?void 0:n?zC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&HC(e,t,i),i};const sf=40;let Yi=class extends Ye{constructor(){super(...arguments),this.loading=!Nr.state.wallets.listings.length,this.firstFetch=!Nr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Pe.debounce(r=>{r.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=r,Nr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),Nr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return Pe.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:r,search:e}=Nr.state,{listings:t,total:n}=this.search?e:r;return n<=sf||t.length>=n}async fetchWallets(){var r;const{wallets:e,search:t}=Nr.state,{listings:n,total:i,page:a}=this.search?t:e;if(!this.endReached&&(this.firstFetch||i>sf&&n.length<i))try{this.loading=!0;const c=(r=Ht.state.chains)==null?void 0:r.join(","),{listings:u}=await Nr.getWallets({page:this.firstFetch?1:a+1,entries:sf,search:this.search,version:2,chains:c}),f=u.map(p=>Pe.getWalletIcon(p));await Promise.all([...f.map(async p=>Pe.preloadImage(p)),we.wait(300)]),this.endReached=this.isLastPage()}catch(c){console.error(c),ai.openToast(Pe.getErrorMessage(c),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){we.isAndroid()?Pe.handleMobileLinking(r):Pe.goToConnectingView(r)}onSearchChange(r){const{value:e}=r.target;this.searchDebounce(e)}render(){const{wallets:r,search:e}=Nr.state,{listings:t}=this.search?e:r,n=this.loading&&!t.length,i=this.search.length>=3;let a=gi.manualWalletsTemplate(),c=gi.recomendedWalletsTemplate(!0);i&&(a=a.filter(({values:p})=>Pe.caseSafeIncludes(p[0],this.search)),c=c.filter(({values:p})=>Pe.caseSafeIncludes(p[0],this.search)));const u=!this.loading&&!t.length&&!c.length,f={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":u};return ue`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${jn(f)}"><div class="wcm-grid">${n?null:a} ${n?null:c} ${n?null:t.map(p=>ue`${p?ue`<wcm-wallet-button imageId="${p.image_id}" name="${p.name}" walletId="${p.id}" .onClick="${()=>this.onConnect(p)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${u?ue`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!u&&this.loading?ue`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Yi.styles=[rt.globalCss,kC],Xo([Lr()],Yi.prototype,"loading",2),Xo([Lr()],Yi.prototype,"firstFetch",2),Xo([Lr()],Yi.prototype,"search",2),Xo([Lr()],Yi.prototype,"endReached",2),Yi=Xo([ot("wcm-wallet-explorer-view")],Yi);const qC=lt`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var WC=Object.defineProperty,VC=Object.getOwnPropertyDescriptor,Om=(r,e,t,n)=>{for(var i=n>1?void 0:n?VC(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&WC(e,t,i),i};let Ec=class extends Ye{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){const{desktop:e,name:t}=we.getWalletRouterData(),n=e?.universal;if(n){const i=we.formatUniversalUrl(n,r,t);we.openHref(i,"_blank")}}openWebWallet(){const{walletConnectUri:r}=Ht.state,e=we.getWalletRouterData();Pe.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=we.getWalletRouterData(),{isMobile:n,isDesktop:i}=Pe.getCachedRouterWalletPlatforms(),a=we.isMobile();return ue`<wcm-modal-header title="${r}" .onAction="${Pe.handleUriCopy}" .actionIcon="${ht.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${xr(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${a?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${ht.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Ec.styles=[rt.globalCss,qC],Om([Lr()],Ec.prototype,"isError",2),Ec=Om([ot("wcm-web-connecting-view")],Ec);var KC=Object.freeze({__proto__:null,get WcmModal(){return Ls},get WcmQrCode(){return Bn}});un.EthereumProvider=vx,un.OPTIONAL_EVENTS=Q1,un.OPTIONAL_METHODS=J1,un.REQUIRED_EVENTS=Ga,un.REQUIRED_METHODS=Ka,un.default=Za,Object.defineProperty(un,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
